!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="assets/",r(r.s=121)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(74)()},function(e,t,n){var o;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))!n.length||(o=s.apply(null,n))&&e.push(o);else if("object"==r)if(n.toString===Object.prototype.toString)for(var i in n)a.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!i.call(t,n[r])||!a(e[n[r]],t[n[r]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,a,s){var c,l,u;if(!e)throw void 0===t?u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(c=[n,o,r,i,a,s],l=0,(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"),u.framesToPop=1,u}},function(e,o,r){"use strict";!function(e,t){var n=r(27),t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=Object(n.a)(t);o.a=t}.call(this,r(116),r(117)(e))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=o(n(0)),n=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return e=e[t],t=void 0===e?"undefined":i(e),a.default.isValidElement(e)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===t&&"function"==typeof e.render||1===e.nodeType?null:new Error("Invalid "+o+" `"+r+"` of value `"+e+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l){function e(e,t,n,o,r,i){o=o||"<<anonymous>>",i=i||n;if(null==t[n])return e?new Error("Required "+r+" `"+i+"` was not specified in `"+o+"`."):null;for(var a=arguments.length,s=Array(6<a?a-6:0),c=6;c<a;c++)s[c-6]=arguments[c];return l.apply(void 0,[t,n,o,r,i].concat(s))}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,i.default.findDOMNode(e)||t};var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(o.default.findDOMNode(e))};var o=i(n(3)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(c){return function(e,t,n,o,r){if(null==e[t])return new Error("The "+o+" `"+(r||t)+"` is required to make `"+(n||"<<anonymous>>")+"` accessible for users of assistive technologies such as screen readers.");for(var i=arguments.length,a=Array(5<i?i-5:0),s=5;s<i;s++)a[s-5]=arguments[s];return c.apply(void 0,[e,t,n,o,r].concat(a))}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var n=[],o=n;function r(){o===n&&(o=n.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return r(),o.push(t),function(){var e;n&&(n=!1,r(),e=o.indexOf(t),o.splice(e,1))}},emit:function(){for(var e=n=o,t=0;t<e.length;t++)e[t].apply(e,arguments)}}}},,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(e){return(0,r.default)(e.replace(i,"ms-"))};var r=o(n(86)),i=/^-ms-/;e.exports=t.default},function(e,t,n){e.exports=n.p+"last.09f1f52d823b4373697199136e1dc87e.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.default)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null;return r.forEach(function(e){null!=o||null!=(e=e.apply(void 0,t))&&(o=e)}),o})};var o,r=n(12),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){e.exports=n.p+"ccns.3cf976b74a18dc5092533de6078ef494.png"},function(e,t,n){"use strict";t.__esModule=!0;var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=E(n(72)),r=E(n(73)),a=E(n(6)),i=E(n(1)),s=E(n(11)),c=E(n(76)),l=E(n(77)),v=n(0),b=E(v),u=E(n(3)),f=E(n(80)),d=E(n(81)),y=E(n(97)),w=E(n(99)),h=E(n(100)),p=E(n(103)),m=E(n(13)),x=E(n(14));function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C,k=new d.default,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(S,C=b.default.Component),S.prototype.omitProps=function(t,n){var e=Object.keys(t),o={};return e.map(function(e){Object.prototype.hasOwnProperty.call(n,e)||(o[e]=t[e])}),o},S.prototype.render=function(){var e=this.props,t=e.show,n=e.container,o=e.children,r=e.transition,i=e.backdrop,a=e.dialogTransitionTimeout,s=e.className,c=e.style,l=e.onExit,u=e.onExiting,f=e.onEnter,d=e.onEntering,h=e.onEntered,p=b.default.Children.only(o),m=this.omitProps(this.props,S.propTypes);if(!(t||r&&!this.state.exited))return null;e=p.props,o=e.role,e=e.tabIndex;return void 0!==o&&void 0!==e||(p=(0,v.cloneElement)(p,{role:void 0===o?"document":o,tabIndex:null==e?"-1":e})),r&&(p=b.default.createElement(r,{transitionAppear:!0,unmountOnExit:!0,in:t,timeout:a,onExit:l,onExiting:u,onExited:this.handleHidden,onEnter:f,onEntering:d,onEntered:h},p)),b.default.createElement(y.default,{ref:this.setMountNode,container:n,onRendered:this.onPortalRendered},b.default.createElement("div",g({ref:this.setModalNodeRef,role:o||"dialog"},m,{style:c,className:s}),i&&this.renderBackdrop(),b.default.createElement(w.default,{ref:this.setDialogRef},p)))},S.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},S.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},S.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},S.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},S.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,e=e.transition;this._isMounted=!1,(t||e&&!this.state.exited)&&this.onHide()},S.prototype.autoFocus=function(){var e,t;this.props.autoFocus&&(e=this.getDialogElement(),t=(0,o.default)((0,x.default)(this)),e&&!(0,r.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,f.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus()))},S.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},S.prototype.getDialogElement=function(){return u.default.findDOMNode(this.dialog)},S.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},S);function S(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=_(this,C.call.apply(C,[this].concat(o))),O.call(e=t),_(t,e)}n.propTypes=g({},y.default.propTypes,{show:i.default.bool,container:i.default.oneOfType([s.default,i.default.func]),onShow:i.default.func,onHide:i.default.func,backdrop:i.default.oneOfType([i.default.bool,i.default.oneOf(["static"])]),renderBackdrop:i.default.func,onEscapeKeyDown:i.default.func,onEscapeKeyUp:(0,c.default)(i.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:i.default.func,backdropStyle:i.default.object,backdropClassName:i.default.string,containerClassName:i.default.string,keyboard:i.default.bool,transition:l.default,dialogTransitionTimeout:i.default.number,backdropTransitionTimeout:i.default.number,autoFocus:i.default.bool,enforceFocus:i.default.bool,restoreFocus:i.default.bool,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func,manager:i.default.object.isRequired}),n.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:k,renderBackdrop:function(e){return b.default.createElement("div",e)}};var O=function(){var i=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=i.props,t=e.backdropStyle,n=e.backdropClassName,o=e.renderBackdrop,r=e.transition,e=e.backdropTransitionTimeout,n=o({ref:function(e){return i.backdrop=e},style:t,className:n,onClick:i.handleBackdropClick});return n=r?b.default.createElement(r,{transitionAppear:!0,in:i.props.show,timeout:e},n):n},this.onPortalRendered=function(){i.autoFocus(),i.props.onShow&&i.props.onShow()},this.onShow=function(){var e=(0,x.default)(i),t=(0,m.default)(i.props.container,e.body);i.props.manager.add(i,t,i.props.containerClassName),i._onDocumentKeydownListener=(0,h.default)(e,"keydown",i.handleDocumentKeyDown),i._onDocumentKeyupListener=(0,h.default)(e,"keyup",i.handleDocumentKeyUp),i._onFocusinListener=(0,p.default)(i.enforceFocus)},this.onHide=function(){i.props.manager.remove(i),i._onDocumentKeydownListener.remove(),i._onDocumentKeyupListener.remove(),i._onFocusinListener.remove(),i.props.restoreFocus&&i.restoreLastFocus()},this.setMountNode=function(e){i.mountNode=e&&e.getMountNode()},this.setModalNodeRef=function(e){i.modalNode=e},this.setDialogRef=function(e){i.dialog=e},this.handleHidden=function(){var e;i.setState({exited:!0}),i.onHide(),i.props.onExited&&(e=i.props).onExited.apply(e,arguments)},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(i.props.onBackdropClick&&i.props.onBackdropClick(e),!0===i.props.backdrop&&i.props.onHide())},this.handleDocumentKeyDown=function(e){i.props.keyboard&&27===e.keyCode&&i.isTopModal()&&(i.props.onEscapeKeyDown&&i.props.onEscapeKeyDown(e),i.props.onHide())},this.handleDocumentKeyUp=function(e){i.props.keyboard&&27===e.keyCode&&i.isTopModal()&&i.props.onEscapeKeyUp&&i.props.onEscapeKeyUp(e)},this.checkForFocus=function(){a.default&&(i.lastFocus=(0,o.default)())},this.enforceFocus=function(){var e,t;i.props.enforceFocus&&i._isMounted&&i.isTopModal()&&(e=i.getDialogElement(),t=(0,o.default)((0,x.default)(i)),e&&!(0,r.default)(e,t)&&e.focus())}};n.Manager=d.default,t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.decode=t.parse=n(104),t.encode=t.stringify=n(105)},function(e,t){var n="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=n.length,r=n.split("").reduce(function(e,t,n){return e[t]=n,e},{});t.encode=function(e){var t="";for(function(e){if("number"!=typeof e||isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER||Math.floor(e)!==e)throw new Error("Value passed is not a non-negative safe integer.")}(e=Number(e));o<=e;)t=n[e%o]+t,e=Math.floor(e/o);return n[e]+t},t.decode=function(e){return function(e){if("string"!=typeof e)throw new Error("Value passed is not a string.")}(e),e.split("").reverse().reduce(function(e,t,n){return function(e){if(void 0===r[e])throw new Error("Value passed is not a valid Base58 string.")}(t),e+r[t]*Math.pow(o,n)},0)}},function(e,t,n){"use strict";var l={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=m&&m(Object);e.exports=function e(t,n,o){if("string"==typeof n)return t;var r;!g||(r=m(n))&&r!==g&&e(t,r,o);var i=d(n);h&&(i=i.concat(h(n)));for(var a=0;a<i.length;++a){var s=i[a];if(!(l[s]||u[s]||o&&o[s])){var c=p(n,s);try{f(t,s,c)}catch(e){}}}return t}},function(e,t,n){"use strict";function o(e){var t,e=e.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}n.d(t,"a",function(){return o})},function(e,t){e.exports=jQuery},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,r.default)());try{return e.activeElement}catch(e){}};var r=o(n(10));e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=void 0;n=o(n(6)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r;function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=n,e.exports=t.default},function(e,t,n){"use strict";var a=n(75);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,i){if(i!==a){i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o,r=n(5),f=(o=r)&&o.__esModule?o:{default:o};var d={};function i(l,u){return function(e,t,n,o,r){var i;null!=e[t]&&((0,f.default)(d[i=n+"."+t],"The "+o+" `"+(r||t)+"` of `"+(n||"<<anonymous>>")+"` is deprecated. "+u+"."),d[i]=!0);for(var a=arguments.length,s=Array(5<a?a-5:0),c=5;c<a;c++)s[c-5]=arguments[c];return l.apply(void 0,[e,t,n,o,r].concat(s))}}i._resetWarned=function(){d={}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=n(78),n=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return t=e[t],i.default.isValidElement(t)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,a.isValidElementType)(t)?null:new Error("Invalid "+o+" `"+r+"` of value `"+t+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")}),e.exports=t.default},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o="function"==typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,a=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,y=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,x=o?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case d:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case v:case g:case l:return e;default:return t}}case i:return t}}}function _(e){return E(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||E(e)===f},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===c||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===x||e.$$typeof===b)},t.typeOf=E},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0;var f=o(n(82)),a=o(n(85)),s=o(n(93)),c=o(n(94)),d=n(96);function o(e){return e&&e.__esModule?e:{default:e}}n=function e(){var u=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.hideSiblingNodes,n=void 0===n||n,t=t.handleContainerOverflow,t=void 0===t||t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,t,n){var o=u.modals.indexOf(e),r=u.containers.indexOf(t);if(-1!==o)return o;if(o=u.modals.length,u.modals.push(e),u.hideSiblingNodes&&(0,d.hideSiblings)(t,e.mountNode),-1!==r)return u.data[r].modals.push(e),o;var i={modals:[e],classes:n?n.split(/\s+/):[],overflowing:(0,c.default)(t)};return u.handleContainerOverflow&&(r=t,e={overflow:"hidden"},(n=i).style={overflow:r.style.overflow,paddingRight:r.style.paddingRight},n.overflowing&&(e.paddingRight=parseInt((0,a.default)(r,"paddingRight")||0,10)+(0,s.default)()+"px"),(0,a.default)(r,e)),i.classes.forEach(f.default.addClass.bind(null,t)),u.containers.push(t),u.data.push(i),o},this.remove=function(e){var t,n,o,r,i,a,s,c,l=u.modals.indexOf(e);-1!==l&&(a=u.data,n=e,o=function(e){return-1!==e.modals.indexOf(n)},r=-1,a.some(function(e,t){if(o(e,t))return r=t,!0}),t=r,i=u.data[t],a=u.containers[t],i.modals.splice(i.modals.indexOf(e),1),u.modals.splice(l,1),0===i.modals.length?(i.classes.forEach(f.default.removeClass.bind(null,a)),u.handleContainerOverflow&&(s=a,c=i.style,Object.keys(c).forEach(function(e){return s.style[e]=c[e]})),u.hideSiblingNodes&&(0,d.showSiblings)(a,e.mountNode),u.containers.splice(t,1),u.data.splice(t,1)):u.hideSiblingNodes&&(0,d.ariaHidden)(!1,i.modals[i.modals.length-1].mountNode))},this.isTopModal=function(e){return!!u.modals.length&&u.modals[u.modals.length-1]===e},this.hideSiblingNodes=n,this.handleContainerOverflow=t,this.modals=[],this.containers=[],this.data=[]};t.default=n,e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=void 0;var r=o(n(83));t.addClass=r.default;var i=o(n(84));t.removeClass=i.default;n=o(n(18));t.hasClass=n.default;n={addClass:r.default,removeClass:i.default,hasClass:n.default};t.default=n},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=o(n(18));e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(n,e,t){var o="",r="",i=e;if("string"==typeof e){if(void 0===t)return n.style[(0,a.default)(e)]||(0,c.default)(n).getPropertyValue((0,s.default)(e));(i={})[e]=t}Object.keys(i).forEach(function(e){var t=i[e];t||0===t?(0,f.default)(e)?r+=e+"("+t+") ":o+=(0,s.default)(e)+": "+t+";":(0,l.default)(n,(0,s.default)(e))}),r&&(o+=u.transform+": "+r+";");n.style.cssText+=";"+o};var a=o(n(19)),s=o(n(87)),c=o(n(89)),l=o(n(90)),u=n(91),f=o(n(92));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,function(e,t){return t.toUpperCase()})};var o=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(e){return(0,r.default)(e).replace(i,"-ms-")};var r=o(n(88)),i=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,"-$1").toLowerCase()};var o=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(a){if(!a)throw new TypeError("No Element passed to `getComputedStyle()`");var e=a.ownerDocument;return"defaultView"in e?(e.defaultView.opener?a.ownerDocument.defaultView:window).getComputedStyle(a,null):{getPropertyValue:function(e){var t=a.style;e=(0,s.default)(e);var n,o,r,i=a.currentStyle[e="float"==e?"styleFloat":e]||null;return null==i&&t&&t[e]&&(i=t[e]),l.test(i)&&!c.test(e)&&(n=t.left,(r=(o=a.runtimeStyle)&&o.left)&&(o.left=a.currentStyle.left),t.left="fontSize"===e?"1em":i,i=t.pixelLeft+"px",t.left=n,r&&(o.left=r)),i}}};var s=o(n(19)),c=/^(top|right|bottom|left)$/,l=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,i,a,s,c,l,u,f,d,h,p=o(n(6)),o="transform";t.transform=o,t.animationEnd=i,t.transitionEnd=r,t.transitionDelay=l,t.transitionTiming=c,t.transitionDuration=s,t.transitionProperty=a,t.animationDelay=h,t.animationTiming=d,t.animationDuration=f,t.animationName=u,p.default&&(p=(n=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(o),i="",a=0;a<r.length;a++){var s=r[a];if(s+"TransitionProperty"in n){i="-"+s.toLowerCase(),e=o[s]("TransitionEnd"),t=o[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}()).prefix,t.transitionEnd=r=n.transitionEnd,t.animationEnd=i=n.animationEnd,t.transform=o=p+"-"+o,t.transitionProperty=a=p+"-transition-property",t.transitionDuration=s=p+"-transition-duration",t.transitionDelay=l=p+"-transition-delay",t.transitionTiming=c=p+"-transition-timing-function",t.animationName=u=p+"-animation-name",t.animationDuration=f=p+"-animation-duration",t.animationTiming=d=p+"-animation-delay",t.animationDelay=h=p+"-animation-timing-function"),t.default={transform:o,end:r,property:a,timing:c,delay:l,duration:s}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!o.test(e))};var o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=function(e){(!r&&0!==r||e)&&i.default&&((e=document.createElement("div")).style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e));return r};var r,i=o(n(6));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(e)||function(e){return e&&"body"===e.tagName.toLowerCase()}(e)?function(e){var t=(0,r.default)(e),n=(0,o.default)(t).innerWidth;n||(e=t.documentElement.getBoundingClientRect(),n=e.right-Math.abs(e.left));return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight};var o=i(n(95)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=r,t.hideSiblings=function(e,t){o(e,t,function(e){return r(!0,e)})},t.showSiblings=function(e,t){o(e,t,function(e){return r(!1,e)})};var i=["template","script","style"],o=function(e,o,r){o=[].concat(o),[].forEach.call(e.children,function(e){var t,n;-1===o.indexOf(e)&&(n=(t=e).nodeType,t=e.tagName,1===n&&-1===i.indexOf(t.toLowerCase()))&&r(e)})};function r(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(1)),r=l(n(11)),i=l(n(0)),a=l(n(3)),s=l(n(13)),c=l(n(14)),n=l(n(98));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,f=i.default.Component),d.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},d.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},d.prototype.componentWillUnmount=function(){this._portalContainerNode=null},d.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},d);function d(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t=u(this,f.call.apply(f,[this].concat(o)))).setContainer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.props;t._portalContainerNode=(0,s.default)(e.container,(0,c.default)(t).body)},t.getMountNode=function(){return t._portalContainerNode},u(t,e)}i.displayName="Portal",i.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=a.default.createPortal?i:n.default,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(1)),r=l(n(11)),i=l(n(0)),a=l(n(3)),s=l(n(13)),c=l(n(14));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,f=i.default.Component),d.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},d.prototype.componentDidUpdate=function(){this._renderOverlay()},d.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,c.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},d.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},d.prototype.render=function(){return null},d);function d(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n=u(this,f.call.apply(f,[this].concat(o))))._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,s.default)(n.props.container,(0,c.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var e,t=n.props.children?i.default.Children.only(n.props.children):null;null!==t?(n._mountOverlayTarget(),e=!n._overlayInstance,n._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(n,t,n._overlayTarget,function(){e&&n.props.onRendered&&n.props.onRendered()})):(n._unrenderOverlay(),n._unmountOverlayTarget())},n._unrenderOverlay=function(){n._overlayTarget&&(a.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},u(n,e)}n.displayName="Portal",n.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(1)),n=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i,o={children:o.default.node},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i=n.default.Component),a.prototype.render=function(){return this.props.children},a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.apply(this,arguments))}n.propTypes=o,t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(101)),i=o(n(102));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=void 0;var r=function(){},r=r=o(n(6)).default?document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0:r;t.default=r,e.exports=t.default},function(e,t,n){"use strict";var o=n(4);t.__esModule=!0,t.default=void 0;var r=function(){},r=r=o(n(6)).default?document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0:r;t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;n=t?(document.attachEvent("onfocusin",e),function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t,n,o){n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t=t||"&");t=1e3;o&&"number"==typeof o.maxKeys&&(t=o.maxKeys);var a=e.length;0<t&&t<a&&(a=t);for(var s=0;s<a;++s){var c,l=e[s].replace(i,"%20"),u=l.indexOf(n),u=0<=u?(c=l.substr(0,u),l.substr(u+1)):(c=l,""),l=decodeURIComponent(c),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(r,l)?f(r[l])?r[l].push(u):r[l]=[r[l],u]:r[l]=u}return r};var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,o,r,e){return o=o||"&",r=r||"=","object"==typeof(n=null===n?void 0:n)?s(c(n),function(e){var t=encodeURIComponent(i(e))+r;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(i(e))}).join(o):t+encodeURIComponent(i(n[e]))}).join(o):e?encodeURIComponent(i(e))+r+encodeURIComponent(i(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var c=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){e.exports=n.p+"back.52a194163fb3681549b172946f84436c.png"},function(e,t,n){e.exports=n.p+"pageup.fd5ea73be5d8be770fc5e5431c12661f.png"},function(e,t,n){e.exports=n.p+"pagedown.434255e8daf3f7b79efbf1cb88d09985.png"},function(e,t,n){e.exports=n.p+"home.85a36d80de73a37f82758db2c2cd975c.png"},function(e,t,n){e.exports=n.p+"end.fd57fcbed5fcd0dfb8494db3b6f24976.png"},function(e,t,n){e.exports=n.p+"prevous.ca4b96bf81195d07ec2d8c18a5ace712.png"},function(e,t,n){e.exports=n.p+"next.c4a3887c393dc417ee54cd602ae411e4.png"},function(e,t,n){e.exports=n.p+"first.40d3094dc0aa361c8a65cea9699eef27.png"},function(e,t,n){e.exports=n.p+"refresh.caa2dd6caebf2067c24fda79c6310f6c.png"},function(e,t,n){e.exports=n.p+"icon_128.5be99d89cddc28b0f39e959132076e84.png"},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){e.exports=n.p+"logo.1d2abcc2fe39aecae8846f16426d01c8.png"},function(e,t,n){e.exports=n.p+"b2u_table.932252b52e06db03f45c541637a521db.bin"},function(e,t,n){e.exports=n.p+"u2b_table.72de16ec54ed44cbac9c04e680ba3a73.bin"},function(e,t,o){"use strict";o.r(t);var n=o(23),r=o.n(n);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};for(var n,o={},r=Object.keys(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}var i=o(2),J=o.n(i),ee=o(0),te=o.n(ee);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),a(e.prototype.constructor=e,t)}var c=o(1),l=o.n(c),u=o(3),W=o.n(u),f=!1,d=te.a.createContext(null),h="unmounted",p="exited",m="entering",g="entered",v="exiting",b=function(r){function e(e,t){var n,o=r.call(this,e,t)||this,t=t&&!t.isMounting?e.enter:e.appear;return o.appearStatus=null,e.in?t?(n=p,o.appearStatus=m):n=g:n=e.unmountOnExit||e.mountOnEnter?h:p,o.state={status:n},o.nextCallback=null,o}s(e,r),e.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:p}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var t=null;e!==this.props&&(e=this.state.status,this.props.in?e!==m&&e!==g&&(t=m):e!==m&&e!==g||(t=v)),this.updateStatus(!1,t)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,t,n=this.props.timeout,o=e=t=n;return null!=n&&"number"!=typeof n&&(o=n.exit,e=n.enter,t=void 0!==n.appear?n.appear:e),{exit:o,enter:e,appear:t}},t.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:h})},t.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[W.a.findDOMNode(this),o],i=r[0],a=r[1],r=this.getTimeouts(),s=o?r.appear:r.enter;!e&&!n||f?this.safeSetState({status:g},function(){t.props.onEntered(i)}):(this.props.onEnter(i,a),this.safeSetState({status:m},function(){t.props.onEntering(i,a),t.onTransitionEnd(s,function(){t.safeSetState({status:g},function(){t.props.onEntered(i,a)})})}))},t.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:W.a.findDOMNode(this);t&&!f?(this.props.onExit(o),this.safeSetState({status:v},function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(o)})})})):this.safeSetState({status:p},function(){e.props.onExited(o)})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function(t){var n=this,o=!0;return this.nextCallback=function(e){o&&(o=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:W.a.findDOMNode(this),t=null==e&&!this.props.addEndListener;n&&!t?(this.props.addEndListener&&(n=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],this.props.addEndListener(n[0],n[1])),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,t=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Z(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return te.a.createElement(d.Provider,{value:null},"function"==typeof n?n(e,t):te.a.cloneElement(te.a.Children.only(n),t))},e}(te.a.Component);function y(){}b.contextType=d,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},b.UNMOUNTED=h,b.EXITED=p,b.ENTERING=m,b.ENTERED=g,b.EXITING=v;var w=b;function ne(e){return e&&e.ownerDocument||document}function x(e,t){return((n=ne(n=e))&&n.defaultView||window).getComputedStyle(e,t);var n}var E=/([A-Z])/g;var _=/^ms-/;function C(e){return e.replace(E,"-$1").toLowerCase().replace(_,"-ms-")}var k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var S=function(o,r){var i="",a="";if("string"==typeof r)return o.style.getPropertyValue(C(r))||x(o).getPropertyValue(C(r));Object.keys(r).forEach(function(e){var t,n=r[e];n||0===n?(t=e)&&k.test(t)?a+=e+"("+n+") ":i+=C(e)+": "+n+";":o.style.removeProperty(C(e))}),a&&(i+="transform: "+a+";"),o.style.cssText+=";"+i},oe=!("undefined"==typeof window||!window.document||!window.document.createElement),O=!1,T=!1;try{var P={get passive(){return O=!0},get once(){return T=O=!0}};oe&&(window.addEventListener("test",P,P),window.removeEventListener("test",P,!0))}catch(e){}var re=function(e,n,o,t){var r,i,a;t&&"boolean"!=typeof t&&!T&&(r=t.once,i=t.capture,a=o,!T&&r&&(a=o.__once||function e(t){this.removeEventListener(n,e,i),o.call(this,t)},o.__once=a),e.addEventListener(n,a,O?t:i)),e.addEventListener(n,o,t)};var ie=function(e,t,n,o){o=o&&"boolean"!=typeof o?o.capture:o,e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var K=function(e,t,n,o){return re(e,t,n,o),function(){ie(e,t,n,o)}};function R(i,e,t){void 0===t&&(t=5);var a=!1,n=setTimeout(function(){var e,t,n,o,r;a||(t="transitionend",void 0===(n=!0)&&(n=!1),void 0===o&&(o=!0),(e=i)&&((r=document.createEvent("HTMLEvents")).initEvent(t,n,o),e.dispatchEvent(r)))},e+t),o=K(i,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(n),o()}}function ae(e,t,n,o){var r,i;null==n&&(r=-1===(i=S(r=e,"transitionDuration")||"").indexOf("ms")?1e3:1,n=parseFloat(i)*r||0);var a=R(e,n,o),s=K(e,"transitionend",t);return function(){a(),s()}}function M(e,t){e=S(e,t)||"",t=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*t}function N(t,n){var e=M(t,"transitionDuration"),o=M(t,"transitionDelay"),r=ae(t,function(e){e.target===t&&(r(),n(e))},e+o)}var D=["className","children"],B=((Ie={})[m]="show",Ie[g]="show",Ie),L=te.a.forwardRef(function(e,t){var n=e.className,o=e.children,r=Z(e,D),e=Object(ee.useCallback)(function(e){e.offsetHeight,r.onEnter&&r.onEnter(e)},[r]);return te.a.createElement(w,Q({ref:t,addEndListener:N},r,{onEnter:e}),function(e,t){return te.a.cloneElement(o,Q({},t,{className:J()("fade",n,o.props.className,B[e])}))})});L.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},L.displayName="Fade";var F,A=L;function se(e){return(!F&&0!==F||e)&&oe&&((e=document.createElement("div")).style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),F=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),F}function ce(){return Object(ee.useState)(null)}var j=function(e){var t=Object(ee.useRef)(e);return Object(ee.useEffect)(function(){t.current=e},[e]),t};function le(e){var t=j(e);return Object(ee.useCallback)(function(){return t.current&&t.current.apply(t,arguments)},[t])}function ue(e){var t,n=(t=e,(e=Object(ee.useRef)(t)).current=t,e);Object(ee.useEffect)(function(){return function(){return n.current()}},[])}function z(t){void 0===t&&(t=ne());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function q(e,t){return e.contains?e.contains(t):e.compareDocumentPosition&&(e===t||16&e.compareDocumentPosition(t))}function X(){var e=Object(ee.useRef)(!0),t=Object(ee.useRef)(function(){return e.current});return Object(ee.useEffect)(function(){return function(){e.current=!1}},[]),t.current}function Y(e){var t=Object(ee.useRef)(null);return Object(ee.useEffect)(function(){t.current=e}),t.current}function H(e,t){return e.classList?t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function I(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function U(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function V(e){var t,n;return U(e)||(n=e)&&"body"===n.tagName.toLowerCase()?(n=U(t=e)?ne():ne(t),t=U(t)||n.defaultView,n.body.clientWidth<t.innerWidth):e.scrollHeight>e.clientHeight}function G(e,t,n){[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&de(e)&&n(e)})}var fe=["template","script","style"],de=function(e){var t=e.nodeType,e=e.tagName;return 1===t&&-1===fe.indexOf(e.toLowerCase())};function he(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function pe(e){return"undefined"==typeof document?null:null==e?ne().body:null!=(e=(e="function"==typeof e?e():e)&&"current"in e?e.current:e)&&e.nodeType&&e||null}var me,ge=function(){function e(e){var t=void 0===e?{}:e,e=t.hideSiblingNodes,e=void 0===e||e,t=t.handleContainerOverflow,t=void 0===t||t;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=e,this.handleContainerOverflow=t,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=se()}var t=e.prototype;return t.isContainerOverflowing=function(e){e=this.data[this.containerIndexFromModal(e)];return e&&e.overflowing},t.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},o=-1,e.some(function(e,t){return!!n(e,t)&&(o=t,!0)}),o;var e,n,o},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(S(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),S(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var o,r,i=this.modals.indexOf(e),a=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&(r=(o=e).dialog,o=e.backdrop,G(t,[r,o],function(e){return he(!0,e),0})),-1!==a)return this.data[a].modals.push(e),i;n={modals:[e],classes:n?n.split(/\s+/):[],overflowing:V(t)};return this.handleContainerOverflow&&this.setContainerStyle(n,t),n.classes.forEach(function(e,t){e.classList?e.classList.add(t):H(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}.bind(null,t)),this.containers.push(t),this.data.push(n),i},t.remove=function(e){var t,n,o,r,i=this.modals.indexOf(e);-1!==i&&(n=this.containerIndexFromModal(e),o=this.data[n],t=this.containers[n],o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),0===o.modals.length?(o.classes.forEach(function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=I(e.className,t):e.setAttribute("class",I(e.className&&e.className.baseVal||"",t))}.bind(null,t)),this.handleContainerOverflow&&this.removeContainerStyle(o,t),this.hideSiblingNodes&&(i=(r=e).dialog,r=e.backdrop,G(t,[i,r],function(e){return he(!1,e),0})),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&(o=(n=o.modals[o.modals.length-1]).backdrop,he(!1,n.dialog),he(!1,o)))},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();function ve(t,e){var n=Object(ee.useState)(function(){return pe(t)}),o=n[0],r=n[1];return o||(n=pe(t))&&r(n),Object(ee.useEffect)(function(){e&&o&&e(o)},[e,o]),Object(ee.useEffect)(function(){var e=pe(t);e!==o&&r(e)},[t,o]),o}function be(e){var n=e||(me=me||new ge),o=Object(ee.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(e,t){return n.add(o.current,e,t)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:Object(ee.useCallback)(function(e){o.current.dialog=e},[]),setBackdropRef:Object(ee.useCallback)(function(e){o.current.backdrop=e},[])})}var ye=Object(ee.forwardRef)(function(e,t){var n=e.show,o=void 0!==n&&n,r=e.role,i=void 0===r?"dialog":r,a=e.className,s=e.style,c=e.children,l=e.backdrop,u=void 0===l||l,f=e.keyboard,d=void 0===f||f,h=e.onBackdropClick,p=e.onEscapeKeyDown,m=e.transition,g=e.backdropTransition,v=e.autoFocus,b=void 0===v||v,y=e.enforceFocus,w=void 0===y||y,x=e.restoreFocus,E=void 0===x||x,_=e.restoreFocusOptions,C=e.renderDialog,k=e.renderBackdrop,n=void 0===k?function(e){return te.a.createElement("div",e)}:k,r=e.manager,l=e.container,S=e.containerClassName,O=e.onShow,f=e.onHide,T=void 0===f?function(){}:f,v=e.onExit,P=e.onExited,y=e.onExiting,x=e.onEnter,k=e.onEntering,f=e.onEntered,e=Z(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),R=ve(l),M=be(r),N=X(),l=Y(o),r=Object(ee.useState)(!o),D=r[0],B=r[1],L=Object(ee.useRef)(null);Object(ee.useImperativeHandle)(t,function(){return M},[M]),oe&&!l&&o&&(L.current=z()),m||o||D?o&&D&&B(!1):B(!0);var F=le(function(){var e;M.add(R,S),U.current=K(document,"keydown",H),I.current=K(document,"focus",function(){return setTimeout(j)},!0),O&&O(),b&&(e=z(document),M.dialog&&e&&!q(M.dialog,e)&&(L.current=e,M.dialog.focus()))}),A=le(function(){var e;M.remove(),null!=U.current&&U.current(),null!=I.current&&I.current(),E&&(null==(e=L.current)||null!=e.focus&&e.focus(_),L.current=null)});Object(ee.useEffect)(function(){o&&R&&F()},[o,R,F]),Object(ee.useEffect)(function(){D&&A()},[D,A]),ue(function(){A()});var j=le(function(){var e;w&&N()&&M.isTopModal()&&(e=z(),M.dialog&&e&&!q(M.dialog,e)&&M.dialog.focus())}),l=le(function(e){e.target===e.currentTarget&&(null!=h&&h(e),!0===u&&T())}),H=le(function(e){d&&27===e.keyCode&&M.isTopModal()&&(null!=p&&p(e),e.defaultPrevented||T())}),I=Object(ee.useRef)(),U=Object(ee.useRef)(),m=m;if(!R||!(o||m&&!D))return null;a=Q({role:i,ref:M.setDialogRef,"aria-modal":"dialog"===i||void 0},e,{style:s,className:a,tabIndex:-1}),c=C?C(a):te.a.createElement("div",a,te.a.cloneElement(c,{role:"document"}));m&&(c=te.a.createElement(m,{appear:!0,unmountOnExit:!0,in:!!o,onExit:v,onExiting:y,onExited:function(){B(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null!=P&&P.apply(void 0,t)},onEnter:x,onEntering:k,onEntered:f},c));f=null;return u&&(g=g,f=n({ref:M.setBackdropRef,onClick:l}),g&&(f=te.a.createElement(g,{appear:!0,in:!!o},f))),te.a.createElement(te.a.Fragment,null,W.a.createPortal(te.a.createElement(te.a.Fragment,null,f,c),R))}),we={show:l.a.bool,container:l.a.any,onShow:l.a.func,onHide:l.a.func,backdrop:l.a.oneOfType([l.a.bool,l.a.oneOf(["static"])]),renderDialog:l.a.func,renderBackdrop:l.a.func,onEscapeKeyDown:l.a.func,onBackdropClick:l.a.func,containerClassName:l.a.string,keyboard:l.a.bool,transition:l.a.elementType,backdropTransition:l.a.elementType,autoFocus:l.a.bool,enforceFocus:l.a.bool,restoreFocus:l.a.bool,restoreFocusOptions:l.a.shape({preventScroll:l.a.bool}),onEnter:l.a.func,onEntering:l.a.func,onEntered:l.a.func,onExit:l.a.func,onExiting:l.a.func,onExited:l.a.func,manager:l.a.instanceOf(ge)};ye.displayName="Modal",ye.propTypes=we;var xe=Object.assign(ye,{Manager:ge}),t=o(5),Ee=o.n(t),_e=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ce(e,t){return _e(e.querySelectorAll(t))}var ke=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Se=".sticky-top",Oe=".navbar-toggler",Te=function(r){function e(){return r.apply(this,arguments)||this}s(e,r);var t=e.prototype;return t.adjustAndStore=function(e,t,n){var o=t.style[e];t.dataset[e]=o,S(t,((o={})[e]=parseFloat(S(t,e))+n+"px",o))},t.restore=function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],S(t,((t={})[e]=n,t)))},t.setContainerStyle=function(e,t){var n,o=this;r.prototype.setContainerStyle.call(this,e,t),e.overflowing&&(n=se(),Ce(t,ke).forEach(function(e){return o.adjustAndStore("paddingRight",e,n)}),Ce(t,Se).forEach(function(e){return o.adjustAndStore("marginRight",e,-n)}),Ce(t,Oe).forEach(function(e){return o.adjustAndStore("marginRight",e,n)}))},t.removeContainerStyle=function(e,t){var n=this;r.prototype.removeContainerStyle.call(this,e,t),Ce(t,ke).forEach(function(e){return n.restore("paddingRight",e)}),Ce(t,Se).forEach(function(e){return n.restore("marginRight",e)}),Ce(t,Oe).forEach(function(e){return n.restore("marginRight",e)})},e}(ge),Pe=/-(.)/g;var Re=te.a.createContext({});Re.Consumer,Re.Provider;function Me(e,t){var n=Object(ee.useContext)(Re);return e||n[t]||t}function Ne(e){return e[0].toUpperCase()+e.replace(Pe,function(e,t){return t.toUpperCase()}).slice(1)}var De=["className","bsPrefix","as"];function Be(i,e){var t=void 0===e?{}:e,n=t.displayName,e=void 0===n?Ne(i):n,a=t.Component,n=t.defaultProps,t=te.a.forwardRef(function(e,t){var n=e.className,o=e.bsPrefix,r=e.as,r=void 0===r?a||"div":r,e=Z(e,De),o=Me(o,i);return te.a.createElement(r,Q({ref:t,className:J()(n,o)},e))});return t.defaultProps=n,t.displayName=e,t}var n=Be("modal-body"),Le=te.a.createContext({onHide:function(){}}),Fe=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],i=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.contentClassName,i=e.centered,a=e.size,s=e.children,c=e.scrollable,l=Z(e,Fe),e=(n=Me(n,"modal"))+"-dialog";return te.a.createElement("div",Q({},l,{ref:t,className:J()(e,o,a&&n+"-"+a,i&&e+"-centered",c&&e+"-scrollable")}),te.a.createElement("div",{className:J()(n+"-content",r)},s))});i.displayName="ModalDialog";var c=i,u=Be("modal-footer"),Ae=["label","onClick","className"],b={label:l.a.string.isRequired,onClick:l.a.func},P=te.a.forwardRef(function(e,t){var n=e.label,o=e.onClick,r=e.className,e=Z(e,Ae);return te.a.createElement("button",Q({ref:t,type:"button",className:J()("close",r),onClick:o},e),te.a.createElement("span",{"aria-hidden":"true"},"×"),te.a.createElement("span",{className:"sr-only"},n))});P.displayName="CloseButton",P.propTypes=b,P.defaultProps={label:"Close"};var je=P,He=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Ie=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.closeLabel,r=e.closeButton,i=e.onHide,a=e.className,s=e.children,c=Z(e,He),n=Me(n,"modal-header"),l=Object(ee.useContext)(Le),e=le(function(){l&&l.onHide(),i&&i()});return te.a.createElement("div",Q({ref:t},c,{className:J()(a,n)}),s,r&&te.a.createElement(je,{label:o,onClick:e}))});Ie.displayName="ModalHeader",Ie.defaultProps={closeLabel:"Close",closeButton:!1};var Ue,L=Ie,we=function(n){return te.a.forwardRef(function(e,t){return te.a.createElement("div",Q({},e,{ref:t,className:J()(e.className,n)}))})},ye=Be("modal-title",{Component:we("h4")}),We=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],t={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:c};function Ke(e){return te.a.createElement(A,Q({},e,{timeout:null}))}function ze(e){return te.a.createElement(A,Q({},e,{timeout:null}))}i=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.style,i=e.dialogClassName,a=e.contentClassName,s=e.children,c=e.dialogAs,l=e["aria-labelledby"],u=e.show,f=e.animation,d=e.backdrop,h=e.keyboard,p=e.onEscapeKeyDown,m=e.onShow,g=e.onHide,v=e.container,b=e.autoFocus,y=e.enforceFocus,w=e.restoreFocus,x=e.restoreFocusOptions,E=e.onEntered,_=e.onExit,C=e.onExiting,k=e.onEnter,S=e.onEntering,O=e.onExited,T=e.backdropClassName,P=e.manager,R=Z(e,We),M=Object(ee.useState)({}),N=M[0],D=M[1],e=Object(ee.useState)(!1),B=e[0],L=e[1],F=Object(ee.useRef)(!1),A=Object(ee.useRef)(!1),j=Object(ee.useRef)(null),M=ce(),H=M[0],e=M[1],I=le(g),n=Me(n,"modal");Object(ee.useImperativeHandle)(t,function(){return{get _modal(){return H}}},[H]);M=Object(ee.useMemo)(function(){return{onHide:I}},[I]);function U(){return P||(Ue=Ue||new Te)}function W(e){var t;oe&&(t=U().isContainerOverflowing(H),e=e.scrollHeight>ne(e).documentElement.clientHeight,D({paddingRight:t&&!e?se():void 0,paddingLeft:!t&&e?se():void 0}))}var K=le(function(){H&&W(H.dialog)});ue(function(){ie(window,"resize",K),j.current&&j.current()});function z(){F.current=!0}function q(e){F.current&&H&&e.target===H.dialog&&(A.current=!0),F.current=!1}function X(){L(!0),j.current=ae(H.dialog,function(){L(!1)})}function Y(e){"static"!==d?A.current||e.target!==e.currentTarget?A.current=!1:g():V(e)}var V=function(e){e.target===e.currentTarget&&X()},t=Object(ee.useCallback)(function(e){return te.a.createElement("div",Q({},e,{className:J()(n+"-backdrop",T,!f&&"show")}))},[f,T,n]),G=Q({},r,N);f||(G.display="block");return te.a.createElement(Le.Provider,{value:M},te.a.createElement(xe,{show:u,ref:e,backdrop:d,container:v,keyboard:!0,autoFocus:b,enforceFocus:y,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:function(e){h||"static"!==d?h&&p&&p(e):(e.preventDefault(),X())},onShow:m,onHide:g,onEnter:function(e){e&&(e.style.display="block",W(e));for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];k&&k.apply(void 0,[e].concat(n))},onEntering:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];S&&S.apply(void 0,[e].concat(n)),re(window,"resize",K)},onEntered:E,onExit:function(e){j.current&&j.current();for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];_&&_.apply(void 0,[e].concat(n))},onExiting:C,onExited:function(e){e&&(e.style.display="");for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];O&&O.apply(void 0,n),ie(window,"resize",K)},manager:U(),containerClassName:n+"-open",transition:f?Ke:void 0,backdropTransition:f?ze:void 0,renderBackdrop:t,renderDialog:function(e){return te.a.createElement("div",Q({role:"dialog"},e,{style:G,className:J()(o,n,B&&n+"-static"),onClick:d?Y:void 0,onMouseUp:q,"aria-labelledby":l}),te.a.createElement(c,Q({},R,{onMouseDown:z,className:i,contentClassName:a}),s))}}))});i.displayName="Modal",i.defaultProps=t,i.Body=n,i.Header=L,i.Title=ye,i.Footer=u,i.Dialog=c,i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150;var qe=i;function Xe(e){this.termbuf=e,this.state=Xe.STATE_TEXT,this.esc=""}function Ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Xe.STATE_TEXT=0,Xe.STATE_ESC=1,Xe.STATE_CSI=2,Xe.STATE_C1=3,Xe.prototype.feed=function(e){var t=this.termbuf;if(t){for(var n="",o=e.length,r=0;r<o;++r){var i=e[r];switch(this.state){case Xe.STATE_TEXT:""===i?(n&&(t.puts(n),n=""),this.state=Xe.STATE_ESC):n+=i;break;case Xe.STATE_CSI:if("`"<=i&&i<="z"||"@"<=i&&i<="Z"){var a=this.esc.split(";"),s="";if(a[0]&&(a[0].charAt(0)<"0"||"9"<a[0].charAt(0))&&(s=a[0].charAt(0),a[0]=a[0].slice(1)),s&&"h"!=i&&"l"!=i){this.state=Xe.STATE_TEXT,this.esc="";break}for(var c=0;c<a.length;++c)a[c]?a[c]=parseInt(a[c],10):a[c]=0;switch(i){case"m":t.assignParamsToAttrs(a);break;case"@":t.insert(0<a[0]?a[0]:1);break;case"A":t.gotoPos(t.cur_x,t.cur_y-(a[0]||1));break;case"B":case"e":t.gotoPos(t.cur_x,t.cur_y+(a[0]||1));break;case"C":case"e":t.gotoPos(t.cur_x+(a[0]||1),t.cur_y);break;case"D":t.gotoPos(t.cur_x-(a[0]||1),t.cur_y);break;case"E":t.gotoPos(0,t.cur_y+(a[0]||1));break;case"F":t.gotoPos(0,t.cur_y-(a[0]||1));break;case"G":case"`":t.gotoPos(0<a[0]?a[0]-1:0,t.cur_y);break;case"I":t.tab(0<a[0]?a[0]:1);break;case"d":t.gotoPos(t.cur_x,0<a[0]?a[0]-1:0);break;case"J":t.clear(a?a[0]:0);break;case"H":case"f":a.length<2?t.gotoPos(0,0):(0<a[0]&&--a[0],0<a[1]&&--a[1],t.gotoPos(a[1],a[0]));break;case"K":t.eraseLine(a?a[0]:0);break;case"L":t.insertLine(0<a[0]?a[0]:1);break;case"M":t.deleteLine(0<a[0]?a[0]:1);break;case"P":t.del(0<a[0]?a[0]:1);break;case"r":a.length<2?(t.scrollStart=0,t.scrollEnd=t.rows-1):(0<a[0]&&--a[0],0<a[1]&&--a[1],t.scrollStart=a[0],t.scrollEnd=a[1]);break;case"s":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"u":if(t.cur_x_sav<0||t.cur_y_sav<0)break;t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav;break;case"S":t.scroll(!1,0<a[0]?a[0]:1);break;case"T":t.scroll(!0,0<a[0]?a[0]:1);break;case"X":t.eraseChar(0<a[0]?a[0]:1);break;case"Z":t.backTab(0<a[0]?a[0]:1)}this.state=Xe.STATE_TEXT,this.esc=""}else this.esc+=i;break;case Xe.STATE_C1:var l=!0,u=[" ","#","%","(",")","*","+","-",".","/"];if(this.esc){for(c=0;c<u.length;++c)this.esc==u[c]&&(l=!1);l?--r:this.esc+=i,this.esc="",this.state=Xe.STATE_TEXT;break}switch(i){case"7":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"8":if(t.cur_x_sav<0||t.cur_y_sav<0)break;t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav;break;case"D":t.scroll(!1,1);break;case"E":t.lineFeed(),t.carriageReturn();break;case"M":t.scroll(!0,1);break;default:this.esc+=i,l=!1}if(!l)break;this.esc="",this.state=Xe.STATE_TEXT;break;case Xe.STATE_ESC:"["==i?this.state=Xe.STATE_CSI:(this.state=Xe.STATE_C1,--r)}}n&&t.puts(n)}};for(var Ve={Backspace:"\b",Tab:"\t",Enter:"\r",Escape:"",Home:"[1~",Insert:"[2~",Delete:"[3~",End:"[4~",PageUp:"[5~",PageDown:"[6~",ArrowUp:"[A",ArrowDown:"[B",ArrowRight:"[C",ArrowLeft:"[D",Up:"[A",Down:"[B",Right:"[C",Left:"[D"},Ge={"@":50,"^":54,_:109,"?":127,"[":219,"\\":220,"]":221},$e=97;$e<=122;$e++)Ge[String.fromCharCode($e)]=$e-96;var Qe=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._checkLeftDB=e,this._checkCurDB=t,this._sendFunc=n}var e,t,n;return e=o,(t=[{key:"_send",value:function(e){return this._sendFunc(e),!0}},{key:"_sendCharCode",value:function(e){return this._send(String.fromCharCode(e))}},{key:"_checkDB",value:function(e){switch(e){case"Backspace":case"ArrowLeft":return this._checkLeftDB();case"Delete":case"ArrowRight":return this._checkCurDB()}return!1}},{key:"onKeyDown",value:function(e){this._onKeyDown(e)&&e.preventDefault()}},{key:"_onKeyDown",value:function(e){if(e.getModifierState("Meta"))return!1;if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey){if(!e.ctrlKey&&e.altKey&&!e.shiftKey)switch(e.key.toLowerCase()){case"r":case"t":case"w":return this._sendCharCode(e.key.toUpperCase().charCodeAt(0)-64)}}else{var t=1==e.key.length?e.key.toLowerCase():e.key,t=Ge[t];if(t)return this._sendCharCode(t)}else{if(e.shiftKey&&"Insert"==e.key)return!1;t=Ve[e.key];if(t)return this._checkDB(e.key)?this._send(t+t):this._send(t);if(1==e.key.length)return!1}return!1}},{key:"onKeyPress",value:function(e){return!e.ctrlKey&&!e.altKey&&1==e.key.length&&(e.preventDefault(),this._send(e.key))}}])&&Ye(e.prototype,t),n&&Ye(e,n),o}();function Ze(){}Ze.mixin=function(e){for(var t in Ze.prototype)e[t]=Ze.prototype[t]},Ze.prototype.addEventListener=function(e,t){this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t)},Ze.prototype.dispatchEvent=function(e){this._listeners=this._listeners||{};var t=this._listeners[e.type];if(t)for(var n in t=t.slice(0))t[n](e)},Ze.prototype.removeEventListener=function(e,t){this._listeners=this._listeners||{};var n=this._listeners[e];if(n)for(var o in n)if(n[o]===t){n.splice(o,1);break}};function Je(e){var t=e.col,n=e.row,o=e.href,r=e.inner,i=e.onMouseOver,e=e.onMouseOut;return React.createElement("a",{onMouseOver:i,onMouseOut:e,scol:t,srow:n,className:"y",href:o,rel:"noreferrer",target:"_blank"},r)}function et(e){return e?{display:"inline-block",width:"".concat(e,"px")}:void 0}function tt(e){var t=e.forceWidth,e=e.inner;return React.createElement("span",{className:"wpadding",style:et(t)},e)}function nt(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(e){rt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){var t,n=e.colorLead,o=e.colorTail,r=e.forceWidth,i=e.text;return React.createElement("span",{className:J()(ot(ot({},n.fg===o.fg?(rt(e={},"q".concat(n.fg),!0),rt(e,"w".concat(o.fg),n.blink!==o.blink),e):(rt(t={},"q".concat(n.fg),n.blink&&!o.blink),rt(t,"w".concat(o.fg),n.blink&&!o.blink),rt(t,"w".concat(n.fg),!n.blink||o.blink),rt(t,"q".concat(o.fg),!n.blink||o.blink),t)),{},(rt(t={o:n.fg!==o.fg||n.blink!==o.blink,ot:n.blink&&!o.blink},"b".concat(n.bg),n.bg===o.bg),rt(t,"b".concat(n.bg,"b").concat(o.bg),n.bg!==o.bg),rt(t,"qq",n.blink||o.blink),rt(t,"ww",n.blink&&o.blink),rt(t,"wpadding",r),t))),style:et(r),"data-text":i},i)}function at(e){var t=e.className,n=e.colorState,e=e.inner;return React.createElement("span",{className:J()(t,"q".concat(n.fg),"b".concat(n.bg),{qq:n.blink})},e)}function st(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}b=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.key=e,this.colorState=t,this.inner=[]}var e,t,o;return e=n,(t=[{key:"isLastSegmentSameColor",value:function(e){return this.colorState.equals(e)}},{key:"appendNormalText",value:function(e){var t=this.inner[this.inner.length-1];"string"==typeof t?this.inner[this.inner.length-1]=t+e:this.inner.push(e)}},{key:"appendForceWidthWord",value:function(e,t){this.inner.push(React.createElement(tt,{key:this.inner.length,inner:e,forceWidth:t}))}},{key:"appendTwoColorWord",value:function(e,t,n,o){this.inner.push(React.createElement(it,{key:this.inner.length,text:e,colorLead:t,colorTail:n,forceWidth:o}))}},{key:"build",value:function(){return React.createElement(at,{key:this.key,colorState:this.colorState,inner:this.inner})}}])&&st(e.prototype,t),o&&st(e,o),n}();b.NullObject={isLastSegmentSameColor:function(){return!1},build:function(){return!1}};var ct=b;function lt(e){for(var t,n,o="",r=0;r<e.length;++r)e.charAt(r)<""?o+=e.charAt(r):(n=e.charCodeAt(r),t=lib.u2bArray[2*n],n=lib.u2bArray[2*n+1],o+=t||n?String.fromCharCode(t)+String.fromCharCode(n):"ÿý");return o}function ut(e){for(var t,n="",o=0;o<e.length;++o)e.charAt(o)<""||o==e.length-1?n+=e.charAt(o):(t=e.charCodeAt(o)<<8|e.charCodeAt(o+1),(t=lib.b2uArray[2*t]<<8|lib.b2uArray[2*t+1])?(n+=String.fromCharCode(t),++o):n+=e.charAt(o));return n}function ft(e){e=new RegExp(/  瀏覽 第 (\d{1,3})(?:\/(\d{1,3}))? 頁 *\( *(\d{1,3})%\)  目前顯示: 第 0*(\d+)~0*(\d+) 行 *(?:\(y\)回應)?(?:\(X\/?%\)推文)?(?:\(h\)說明)? *\(←\/?q?\)離開 /g).exec(e);return e&&6===e.length?{pageIndex:parseInt(e[1]),pageTotal:parseInt(e[2]),pagePercent:parseInt(e[3]),rowIndexStart:parseInt(e[4]),rowIndexEnd:parseInt(e[5])}:null}var dt={},P=dt;function ht(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}P.xa1=1,P.xa0=1,P.xa1=1,P.xa4=1,P.xa7=1,P.xaa=1,P.xae=1,P.xaf=1,P.xb0=1,P.xb1=1,P.xb6=1,P.xb7=1,P.xb8=1,P.xba=1,P.xbf=1,P.xc0=1,P.xc1=1,P.xc2=1,P.xc3=1,P.xc4=1,P.xc5=1,P.xc6=1,P.xc7=1,P.xc8=1,P.xc9=1,P.xca=1,P.xcb=1,P.xcc=1,P.xcd=1,P.xce=1,P.xcf=1,P.xd0=1,P.xd1=1,P.xd2=1,P.xd3=1,P.xd4=1,P.xd5=1,P.xd6=1,P.xd7=1,P.xd8=1,P.xd9=1,P.xda=1,P.xdb=1,P.xdc=1,P.xde=1,P.xdf=1,P.xe0=1,P.xe1=1,P.xe2=1,P.xe3=1,P.xe4=1,P.xe5=1,P.xe6=1,P.xe7=1,P.xe8=1,P.xe9=1,P.xea=1,P.xeb=1,P.xec=1,P.xed=1,P.xee=1,P.xef=1,P.xf0=1,P.xf1=1,P.xf2=1,P.xf3=1,P.xf4=1,P.xf5=1,P.xf6=1,P.xf8=1,P.xf9=1,P.xfa=1,P.xfb=1,P.xfc=1,P.xfe=1,P.xff=1,P.x14a=2,P.x153=1,P.x16b=2,P.x192=1,P.x28c=1,P.x252=2,P.x259=2,P.x25a=2,P.x25c=2,P.x25d=2,P.x26f=2,P.x278=2,P.x287=2,P.x292=2,P.x2a4=2,P.x2a7=2,P.x2cf=2,P.x414=2,P.x41f=2,P.x430=2,P.x431=1,P.x432=2,P.x433=2,P.x434=2,P.x435=2,P.x436=2,P.x437=2,P.x438=2,P.x439=2,P.x43a=1,P.x43b=1,P.x43c=2,P.x43d=2,P.x43e=1,P.x43f=2,P.x440=1,P.x441=2,P.x442=2,P.x445=2,P.x446=2,P.x44b=2,P.x44c=2,P.x44f=2,P.x1e3b=2,P.x1e43=2,P.x1e49=1,P.x1ef2=3,P.x1ef3=1,P.x2010=1,P.x2027=1,P.x211e=1,P.x2122=1,P.x213b=2,P.x2157=1,P.x215c=2,P.x21b2=1,P.x21e6=1,P.x21e8=1,P.x21e9=1,P.x2200=2,P.x2202=1,P.x222c=2,P.x2237=2,P.x2282=2,P.x2401=3,P.x2402=3,P.x2403=3,P.x2404=3,P.x2405=3,P.x2406=3,P.x2407=3,P.x2408=3,P.x2409=3,P.x240a=3,P.x240b=3,P.x240c=3,P.x240d=3,P.x240e=3,P.x240f=3,P.x2410=3,P.x2411=3,P.x2412=3,P.x2413=3,P.x2414=3,P.x2415=3,P.x2416=3,P.x2417=3,P.x2418=3,P.x2419=3,P.x241a=3,P.x241b=3,P.x241c=3,P.x241d=3,P.x241e=3,P.x241f=3,P.x2421=3,P.x246a=2,P.x246b=2,P.x246c=2,P.x246d=2,P.x246e=2,P.x246f=2,P.x2470=2,P.x2471=2,P.x2472=2,P.x2473=2,P.x2503=2,P.x2601=2,P.x2602=2,P.x260e=2,P.x2611=2,P.x261b=2,P.x261c=2,P.x261e=2,P.x261f=2,P.x2620=2,P.x262f=2,P.x2630=2,P.x2631=2,P.x2632=2,P.x2633=2,P.x2634=2,P.x2635=2,P.x2636=2,P.x2637=2,P.x2639=1,P.x263a=2,P.x263b=2,P.x263c=2,P.x263d=2,P.x2660=2,P.x2661=1,P.x2662=1,P.x2663=2,P.x2664=1,P.x2665=2,P.x2666=1,P.x2667=1,P.x266a=1,P.x266c=2,P.x2702=2,P.x2708=2,P.x2709=2,P.x2713=2,P.x2715=2,P.x2721=2,P.x2729=2,P.x274f=2,P.x278e=2,P.x278f=2,P.x2790=2,P.x2791=2,P.x2792=2,P.xe11b=3,P.xe282=3,P.xe568=3,P.xe56b=3,P.xe686=3,P.xe687=3,P.xe7e0=3,P.xe9cc=3,P.xe9ce=3,P.xe9cf=3,P.xeb8b=3,P.xec63=3,P.xec64=3,P.xec65=3,P.xec66=3,P.xec67=3,P.xec6c=1,P.xec6a=1,P.xec6e=3,P.xec71=3,P.xec72=3,P.xec73=3,P.xec74=3,P.xec71=3,P.xec7c=3,P.xec7d=3,P.xec80=3,P.xec83=3,P.xec85=3,P.xec86=3,P.xec87=3,P.xec88=3,P.xec89=3,P.xec8a=3,P.xec8b=3,P.xec8c=3,P.xec8d=3,P.xec8e=3,P.xec8f=3,P.xec90=3,P.xec91=3,P.xec9f=3,P.xeca0=3,P.xeca1=3,P.xeca3=3,P.xeca4=3,P.xeca5=3,P.xeca6=3,P.xeca7=3,P.xeca8=3,P.xeca9=3,P.xeca3=3,P.xecae=3,P.xecb5=3,P.xecb6=3,P.xecb8=3,P.xecc1=3,P.xecc2=3,P.xecc8=3,P.xecca=3,P.xeccb=3,P.xeccc=3,P.xeccd=3,P.xecce=3,P.xed91=3,P.xed92=3,P.xee1e=3,P.xee22=3,P.xee58=3,P.xee5a=3,P.xee5c=3,P.xee5e=3,P.xee5f=3,P.xeeb6=3,P.xf7e6=3,P.xf7e8=3,P.xf7ee=3,P.xf7ef=3,P.xf7f0=3,P.xf7f1=3,P.xf7f2=3,P.xf7f3=3,P.xf7f4=3,P.xf7f5=3,P.xf7f6=3,P.xf7f7=3,P.xf7f8=3,P.xf7f8=3,P.xf7fa=3,P.xf849=3,P.xf84a=3,P.xf84b=3,P.xf84c=3,P.xf84d=3,P.xf84e=3,P.xf84f=3,P.xf850=3,P.xf851=3,P.xf852=3,P.xf853=3,P.xf854=3,P.xf855=3,P.xf856=3,P.xf857=3,P.xf858=3,P.xf859=3,P.xf85a=3,P.xf85b=3,P.xf85c=3,P.xf85d=3,P.xf85e=3,P.xf85f=3,P.xf860=3,P.xf861=3,P.xf862=3,P.xf863=3,P.xf864=3,P.xf865=3,P.xff61=1,P.xff62=1,P.xff63=1,P.xff64=1,P.xff65=1,P.xff66=1,P.xff67=1,P.xff68=1,P.xff69=1,P.xff6a=1,P.xff6b=1,P.xff6c=1,P.xff6d=1,P.xff6e=1,P.xff6f=1,P.xff70=1,P.xff71=1,P.xff72=1,P.xff73=1,P.xff74=1,P.xff75=1,P.xff76=1,P.xff77=1,P.xff78=1,P.xff79=1,P.xff7a=1,P.xff7b=1,P.xff7c=1,P.xff7d=1,P.xff7e=1,P.xff7f=1,P.xff80=1,P.xff81=1,P.xff82=1,P.xff83=1,P.xff84=1,P.xff85=1,P.xff86=1,P.xff87=1,P.xff88=1,P.xff89=1,P.xff8a=1,P.xff8b=1,P.xff8c=1,P.xff8d=1,P.xff8e=1,P.xff8f=1,P.xff90=1,P.xff91=1,P.xff92=1,P.xff93=1,P.xff94=1,P.xff95=1,P.xff96=1,P.xff97=1,P.xff98=1,P.xff99=1,P.xff9a=1,P.xff9b=1,P.xff9c=1,P.xff9d=1,P.xff9e=1,P.xff9f=1,P.xfffd=3;Ie=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.segs=[],this.wordBuilder=ct.NullObject,this.forceWidth=e,this.lead=null}var e,n,o;return e=t,(n=[{key:"beginSegment",value:function(e){this.segs.push(this.wordBuilder.build()),this.wordBuilder=new ct(this.segs.length,e)}},{key:"appendNormalChar",value:function(e,t){this.wordBuilder.isLastSegmentSameColor(t)||this.beginSegment(t),this.wordBuilder.appendNormalText(e)}},{key:"readChar",value:function(e){if(!this.lead)return 129<=(n=(n=e.ch).charCodeAt(0))&&n<=254?void(this.lead=e):void this.appendNormalChar(e.ch,e.getColor());var t=this.lead,n=t.getColor();this.lead=null;t=ut(t.ch+e.ch);if(1!==t.length)return this.appendNormalChar("?",n),void this.appendNormalChar(" "==e.ch?" ":"?",e.getColor());if(3==dt["x"+t.charCodeAt(0).toString(16)])return this.appendNormalChar("?",n),void this.appendNormalChar("?",e.getColor());if(!n.equals(e.getColor()))return this.beginSegment(n),void this.wordBuilder.appendTwoColorWord(t,n,e.getColor(),this.forceWidth);e=1==(e=dt["x"+(e=t).charCodeAt(0).toString(16)])||2==e?this.forceWidth:0;e?(this.wordBuilder.isLastSegmentSameColor(n)||this.beginSegment(n),this.wordBuilder.appendForceWidthWord(t,e)):this.appendNormalChar(t,n)}},{key:"build",value:function(){return this.beginSegment(),this.segs}}])&&ht(e.prototype,n),o&&ht(e,o),t}();Ie.accumulator=function(e,t){return e.readChar(t),e};var pt=Ie,mt=o(24),gt=o(25);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function wt(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach(function(e){Ot(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Et(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=St(n);return function(e,t){{if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return kt(e)}(this,o?(e=St(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){return Promise.resolve({src:e})}function Pt(e){var t=e.src;return Mt.find(function(e){return e.test(t)}).request(t)}function Rt(e){var o=e.src;return new Promise(function(e,t){var n=new Image;n.onload=function(){return e({src:o,height:n.height})},n.onerror=t,n.src=o})}t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,React.PureComponent);var e,t,n,r=Ct(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Ot(kt(e=r.call.apply(r,[this].concat(n))),"state",{pending:void 0,value:void 0,error:void 0}),Ot(kt(e),"handleResolve",function(n){e.setState(function(e,t){if(e.pending===t.request)return{value:n}})}),Ot(kt(e),"handleReject",function(n){e.setState(function(e,t){if(e.pending===t.request)return{error:n}})}),e}return e=i,(t=[{key:"componentDidMount",value:function(){this.handleStart()}},{key:"componentDidUpdate",value:function(e){this.props.request!==e.request&&this.handleStart()}},{key:"handleStart",value:function(e){var n=this;this.setState(function(e,t){t=t.request;return t.then(n.handleResolve,n.handleReject),{pending:t,value:void 0,error:void 0}})}},{key:"render",value:function(){return React.createElement(this.props.component,xt(xt({},this.props),{},{component:void 0,request:void 0,value:this.state.value,error:this.state.error}))}}])&&Et(e.prototype,t),n&&Et(e,n),i}();t.OnHover=function(e){var t=e.left,n=e.top,o=e.value;return!e.error&&(o?React.createElement("img",{src:o.src,style:{display:"block",position:"absolute",left:t+20,top:function(e,t){var n=$(window).height();if(n-20<e+t/2){if(t/2<e)return n-20-t}else if(t/2<e-20)return e-t/2;return 20}(n,o.height),maxHeight:"80%",maxWidth:"90%",zIndex:2}}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate",style:{position:"absolute",left:t+20,top:n,zIndex:2}}))},t.Inline=function(e){var t=e.value;return!e.error&&(t?React.createElement("img",{className:"easyReadingImg hyperLinkPreview",src:t.src}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"}))};var Mt=[{test:function(){return!0},request:function(){return Promise.reject(new Error("Unimplemented"))}}],n=Mt.unshift.bind(Mt);n({regex:/flic\.kr\/p\/(\w+)|flickr\.com\/photos\/[\w@]+\/(\d+)/,test:function(e){return this.regex.test(e)},request:function(e){var t=bt(e.match(this.regex),3),e=t[1],t=t[2],t=e?Object(gt.decode)(e):t,t="https://api.flickr.com/services/rest/?".concat(Object(mt.stringify)({method:"flickr.photos.getInfo",api_key:"c8c95356e465b8d7398ff2847152740e",photo_id:t,format:"json",nojsoncallback:1}));return fetch(t,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e.photo)throw new Error("Not found");var t=e.photo,n=t.farm,o=t.server,e=t.id,t=t.secret;return{src:"https://farm".concat(n,".staticflickr.com/").concat(o,"/").concat(e,"_").concat(t,".jpg")}})}}),n({regex:/^https?:\/\/(?:i\.)?imgur\.com\/([^.]+)(?:\.(.*))?/,test:function(e){return this.regex.test(e)},request:function(e){var t=bt(this.regex.exec(e),3),e=(t[0],t[1]),t=t[2],t=void 0===t?"jpg":t;return Promise.resolve({src:"https://i.imgur.com/".concat(e,".").concat(t)})}});var Nt=t;function Dt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}L=function(){function a(e,t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.row=e,this.forceWidth=n,this.highlighted=o,this.onHyperLinkMouseOver=r,this.onHyperLinkMouseOut=i,this.segs=[],this.inlineLinkPreviews=!!t&&[],this.colorSegBuilder=null,this.col=null,this.href=null}var e,t,n;return e=a,(t=[{key:"saveSegment",value:function(){var e=this.colorSegBuilder.build();this.href?(this.segs.push(React.createElement(Je,{key:this.col,href:this.href,inner:e,"data-scol":this.col,"data-srow":this.row,onMouseOver:this.onHyperLinkMouseOver,onMouseOut:this.onHyperLinkMouseOut})),this.inlineLinkPreviews&&this.inlineLinkPreviews.push(React.createElement(Nt,{key:"".concat(this.col,"-").concat(this.href),request:Tt(this.href).then(Pt),component:Nt.Inline}))):this.segs.push(React.createElement("span",{key:this.col},e)),this.colorSegBuilder=null}},{key:"readChar",value:function(e,t){null!==this.colorSegBuilder&&e.isStartOfURL()&&this.saveSegment(),null===this.colorSegBuilder&&(this.colorSegBuilder=new pt(this.forceWidth),this.col=t,this.href=e.isStartOfURL()?e.getFullURL():null),this.colorSegBuilder.readChar(e),e.isEndOfURL()&&this.saveSegment()}},{key:"build",value:function(){return null!==this.colorSegBuilder&&this.saveSegment(),React.createElement("div",null,React.createElement("span",{className:J()({b2:this.highlighted}),"data-type":"bbsline","data-row":this.row},this.segs),React.createElement("div",null,this.inlineLinkPreviews))}}])&&Dt(e.prototype,t),n&&Dt(e,n),a}();L.accumulator=function(e,t,n){return e.readChar(t,n),e};function Bt(e){var t=e.chars,n=e.row,o=e.enableLinkInlinePreview,r=e.forceWidth,i=e.highlighted,a=e.onHyperLinkMouseOver,e=e.onHyperLinkMouseOut;return React.createElement("span",{type:"bbsrow",srow:n},t.reduce(Lt.accumulator,new Lt(n,o,r,i,a,e)).build())}var Lt=L;function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ut(n);return function(e,t){{if(t&&("object"===Ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return It(e)}(this,o?(e=Ut(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(i,React.Component);var e,t,n,r=Ht(i);function i(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Wt(It(n=r.call.apply(r,[this].concat(t))),"setCurrentHighlighted",function(e){n.setState({currentHighlighted:e})}),Wt(It(n),"state",{currentHighlighted:void 0,currentImagePreview:void 0,left:void 0,top:void 0}),Wt(It(n),"handleMouseMove",function(e){var t=e.clientX,e=e.clientY;n.state.currentImagePreview&&n.setState({left:t,top:e})}),Wt(It(n),"handleHyperLinkMouseOver",function(e){e=e.currentTarget.href;n.props.enableLinkHoverPreview&&n.setState({currentImagePreview:Tt(e).then(Pt).then(Rt)})}),Wt(It(n),"handleHyperLinkMouseOut",function(){n.setState({currentImagePreview:void 0})}),n}return e=i,(t=[{key:"componentWillReceiveProps",value:function(e){this.props.lines!==e.lines&&this.setState({currentImagePreview:void 0})}},{key:"render",value:function(){var n=this;return React.createElement("div",{id:"mainContainer",onMouseMove:this.handleMouseMove},this.props.lines.map(function(e,t){return React.createElement(Bt,{key:t,chars:e,row:t,forceWidth:n.props.forceWidth,enableLinkInlinePreview:n.props.enableLinkInlinePreview,highlighted:n.state.currentHighlighted===t,onHyperLinkMouseOver:n.handleHyperLinkMouseOver,onHyperLinkMouseOut:n.handleHyperLinkMouseOut})}),this.state.currentImagePreview&&React.createElement(Nt,{request:this.state.currentImagePreview,component:Nt.OnHover,left:this.state.left,top:this.state.top}))}}])&&At(e.prototype,t),n&&At(e,n),i}();function zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var qt=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.fg=e,this.bg=t,this.blink=n}var e,t,n;return e=o,(t=[{key:"equals",value:function(e){return e instanceof o&&(this.fg==e.fg&&this.bg==e.bg&&this.blink==e.blink)}}])&&zt(e.prototype,t),n&&zt(e,n),o}();function Xt(e,t,n,o,r){return ReactDOM.render(React.createElement(Bt,{chars:e,row:t,forceWidth:n,enableLinkInlinePreview:o}),r)}var Yt=["#FFFFFF","#7FFFFF","#FF7FFF","#7F7FFF","#FFFF7F","#7FFF7F","#FF7F7F","#3F3F3F","#7F7F7F","#00FFFF","#FF00FF","#0000FF","#FFFF00","#00FF00","#FF0000","#000000"],Vt=["auto","url(".concat(o(106)," 0 6,auto"),"url(".concat(o(107)," 6 0,auto"),"url(".concat(o(108)," 6 21,auto"),"url(".concat(o(109)," 0 0,auto"),"url(".concat(o(110)," 0 0,auto"),"pointer","default","url(".concat(o(111)," 6 0,auto"),"url(".concat(o(112)," 6 0,auto"),"url(".concat(o(113)," 0 0,auto"),"auto","url(".concat(o(114)," 0 0,auto"),"url(".concat(o(20)," 0 0,auto"),"url(".concat(o(20)," 0 0,auto")];function Gt(e){this.ch=e,this.resetAttr(),this.needUpdate=!1,this.isLeadByte=!1,this.startOfURL=!1,this.endOfURL=!1,this.partOfURL=!1,this.partOfKeyWord=!1,this.keyWordColor="#ff0000",this.fullurl=""}function $t(e,t){for(this.cols=e,this.rows=t,this.view=null,this.cur_x=0,this.cur_y=0,this.cur_x_sav=-1,this.cur_y_sav=-1,this.scrollStart=0,this.scrollEnd=t-1,this._nowHighlight=-1,Object.defineProperty(this,"nowHighlight",{set:this.setHighlight.bind(this),get:function(){return this._nowHighlight}.bind(this)}),this.tempMouseCol=0,this.tempMouseRow=0,this.mouseCursor=0,this.highlightCursor=!0,this.useMouseBrowsing=!0,this.attr=new Gt(" "),this.disableLinefeed=!1,this.altScreen="",this.changed=!1,this.posChanged=!1,this.pageState=0,this.forceFullWidth=!1,this.startedEasyReading=!1,this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.prevPageState=0,this.lines=new Array(t),this.pageLines=[],this.pageWrappedLines=[],this.lineChangeds=new Array(t),this.viewBufferTimer=30;0<=--t;){for(var n=new Array(e),o=e;0<=--o;)n[o]=new Gt(" ");this.lines[t]=n}this.BBSWin=document.getElementById("BBSWindow")}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw r}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Gt.defaultFg=7,Gt.defaultBg=0,Gt.prototype={assignParams:function(e){var t=this;e.forEach(function(e){switch(e){case 0:t.resetAttr();break;case 1:t.bright=!0;break;case 4:t.underLine=!0;break;case 5:case 6:t.blink=!0;break;case 7:t.invert=!0;break;case 8:break;default:e<=37?30<=e&&(t.fg=e-30):40<=e&&e<=47&&(t.bg=e-40)}})},copyFromNewChar:function(){this.ch=Gt.newChar.ch,this.isLeadByte=Gt.newChar.isLeadByte,this.resetAttr()},copyAttr:function(e){this.fg=e.fg,this.bg=e.bg,this.bright=e.bright,this.invert=e.invert,this.blink=e.blink,this.underLine=e.underLine},resetAttr:function(){this.fg=7,this.bg=0,this.bright=!1,this.invert=!1,this.blink=!1,this.underLine=!1},getFg:function(){return this.invert?this.bright?this.bg+8:this.bg:this.bright?this.fg+8:this.fg},getBg:function(){return this.invert?this.fg:this.bg},getColor:function(){return new qt(this.getFg(),this.getBg(),this.blink)},isUnderLine:function(){return this.underLine},isStartOfURL:function(){return this.startOfURL},isEndOfURL:function(){return this.endOfURL},isPartOfURL:function(){return this.partOfURL},isPartOfKeyWord:function(){return this.partOfKeyWord},getKeyWordColor:function(){return this.keyWordColor},getFullURL:function(){return this.fullurl}},Gt.newChar=new Gt(" "),$t.prototype={resize:function(e,t){this.cols=e,this.rows=t,this.lineChangeds.length=t,this.scrollEnd=t-1,this.lines.length=t;for(var n=0;n<t;n++){this.lines[n]||(this.lines[n]=new Array(e)),this.lines[n].length=e;for(var o=0;o<e;o++)this.lines[n][o]||(this.lines[n][o]=new Gt(" "))}},timerUpdate:null,uriRegEx:/((ftp|http|https|telnet):\/\/([A-Za-z0-9_]+:{0,1}[A-Za-z0-9_]*@)?([A-Za-z0-9_#!:.?+=&%@!\-\/\$\^,;|*~'()]+)(:[0-9]+)?(\/|\/([A-Za-z0-9_#!:.?+=&%@!\-\/]))?)|(pid:\/\/(\d{1,10}))/gi,setView:function(e){this.view=e},assignParamsToAttrs:function(e){this.attr.assignParams(e)},puts:function(e){if(e){for(var t=this.cols,n=(this.rows,this.lines),o=e.length,r=n[this.cur_y],i=0;i<o;++i){var a,s=e[i];switch(s){case"":continue;case"\b":this.back();continue;case"\r":this.carriageReturn();continue;case"\n":case"\f":case"\v":this.lineFeed(),r=n[this.cur_y];continue;case"\0":continue}this.cur_x>=t&&(this.disableLinefeed||this.lineFeed(),this.cur_x=0,r=n[this.cur_y],this.posChanged=!0),"\t"===s?this.tab():((a=r[this.cur_x]).ch=s,a.copyAttr(this.attr),a.needUpdate=!0,++this.cur_x,a.isLeadByte&&(r[this.cur_x].needUpdate=!0),"UTF-8"==this.view.charset&&this.isFullWidth(s)&&this.cur_x<t&&((a=r[this.cur_x]).ch="",a.copyAttr(this.attr),a.needUpdate=!0,++this.cur_x),this.changed=!0,this.posChanged=!0)}this.queueUpdate()}},updateCharAttr:function(){for(var e=this.cols,t=this.rows,n=this.lines,o=0;o<t;++o){for(var r=n[o],i=!1,a=0;a<e;++a){var s,c=r[a];c.needUpdate&&(i=!0),this.isFullWidth(c.ch)&&a+1<e?(c.isLeadByte=!0,s=c,(c=r[++a]).needUpdate&&(i=!0),s.needUpdate!=c.needUpdate&&(s.needUpdate=c.needUpdate=!0)):c.isleadbyte&&a+1<e&&(r[a+1].needUpdate=!0),c.isLeadByte=!1}if(i){if(this.lineChangeds[o]=!0,r.uris){for(var l=(m=r.uris).length,u=0;u<l;++u){r[(g=m[u])[0]].startOfURL=!1,r[g[0]].endOfURL=!1,r[g[0]].fullurl="",r[g[1]-1].startOfURL=!1,r[g[1]-1].endOfURL=!1,r[g[1]-1].fullurl="";for(a=g[0];a<g[1];++a)r[a].partOfURL=!1,r[a].needUpdate=!0}r.uris=null}for(var f,d="",a=0;a<e;++a)d+=r[a].ch;if("UTF-8"!=this.view.charset)d=d.replace(/[^\x00-\x7f]./g,"«Í");else{for(var h="",p=0;p<d.length;++p)h+=d.charAt(p),this.isFullWidth(d.charAt(p))&&(h+=d.charAt(p));d=h}for(var m=null;null!==(f=this.uriRegEx.exec(d));){var g=[f.index,f.index+f[0].length];(m=m||[]).push(g)}if(m&&(r.uris=m),r.uris)for(l=(m=r.uris).length,u=0;u<l;++u){for(var v,b="",a=(g=m[u])[0];a<g[1];++a)b+=r[a].ch,r[a].partOfURL=!0,r[a].needUpdate=!0;if("UTF-8"!=this.view.charset)v=b;else{for(h="",p=0;p<b.length;++p)h+=b.charAt(p),this.isFullWidth(b.charAt(p))&&(h+=b.charAt(p));v=h}var y=b.toLowerCase();r[g[0]].startOfURL=!0,"pid://"==y.substr(0,6)?r[g[0]].fullurl="http://www.pixiv.net/member_illust.php?mode=big&illust_id="+y.substr(6,15):r[g[0]].fullurl=v,r[g[1]-1].endOfURL=!0}}}},clear:function(e){var t=this.rows,n=this.cols,o=this.lines;switch(e){case 0:var r,i=o[this.cur_y];for(a=this.cur_x;a<n;++a)i[a].copyFromNewChar(),i[a].needUpdate=!0;for(r=this.cur_y;r<t;++r)for(i=o[r],a=0;a<n;++a)i[a].copyFromNewChar(),i[a].needUpdate=!0;break;case 1:for(r=0;r<this.cur_y;++r)for(i=o[r],a=0;a<n;++a)i[a].copyFromNewChar(),i[a].needUpdate=!0;for(i=o[this.cur_y],a=0;a<this.cur_x;++a)i[a].copyFromNewChar(),i[a].needUpdate=!0;break;case 2:for(;0<=--t;)for(var a=n,i=o[t];0<=--a;)i[a].copyFromNewChar(),i[a].needUpdate=!0}this.changed=!0,this.gotoPos(0,0),this.queueUpdate()},back:function(){0<this.cur_x&&(--this.cur_x,this.posChanged=!0,this.queueUpdate())},tab:function(e){var t=this.cur_x%4;this.cur_x+=4-t,1<e&&(this.cur_x+=4*(e-1)),this.cur_x>=this.cols&&(this.cur_x=this.cols-1),this.posChanged=!0,this.queueUpdate()},backTab:function(e){var t=this.cur_x%4;this.cur_x-=0<t?t:4,1<e&&(this.cur_x-=4*(e-1)),this.cur_x<0&&(this.cur_x=0),this.posChanged=!0,this.queueUpdate()},insert:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(;0<=--e;){var i=t.pop();t.splice(o,0,i),i.copyFromNewChar()}for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},del:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(var i=n-o-e;0<=--i;)t.splice(o,0,t.pop());for(r=n-e;r<n;++r)t[r].copyFromNewChar();for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},eraseChar:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){for(var r=n<o+e?n:o+e,i=o;i<r;++i)t[i].copyFromNewChar(),t[i].needUpdate=!0;this.changed=!0,this.queueUpdate()}},eraseLine:function(e){var t=this.lines[this.cur_y],n=this.cols;switch(e){case 0:for(var o=this.cur_x;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 1:for(var r=this.cur_x,o=0;o<r;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 2:for(o=0;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;default:return}this.changed=!0,this.queueUpdate()},deleteLine:function(e){var t=this.scrollStart;this.scrollStart=this.cur_y,this.scroll(!1,e),this.scrollStart=t,this.changed=!0,this.queueUpdate()},insertLine:function(e){var t=this.scrollStart;this.cur_y<this.scrollEnd&&(this.scrollStart=this.cur_y,this.scroll(!0,e)),this.scrollStart=t,this.changed=!0,this.queueUpdate()},scroll:function(e,t){var n=this.scrollStart,o=this.scrollEnd;if(o<=n&&(n=0,o<1&&(o=this.rows-1)),t>=this.rows)this.clear(2);else if(o-n+1<=t)for(var r=this.lines,i=this.cols,a=n;a<=o;++a)for(var s=0;s<i;++s)r[a][s].copyFromNewChar(),r[a][s].needUpdate=!0;else{var r=this.lines,c=this.rows,i=this.cols;if(e){for(var l=0;l<c-1-o;++l)r.unshift(r.pop());for(;0<=--t;){var u=r.pop();r.splice(c-1-o+n,0,u);for(s=0;s<i;++s)u[s].copyFromNewChar()}for(l=0;l<c-1-o;++l)r.push(r.shift())}else{for(l=0;l<n;++l)r.push(r.shift());for(;0<=--t;){u=r.shift();r.splice(o-n,0,u);for(s=0;s<i;++s)u[s].copyFromNewChar()}for(l=0;l<n;++l)r.unshift(r.pop())}for(a=n;a<=o;++a)for(u=r[a],s=0;s<i;++s)u[s].needUpdate=!0}this.changed=!0,this.queueUpdate()},gotoPos:function(e,t){e>=this.cols&&(e=this.cols-1),(t=t>=this.rows?this.rows-1:t)<0&&(t=0),this.cur_x=e=e<0?0:e,this.cur_y=t,this.posChanged=!0,this.queueUpdate()},carriageReturn:function(){this.cur_x=0,this.posChanged=!0,this.queueUpdate()},lineFeed:function(){this.cur_y<this.scrollEnd?(++this.cur_y,this.posChanged=!0,this.queueUpdate()):this.scroll(!1,1)},queueUpdate:function(e){var t,n;this.timerUpdate||(n=function(){t.notify()},(t=this).timerUpdate=e?setTimeout(n,1):setTimeout(n,30))},notify:function(e){clearTimeout(this.timerUpdate),this.timerUpdate=null,this.changed&&(this.updateCharAttr(),this.setPageState(),this.useMouseBrowsing&&this.clearHighlight(),this.dispatchEvent(new CustomEvent("change")),this.view&&this.view.update(),this.changed=!1,this.dispatchEvent(new CustomEvent("viewUpdate"))),this.posChanged&&(this.view&&this.view.updateCursorPos(),this.posChanged=!1),this.view.blinkOn&&(this.view.blinkOn=!1,document.body.classList.toggle("blink--active"))},getText:function(e,t,n,o,r,i,a){var s="",s=(a||this.lines)[e];if(t==this.cols)return"";if(0<t?!s[t].isLeadByte&&s[t-1].isLeadByte&&t--:t=0,0<n?s[n-1].isLeadByte&&n++:n=this.cols,n<=t)return"";if(this.view){e=this.view.charset;if(o){for(var c=this.ansiCmp(Gt.newChar,s[t],i),l=t;l<n-1;++l)r&&s[l].isLeadByte&&this.ansiCmp(s[l],s[l+1])?c+=this.ansiCmp(s[l],s[l+1]).replace(/m$/g,";50m")+s[l].ch:c+=s[l].ch+this.ansiCmp(s[l],s[l+1]);return c+=s[n-1].ch+this.ansiCmp(s[n-1],Gt.newChar),r&&"UTF-8"!=e?ut(c):c}return(s=s.slice(t,n)).map(function(e,t,n){if(!e.isLeadByte){if(1<=t&&n[t-1].isLeadByte){t=n[t-1].ch+e.ch;return this.view&&"UTF-8"==this.view.charset||1==t.length?t:ut(t)}return e.ch}}).join("")}},getRowText:function(e,t,n,o){var r="",r=(o||this.lines)[e];0<t?!r[t].isLeadByte&&r[t-1].isLeadByte&&t--:t=0,n<this.cols?r[n].isLeadByte&&n++:n=this.cols,r=r.slice(t,n);this.view.charset;var i=this;return r.map(function(e,t,n){if(!e.isLeadByte){if(1<=t&&n[t-1].isLeadByte){t=n[t-1].ch+e.ch;return i.view&&"UTF-8"==i.view.charset||1==t.length?t:ut(t)}return e.ch}}).join("")},ansiCmp:function(e,t,n){var o="",r=n;(r=e.bright&&!t.bright||e.underLine&&!t.underLine||e.blink&&!t.blink||e.invert&&!t.invert?!0:r)&&(o=";"),!r&&e.bright||!t.bright||(o+="1;"),!r&&e.underLine||!t.underLine||(o+="4;"),!r&&e.blink||!t.blink||(o+="5;"),!r&&e.invert||!t.invert||(o+="7;");var i=Gt.defaultFg,a=Gt.defaultBg,s=-1==t.fg?i:t.fg,n=-1==e.fg?i:e.fg,t=-1==t.bg?a:t.bg,e=-1==e.bg?a:e.bg;return(r?s!=i:n!=s)&&(o+="3"+s+";"),(r?t!=a:e!=t)&&(o+="4"+t+";"),o?"["+o.substr(0,o.length-1)+"m":""},isFullWidth:function(e){e=e.charCodeAt(0);return"UTF-8"!=this.view.charset||this.forceFullWidth?127<e:4352<=e&&e<=4447||9001<=e&&e<=9002||11904<=e&&e<=12350||12352<=e&&e<=42191||44032<=e&&e<=55203||63744<=e&&e<=64255||65072<=e&&e<=65135||65280<=e&&e<=65376||65504<=e&&e<=65510},isTextWrappedRow:function(e){var t=this.getRowText(e,0,this.cols),n=t.lastIndexOf("\\");if(0<n){n=lt(t.substr(0,n)).length;if(77!=n&&78!=n)return!1;n=this.lines[e][n];if(7==n.fg&&0===n.bg&&n.bright)return!0}return!1},setPageState:function(){var e,t,n,o=this.rows-1,r=this.cols,i=this.getRowText(o,0,r);0<i.indexOf("請按任意鍵繼續")||0<i.indexOf("請按 空白鍵 繼續")?this.pageState=5:0!==i.indexOf(" 編輯文章  (^Z/F1)說明 (^P/^G)插入符號/範本 (^X/^Q)離開")?ft(i)?this.pageState=3:(n=this.getRowText(0,0,r),this.isUnicolor(0,0,29)&&this.isUnicolor(0,r-20,r-10)?(e=n.indexOf("【主功能表】"),t=n.indexOf("【分類看板】"),n=n.indexOf("【精華文章】"),0===e||0===t||0===n||(i=i,new RegExp(/\[\d{1,2}\/\d{1,2} +星期. +\d{1,2}:\d{1,2}\] .+ 線上\d+人, 我是\w+ +\[呼叫器\](?:關閉|打開) /g).test(i))?this.pageState=1:this.isUnicolor(2,0,r-10)&&!this.isLineEmpty(1)&&(this.cur_x<19||this.cur_y==o)&&(this.pageState=2)):this.isUnicolor(o,28,53)&&this.cur_y==o&&this.cur_x==r-1&&(this.pageState=5),1!=this.pageState&&this.isLineEmpty(o)&&(this.pageState=0)):this.pageState=6},isUnicolor:function(e,t,n){for(var o=this.lines[e],r=o[t].getBg(),i=t;i<n;i++){var a=o[i].getBg();if(a!=r||0===a)return!1}return!0},isLineEmpty:function(e){this.rows;for(var t=this.lines[e],n=0;n<this.cols;n++)if(" "!=t[n].ch||t[n].getBg())return!1;return!0},onMouse_move:function(e,t,n){this.tempMouseCol=e,this.tempMouseRow=t,this.nowHighlight==t&&!n||this.clearHighlight();var o=this.rows-1,r=this.cols;switch(this.pageState){case 0:this.mouseCursor=0;break;case 4:1<t&&t<o-1?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?2:0===t?4:5;break;case 2:2<t&&t<o?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?e<2?8:r-5<e?9:2:0===t?e<2?10:r-5<e?9:4:e<2?12:r-5<e?13:5;break;case 3:this.mouseCursor=t==o?e<2?12:r-5<e?14:5:0===t?e<2?10:r-5<e?9:e<7?1:2:1==t||2==t?e<2?8:r-5<e?9:e<7?1:2:e<7?1:t<12?2:3;break;case 1:this.mouseCursor=0<t&&t<o?7<e?7:1:0;break;default:this.mouseCursor=0}this.BBSWin.style.cursor=Vt[this.mouseCursor]},resetMousePos:function(){this.useMouseBrowsing&&this.onMouse_move(this.tempMouseCol,this.tempMouseRow,!0)},setHighlight:function(e){this._nowHighlight=e,this.view.setHighlightedRow(e)},clearHighlight:function(){this.nowHighlight=-1,this.mouseCursor=0}},Ze.mixin($t.prototype);var tn={en_us:(Qt(ye={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"A GNU/GPL telnet client extension specifically designed for BBS browsing.",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"Copy with ANSI color"},menu_goToOtherSite:{message:"Other site"},menu_paste:{message:"Paste"},menu_selectAll:{message:"Select all"},menu_mouseBrowsing:{message:"Mouse"},menu_settings:{message:"Settings"},cmenu_copy:{message:"Copy"},cmenu_copyAnsi:{message:"Copy with ANSI colors"},cmenu_paste:{message:"Paste"},cmenu_selectAll:{message:"Select all"},cmenu_searchGoogle:{message:"Search Google for"},cmenu_quickSearch:{message:"Quick Search"},cmenu_openUrlNewTab:{message:"Open link in new tab"},cmenu_copyLinkUrl:{message:"Copy link address"},cmenu_mouseBrowsing:{message:"Mouse browsing"},cmenu_showInputHelper:{message:"Input helper ..."},cmenu_showLiveArticleHelper:{message:"Live article helper ..."},cmenu_settings:{message:"Settings"},cmenu_restartInTab:{message:"Restart PttChrome in a new tab"},options_general:{message:"General"},options_about:{message:"About"},options_enablePicPreview:{message:"Enable preview when hover on image URLs."},options_enableNotifications:{message:"Enable notifications when a message is received."},options_enableEasyReading:{message:"Enable easy reading article view. (experimental)"},options_endTurnsOnLiveUpdate:{message:"Press END turns on pushthread live update."},options_copyOnSelect:{message:"Copy text when selected."},options_preferences:{message:"Preferences"},options_antiIdleTime:{message:"Anti-idle interval (sec)"},options_lineWrap:{message:"Wrap line for pasting text longer than"},options_reset:{message:"Restore defaults"},options_appearance:{message:"Appearance"},options_bbsMargin:{message:"Margins around BBS view (px)"},options_fontSize:{message:"BBS font size"},options_termSize:{message:"BBS terminal size"},options_cols:{message:"Columns"},options_rows:{message:"Rows"}},"options_fontSize",{message:"Font size (px)"}),Qt(ye,"options_fontSizeMax",{message:"Maximum font size (px)"}),Qt(ye,"options_fixedTermSize",{message:"Fixed term size"}),Qt(ye,"options_fixedFontSize",{message:"Fixed font size"}),Qt(ye,"options_maxFontSize",{message:"Maximum-limited font size"}),Qt(ye,"options_fontFitWindowWidth",{message:"Stretch font to fill the view"}),Qt(ye,"options_fontFace",{message:"Font face"}),Qt(ye,"options_mouse",{message:"Mouse"}),Qt(ye,"options_mouseBrowsing",{message:"Mouse browsing"}),Qt(ye,"options_useMouseBrowsing",{message:"Mouse browsing on start"}),Qt(ye,"options_mouseBrowsingHighlight",{message:"Mouse browsing highlight effect"}),Qt(ye,"options_highlightColor",{message:"Color"}),Qt(ye,"options_mouseLeftFunction",{message:"Mouse left button"}),Qt(ye,"options_mouseMiddleFunction",{message:"Mouse middle button"}),Qt(ye,"options_mouseWheelFunction1",{message:"Mouse wheel"}),Qt(ye,"options_mouseWheelFunction2",{message:"Right mouse key + mouse wheel"}),Qt(ye,"options_mouseWheelFunction3",{message:"Left mouse key + mouse wheel"}),Qt(ye,"options_none",{message:"No action"}),Qt(ye,"options_doPaste",{message:"Perform 'Paste'"}),Qt(ye,"options_leftKey",{message:"Sends LEFT key"}),Qt(ye,"options_rightKey",{message:"Sends RIGHT key"}),Qt(ye,"options_enterKey",{message:"Sends ENTER key"}),Qt(ye,"options_upDown",{message:"Controls up / down"}),Qt(ye,"options_pageUpDown",{message:"Controls pageup / pagedown"}),Qt(ye,"options_threadLastNext",{message:"Controls thread previous / next"}),Qt(ye,"about_appName_subtitle",{message:"An open source BBS client"}),Qt(ye,"about_description",{message:"Originally written by #link_github_iamchucky#. This is a modified version by #link_github_robertabcd#. It supports connecting over Websocket, and works on most browsers."}),Qt(ye,"about_version_title",{message:"Version"}),Qt(ye,"about_version_current",{message:"This version: #link_robertabcd_PttChrome#, #link_GPL20#."}),Qt(ye,"about_version_original",{message:"Original version: webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."}),Qt(ye,"about_new_title",{message:"What's new"}),Qt(ye,"about_new_content",{message:["Add Websocket connection support.","Partially rewrote using React."]}),Qt(ye,"alert_developerModeHeader",{message:"Developer Mode"}),Qt(ye,"alert_developerModeText",{message:"You are using developer mode. Things may break in this version of PttChrome. Use this at your own risk."}),Qt(ye,"alert_developerModeDismiss",{message:"Yes, I understand."}),Qt(ye,"alert_connectionHeader",{message:"You are disconnected!"}),Qt(ye,"alert_connectionText",{message:"Would you like to reconnect to the site?"}),Qt(ye,"alert_connectionReconnect",{message:"Reconnect (ENTER)"}),Qt(ye,"alert_pasteShortcutHeader",{message:"Paste"}),Qt(ye,"alert_pasteShortcutText",{message:"Please use Shift+Insert to paste"}),Qt(ye,"alert_pasteShortcutClose",{message:"OK"}),Qt(ye,"notification_said",{message:"says:"}),Qt(ye,"inputHelperTitle",{message:"Input helper"}),Qt(ye,"colorTitle",{message:"Color"}),Qt(ye,"colorHelperSend",{message:"Send ANSI color code"}),Qt(ye,"colorHelperSendMenuFore",{message:"Send foreground only"}),Qt(ye,"colorHelperSendMenuBack",{message:"Send background only"}),Qt(ye,"colorHelperSendMenuReset",{message:"Send reset code"}),Qt(ye,"colorHelperBlink",{message:"Blink"}),Qt(ye,"colorHelperPreview",{message:"▅ PREVIEW ▅"}),Qt(ye,"colorHelperTooltip1",{message:"Left click: foreground color"}),Qt(ye,"colorHelperTooltip2",{message:"Right click: background color, upper row only"}),Qt(ye,"symTitle",{message:"Symbols"}),Qt(ye,"symTitle_general",{message:"General"}),Qt(ye,"symTitle_lineBorders",{message:"Line borders"}),Qt(ye,"symTitle_blocks",{message:"Blocks"}),Qt(ye,"symTitle_lines",{message:"Lines"}),Qt(ye,"symTitle_special",{message:"Special"}),Qt(ye,"symTitle_brackets",{message:"Brackets"}),Qt(ye,"symTitle_greek",{message:"Greek"}),Qt(ye,"symTitle_phonetic",{message:"Phonetic"}),Qt(ye,"symTitle_math",{message:"Math"}),Qt(ye,"symTitle_hiragana",{message:"Hiragana"}),Qt(ye,"symTitle_katakana",{message:"Katakana"}),Qt(ye,"emoTitle",{message:"Emoticons"}),Qt(ye,"emoTitle_angry",{message:"Angry"}),Qt(ye,"emoTitle_meh",{message:"Meh"}),Qt(ye,"emoTitle_sweat",{message:"Sweat & awkward"}),Qt(ye,"emoTitle_happy",{message:"Happy"}),Qt(ye,"emoTitle_other",{message:"Others"}),Qt(ye,"liveHelperEnable",{message:"Enable"}),Qt(ye,"liveHelperSpan",{message:"pushthread refreshes every"}),Qt(ye,"liveHelperSpanSec",{message:"sec"}),Qt(ye,"tooltip_antiIdleTime",{message:"Input 0 to disable this feature."}),Qt(ye,"tooltip_fontFace",{message:"Separate each font with a comma, start with the desired font and end with a generic font."}),ye),zh_tw:(Zt(u={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"專為 BBS 瀏覽設計，採 GNU/GPL 授權的 telnet 連線程式套件",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"複製 (包含 ANSI 顏色)"},menu_goToOtherSite:{message:"其他站台"},menu_paste:{message:"貼上"},menu_selectAll:{message:"全選"},menu_mouseBrowsing:{message:"滑鼠瀏覽"},menu_settings:{message:"設定"},cmenu_copy:{message:"複製"},cmenu_copyAnsi:{message:"複製 (包含 ANSI 顏色)"},cmenu_paste:{message:"貼上"},cmenu_selectAll:{message:"全選"},cmenu_searchGoogle:{message:"在 Google 上搜尋"},cmenu_quickSearch:{message:"快速搜尋"},cmenu_openUrlNewTab:{message:"在新分頁中開啟連結"},cmenu_copyLinkUrl:{message:"複製連結網址"},cmenu_mouseBrowsing:{message:"滑鼠瀏覽"},cmenu_showInputHelper:{message:"輸入小幫手 ..."},cmenu_showLiveArticleHelper:{message:"Live 文小幫手 ..."},cmenu_settings:{message:"設定"},cmenu_restartInTab:{message:"在新分頁重新開啟 PttChrome"},options_general:{message:"一般"},options_about:{message:"關於"},options_enablePicPreview:{message:"當滑鼠在圖片連結上時顯示圖片預覽"},options_enableNotifications:{message:"啟用水球通知"},options_enableEasyReading:{message:"啟用文章好讀模式 (實驗性)"},options_endTurnsOnLiveUpdate:{message:"END 啟用推文即時更新 (如 Alt + r)"},options_copyOnSelect:{message:"選取文字時自動複製文字"},options_preferences:{message:"設定"},options_antiIdleTime:{message:"防閒置間隔 (秒)"},options_lineWrap:{message:"自動換行, 當貼上的字長於"},options_reset:{message:"設回預設值"},options_appearance:{message:"介面"},options_bbsMargin:{message:"BBS 周圍邊距 (像素)"},options_fontSize:{message:"BBS 字體大小"},options_termSize:{message:"BBS 終端機大小"},options_cols:{message:"寬"},options_rows:{message:"高"}},"options_fontSize",{message:"字體大小 (px)"}),Zt(u,"options_fontSizeMax",{message:"最大字體大小 (px)"}),Zt(u,"options_fixedTermSize",{message:"固定終端機大小"}),Zt(u,"options_fixedFontSize",{message:"固定字體大小"}),Zt(u,"options_maxFontSize",{message:"限制最大字體大小"}),Zt(u,"options_fontFitWindowWidth",{message:"把字體拉大來補滿畫面"}),Zt(u,"options_fontFace",{message:"字型"}),Zt(u,"options_mouseBrowsing",{message:"滑鼠瀏覽"}),Zt(u,"options_useMouseBrowsing",{message:"預設使用滑鼠瀏覽"}),Zt(u,"options_mouseBrowsingHighlight",{message:"啟用滑鼠瀏覽的底色效果"}),Zt(u,"options_highlightColor",{message:"底色"}),Zt(u,"options_mouseLeftFunction",{message:"滑鼠左鍵"}),Zt(u,"options_mouseMiddleFunction",{message:"滑鼠中鍵"}),Zt(u,"options_mouseWheelFunction1",{message:"滑鼠滾輪"}),Zt(u,"options_mouseWheelFunction2",{message:"滑鼠右鍵 + 滑鼠滾輪"}),Zt(u,"options_mouseWheelFunction3",{message:"滑鼠左鍵 + 滑鼠滾輪"}),Zt(u,"options_none",{message:"無動作"}),Zt(u,"options_doPaste",{message:"執行 '貼上'"}),Zt(u,"options_leftKey",{message:"送出左方向鍵"}),Zt(u,"options_rightKey",{message:"送出右方向鍵"}),Zt(u,"options_enterKey",{message:"送出ENTER鍵"}),Zt(u,"options_upDown",{message:"控制上 / 下"}),Zt(u,"options_pageUpDown",{message:"控制上頁 / 下頁"}),Zt(u,"options_threadLastNext",{message:"控制文章前篇 / 下篇"}),Zt(u,"about_appName_subtitle",{message:"開放原始碼的 BBS 瀏覽軟體"}),Zt(u,"about_description",{message:"原作者為 #link_github_iamchucky#。此版本是由 #link_github_robertabcd# 修改，使用 Websocket 加密連線，並支援大多數瀏覽器。"}),Zt(u,"about_version_title",{message:"版本"}),Zt(u,"about_version_current",{message:"此版本：#link_robertabcd_PttChrome#, #link_GPL20#."}),Zt(u,"about_version_original",{message:"原版本：webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."}),Zt(u,"about_new_title",{message:"新功能"}),Zt(u,"about_new_content",{message:["加入 Websocket 連線","部分使用 React 重構"]}),Zt(u,"alert_developerModeHeader",{message:"開發者模式"}),Zt(u,"alert_developerModeText",{message:"您正在使用開發者模式。此版本的 PttChrome 並不穩定，無法保證所有功能會正常運作。"}),Zt(u,"alert_developerModeDismiss",{message:"是，我瞭解了"}),Zt(u,"alert_connectionHeader",{message:"你斷線了!"}),Zt(u,"alert_connectionText",{message:"現在要重新連線嗎?"}),Zt(u,"alert_connectionReconnect",{message:"重新連線 (ENTER)"}),Zt(u,"alert_pasteShortcutHeader",{message:"貼上"}),Zt(u,"alert_pasteShortcutText",{message:"請使用 Shift+Insert 快速鍵來貼上。"}),Zt(u,"alert_pasteShortcutClose",{message:"確定"}),Zt(u,"notification_said",{message:"說:"}),Zt(u,"inputHelperTitle",{message:"輸入小幫手"}),Zt(u,"colorTitle",{message:"上色"}),Zt(u,"colorHelperSend",{message:"送出 ANSI 顏色字元"}),Zt(u,"colorHelperSendMenuFore",{message:"只送出前景色彩"}),Zt(u,"colorHelperSendMenuBack",{message:"只送出背景色彩"}),Zt(u,"colorHelperSendMenuReset",{message:"送出色彩還原碼"}),Zt(u,"colorHelperBlink",{message:"閃爍"}),Zt(u,"colorHelperPreview",{message:"▅ 預 覽 ▅"}),Zt(u,"colorHelperTooltip1",{message:'點滑鼠"左"鍵選"前景"顏色'}),Zt(u,"colorHelperTooltip2",{message:'點滑鼠"右"鍵選"背景"顏色 (上排)'}),Zt(u,"symTitle",{message:"符號"}),Zt(u,"symTitle_general",{message:"一般"}),Zt(u,"symTitle_lineBorders",{message:"線條邊框"}),Zt(u,"symTitle_blocks",{message:"方塊"}),Zt(u,"symTitle_lines",{message:"線條"}),Zt(u,"symTitle_special",{message:"特殊"}),Zt(u,"symTitle_brackets",{message:"括弧"}),Zt(u,"symTitle_greek",{message:"希臘"}),Zt(u,"symTitle_phonetic",{message:"注音"}),Zt(u,"symTitle_math",{message:"數學"}),Zt(u,"symTitle_hiragana",{message:"平假名"}),Zt(u,"symTitle_katakana",{message:"片假名"}),Zt(u,"emoTitle",{message:"表情"}),Zt(u,"emoTitle_angry",{message:"生氣"}),Zt(u,"emoTitle_meh",{message:"酸民"}),Zt(u,"emoTitle_sweat",{message:"汗顏加三條線"}),Zt(u,"emoTitle_happy",{message:"開心"}),Zt(u,"emoTitle_other",{message:"其他"}),Zt(u,"liveHelperEnable",{message:"啟用"}),Zt(u,"liveHelperSpan",{message:"推文每"}),Zt(u,"liveHelperSpanSec",{message:"秒自動更新"}),Zt(u,"tooltip_antiIdleTime",{message:"輸入 0 可停用這功能。"}),Zt(u,"tooltip_fontFace",{message:"以逗號隔開，由欲套用的字型開始至較通用的字型。"}),u)},nn={};function on(e){if(nn[e])return nn[e].message;console.log("missing i18n "+e)}function rn(){nn=tn[function(){var e,t=Jt(navigator.languages||[navigator.language||navigator.userLanguage||""]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if((n=n.toLowerCase().replace("-","_"))in tn)return n}}catch(e){t.e(e)}finally{t.f()}return"en_us"}()]}function an(e,t,n){return e?{timer:setInterval(t,n),cancel:function(){clearInterval(this.timer)}}:{timer:setTimeout(t,n),cancel:function(){clearTimeout(this.timer)}}}function sn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw r}}}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ln(){var t=this;this.bbsWidth=0,this.bbsHeight=0,this.dbcsDetect=!0,this.highlightBG=2,this.charset="big5",this.middleButtonFunction=0,this.leftButtonFunction=!1,this.mouseWheelFunction1=1,this.mouseWheelFunction2=2,this.mouseWheelFunction3=3,this.fontFitWindowWidth=!1,this.bbsViewMargin=0,this.buf=null,this.bbscore=null,this.page=null,this.cursorX=0,this.cursorY=0,this.useEasyReadingMode=!1,this.easyReadingKeyDownKeyCode=0,this.curRow=0,this.curCol=0,this.actualRowIndex=0,this.lineWrap=78,this.blinkOn=!1,this.componentScreen={setCurrentHighlighted:function(){}},this.selection=null,this.input=document.getElementById("t"),this.bbsCursor=document.getElementById("cursor"),this.BBSWin=document.getElementById("BBSWindow"),this.enablePicPreview=!0,this.scaleX=1,this.scaleY=1;var e=document.createElement("style");document.head.appendChild(e),this.dynamicCss=e.sheet,this.innerBounds={width:0,height:0},this.firstGridOffset={top:0,left:0},this.enableNotifications=!0,this.titleTimer=null,this.notif=null,Object.defineProperty(this,"mainContainer",{get:function(){return $("#mainContainer")[0]}});var n=document.createElement("div");n.setAttribute("class","main"),this.BBSWin.appendChild(n),this.mainDisplay=n;e=document.createElement("div");e.setAttribute("id","easyReadingLastRow");n=" ".repeat(55);this.lastRowDivContent='<span align="left"><span class="q0 b7">'+n+'</span><span class="q1 b7">(y)</span><span class="q0 b7">回應</span><span class="q1 b7">(X%)</span><span class="q0 b7">推文</span><span class="q1 b7">(←)</span><span class="q0 b7">離開 </span> </span>',e.innerHTML=this.lastRowDivContent,this.lastRowDiv=e,this.BBSWin.appendChild(e);e=document.createElement("div");e.setAttribute("id","easyReadingReplyRow"),this.replyRowDivContent='<span align="left"></span>',e.innerHTML=this.replyRowDivContent,this.replyRowDiv=e,this.BBSWin.appendChild(e),this.mainDisplay.style.border="0px",this.setFontFace("MingLiu,monospace"),this._keyboard=new Qe(this.checkLeftDB.bind(this),this.checkCurDB.bind(this),this._send.bind(this)),this.input.addEventListener("compositionstart",function(e){t.onCompositionStart(e),t.bbscore.setInputAreaFocus()},!1),this.input.addEventListener("compositionend",function(e){t.onCompositionEnd(e),t.bbscore.setInputAreaFocus(),t.onInput(e)},!1);function o(){return!t.bbscore.modalShown&&!t.bbscore.contextMenuShown}function r(e){return 229!=e.keyCode&&(0!=e.keyCode&&(!(t.isComposition&&!e.ctrlKey&&!e.altKey)&&!e.metaKey))}addEventListener("keypress",function(e){o()&&r(e)&&t._keyboard.onKeyPress(e)}),addEventListener("keydown",function(e){o()&&r(e)&&(e.altKey||t.bbscore.onDisableLiveHelperModalState(),15<e.keyCode&&e.keyCode<19||t.onKeyDown(e))},!1),addEventListener("keyup",function(e){o()&&(15<e.keyCode&&e.keyCode<19||t.bbscore.setInputAreaFocus())},!1),this.input.addEventListener("input",function(e){t.onInput(e)},!1)}ln.prototype={onBlink:function(){this.blinkOn=!0,this.buf.queueUpdate(!0)},setBuf:function(e){this.buf=e},setConn:function(e){this.conn=e},_send:function(e){this.conn&&this.conn.send(e)},_convSend:function(e){this.conn&&this.conn.convSend(e)},setCore:function(e){this.bbscore=e},_isConnected:function(){return this.bbscore.isConnected()&&!!this.conn},setFontFace:function(e){this.fontFace=e,this.input.style.setProperty("font-family",this.fontFace,"important"),this.mainDisplay.style.setProperty("font-family",this.fontFace,"important"),this.lastRowDiv.style.setProperty("font-family",this.fontFace,"important"),this.replyRowDiv.style.setProperty("font-family",this.fontFace,"important"),document.getElementById("cursor").style.setProperty("font-family",this.fontFace,"important")},update:function(){this.redraw(!1)},redraw:function(e){for(var t,n,o,r,i,a=this.buf.cols,s=this.buf.rows,c=this.buf.lineChangeds,l=[],u=[],f=this.buf.lines,d=0;d<s;++d){this.chh;var h=f[this.curRow=d];if(!1!==c[d]||e){var p=!1;this.chw;for(this.curCol=0;this.curCol<a;++this.curCol)p=!0;p&&(p=!1,l.push(h),u.push(d),c[d]=!1)}}0<l.length&&(this.useEasyReadingMode?this.buf.startedEasyReading&&this.buf.easyReadingShowReplyText?this.updateEasyReadingReplyRow(l[l.length-1]):this.buf.startedEasyReading&&this.buf.easyReadingShowPushInitText?this.updateEasyReadingPushInitRow(l[l.length-1]):this.populateEasyReadingPage():(this.componentScreen=(t=f.slice(),n=this.chh,o=!1,r=this.enablePicPreview,i=this.mainDisplay,ReactDOM.render(React.createElement(Kt,{lines:t,forceWidth:n,enableLinkInlinePreview:o,enableLinkHoverPreview:r}),i)),this.setHighlightedRow(this.buf.nowHighlight)),this.buf.prevPageState=this.buf.pageState)},setHighlightedRow:function(e){console.log("setHighlightedRow: ".concat(e,", this.buf.highlightCursor:").concat(this.buf.highlightCursor)),this.buf.highlightCursor&&this.componentScreen.setCurrentHighlighted(e)},onInput:function(e){this.bbscore.modalShown||this.bbscore.contextMenuShown||(this.isComposition?this.updateInputBufferWidth():(this.useEasyReadingMode&&this.buf.startedEasyReading&&!this.buf.easyReadingShowReplyText&&!this.buf.easyReadingShowPushInitText&&229==this.easyReadingKeyDownKeyCode&&"X"!=e.target.value||!e.target.value||this.onTextInput(e.target.value),e.target.value=""))},onTextInput:function(e,t){t&&(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/\r/g,"\r")).indexOf("")<0&&0<this.lineWrap?function(e,t,n){for(var o=e.match(/\r|\n|([^\x00-\x7f][,.?!:;]?[\t ]*)|([\x00-\x08\x0b\x0c\x0e-\x1f\x21-\x7f]+[\t ]*)|[\t ]+/g),r="",i=0,a=0;a<o.length;++a){var s=o[a].replace(/[^\x00-\x7f]/g,"  ").replace(/\t/,"    ").replace(/\r|\n/,"").length;t<(i="\r"==o[a]||"\n"==o[a]?0:i)+s&&(r+=n,i=0),r+=o[a],i+=s}return r}(e,this.lineWrap,"\r"):e).replace(/\x1b/g,"")),this._convSend(e)},onKeyDown:function(e){if(!this.useEasyReadingMode||!this.buf.startedEasyReading||this.buf.easyReadingShowReplyText||this.buf.easyReadingShowPushInitText||(this.easyReadingKeyDownKeyCode=e.keyCode,this.bbscore.easyReading._onKeyDown(e),!e.defaultPrevented)){var t,n=!1;if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey)e.ctrlKey&&!e.altKey&&e.shiftKey&&"V"===e.key.toLowerCase()&&(this.bbscore.doPaste(),n=!0);else switch(e.key.toLowerCase()){case"c":window.getSelection().isCollapsed||(t=window.getSelection().toString().replace(/\u00a0/g," "),this.bbscore.doCopy(t),n=!0);break;case"a":this.bbscore.doSelectAll(),n=!0}else"End"===e.key&&(2!=this.bbscore.buf.pageState&&3!=this.bbscore.buf.pageState||!this.bbscore.endTurnsOnLiveUpdate||(this.bbscore.onToggleLiveHelperModalState(),n=!0));n?e.preventDefault():(this._keyboard.onKeyDown(e),e.defaultPrevented)}},setTermFontSize:function(e,t){var n=this.innerBounds;this.chw=e,this.chh=t;e=this.chh+"px",t=this.chw*this.buf.cols+10+"px";this.mainDisplay.style.fontSize=e,this.mainDisplay.style.lineHeight=e,this.bbsCursor.style.fontSize=e,this.bbsCursor.style.lineHeight=e,this.mainDisplay.style.overflowX="hidden",this.mainDisplay.style.overflowY="auto",this.mainDisplay.style.textAlign="left",this.mainDisplay.style.width=t,this.mainDisplay.style.height=this.chh*this.buf.rows+10+"px",this.lastRowDiv.style.fontSize=e,this.lastRowDiv.style.width=t,this.replyRowDiv.style.fontSize=e,this.replyRowDiv.style.width=t,this.chh*this.buf.rows<n.height?this.mainDisplay.style.marginTop=(n.height-this.chh*this.buf.rows)/2+this.bbsViewMargin+"px":this.mainDisplay.style.marginTop=this.bbsViewMargin+"px",this.fontFitWindowWidth?(this.scaleX=Math.floor(n.width/(this.chw*this.buf.cols+10)*100)/100,this.scaleY=Math.floor(n.height/(this.chh*this.buf.rows)*100)/100):(this.scaleX=1,this.scaleY=1);t="none";1!=this.scaleX||1!=this.scaleY?(t="scale("+this.scaleX+","+this.scaleY+")",n="left",this.mainDisplay.style.webkitTransformOriginX=n="center",this.lastRowDiv.style.webkitTransformOriginX=n,this.replyRowDiv.style.webkitTransformOriginX=n,this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"):(this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""),this.mainDisplay.style.webkitTransform=t,this.lastRowDiv.style.webkitTransform=t,this.replyRowDiv.style.webkitTransform=t,this.firstGridOffset=this.bbscore.getFirstGridOffsets(),this.updateReverseScaleCss(),this.updateCursorPos()},updateReverseScaleCss:function(){for(var e="img.hyperLinkPreview { -webkit-transform: scale("+Math.floor(1/this.scaleX*100)/100+","+Math.floor(1/this.scaleY*100)/100+"); }";0<this.dynamicCss.cssRules.length;)this.dynamicCss.deleteRule(0);this.dynamicCss.insertRule(e,this.dynamicCss.cssRules.length)},convertMN2XYEx:function(e,t){var n=this.innerBounds.width,o=this.innerBounds.height,o=1!=this.scaleX||1!=this.scaleY?[(n-(this.chw*this.buf.cols+10)*this.scaleX)/2+this.bbsViewMargin,(o-this.chh*this.buf.rows*this.scaleY)/2+this.bbsViewMargin]:[this.firstGridOffset.left,this.firstGridOffset.top];return[o[0]+e*this.chw*this.scaleX,o[1]+t*this.chh*this.scaleY]},checkLeftDB:function(){if(this.dbcsDetect&&1<this.buf.cur_x&&this.buf.lines[this.buf.cur_y][this.buf.cur_x-2].isLeadByte)return!0;return!1},checkCurDB:function(){if(this.dbcsDetect&&this.buf.lines[this.buf.cur_y][this.buf.cur_x].isLeadByte)return!0;return!1},updateCursorPos:function(){var e,t,n=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y);this.buf.cur_y>=this.buf.rows||this.buf.cur_x>=this.buf.cols||(e=this.buf.lines[this.buf.cur_y][this.buf.cur_x].getBg(),1==this.scaleX&&1==this.scaleY?(this.bbsCursor.style.webkitTransform="none",this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""):(t="scale("+this.scaleX+","+this.scaleY+")",this.mainDisplay.style.webkitTransform=t,this.lastRowDiv.style.webkitTransform=t,this.replyRowDiv.style.webkitTransform=t,this.bbsCursor.style.webkitTransform=t,this.bbsCursor.style.webkitTransformOriginX="left",this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"),this.bbsCursor.style.left=n[0]+"px",this.bbsCursor.style.top=n[1]-this.scaleY+"px",this.bbsCursor.style.color=Yt[e],this.updateInputBufferPos())},updateInputBufferPos:function(){var e,t,n;"1"==this.input.getAttribute("bshow")&&(e=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y),this.input.style.opacity="1",this.input.style.border="double",this.input.style.fontSize=this.chh-4+"px",this.input.style.height=this.chh+"px",t=(n=this.innerBounds).height,n=n.width,t<e[1]+parseFloat(this.input.style.height)+this.chh?this.input.style.top=e[1]-parseFloat(this.input.style.height)-this.chh+4+"px":this.input.style.top=e[1]+this.chh+"px",n<e[0]+parseFloat(this.input.style.width)?this.input.style.left=n-parseFloat(this.input.style.width)-10+"px":this.input.style.left=e[0]+"px")},updateInputBufferWidth:function(){var e=lt(this.input.value).length,t=this.chh/2-2,n=t*e;this.input.style.width=n+"px";e=this.innerBounds;parseInt(this.input.style.left)+n+2*t>=e.width&&(this.input.style.left=e.width-n-2*t+"px")},onCompositionStart:function(e){this.input.setAttribute("bshow","1"),this.updateInputBufferPos(),this.isComposition=!0},onCompositionEnd:function(e){this.input.setAttribute("bshow","0"),this.input.style.border="none",this.input.style.width="1px",this.input.style.height="1px",this.input.style.left="-100000px",this.input.style.top="-100000px",this.input.style.opacity="0",this.isComposition=!1},fontResize:function(){var e=this.buf?this.buf.cols:80,t=this.buf?this.buf.rows:24,n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height;if(0!==n&&0!==o){n-=10;var r,i,a=4;for(this.chh,this.chw;r=2*++a*t,i=a*e,r<=o&&i<=n;);--a,this.fixedResize(2*a)}},fixedResize:function(e){var t=e;this.setTermFontSize(e/2,t);for(var n=document.querySelectorAll(".wpadding"),o=0;o<n.length;++o)n[o].style.width=t+"px"},calcTermSizeFromFont:function(e){e=2*Math.floor((e+1)/2);var t=this.bbsWidth||this.innerBounds.width,n=this.bbsHeight||this.innerBounds.height;return{cols:Math.max(80,Math.min(200,Math.floor(2*(t-10)/e))),rows:Math.max(24,Math.min(100,Math.floor(n/e)))}},calcFontSizeFromTerm:function(e,t){e=Math.max(80,Math.min(200,e)),t=Math.max(24,Math.min(100,t));var n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height,e=Math.floor(2*(n-10)/e),t=Math.floor(o/t);return Math.min(e,t)},getRowLineElement:function(e){for(var t=e;t&&t!=t.parentNode;t=t.parentNode)if(t instanceof Element&&"bbsline"==t.getAttribute("data-type"))return t;return null},countCol:function(r,i){var e=this.getRowLineElement(r);if(!e)return{row:0,col:0};var a=0;return function e(t){if(t==r)return a+=lt(t.textContent.substring(0,i)).length,!1;if("#text"==t.nodeName)return a+=lt(t.textContent).length,!0;var n,o=sn(t.childNodes);try{for(o.s();!(n=o.n()).done;)if(!e(n.value))return!1}catch(e){o.e(e)}finally{o.f()}return!0}(e),{row:parseInt(e.getAttribute("data-row")),col:a}},getSelectionColRow:function(){var e=window.getSelection().getRangeAt(0);return{start:this.countCol(e.startContainer,e.startOffset),end:this.countCol(e.endContainer,e.endOffset)}},showWaterballNotification:function(){var e,t,n;this.enableNotifications&&(e=this.bbscore,t=e.waterball.userId+" "+on("notification_said"),this.titleTimer&&(this.titleTimer.cancel(),this.titleTimer=null),this.titleTimer=an(!0,function(){document.title==e.connectedUrl.site?document.title=t+" "+e.waterball.message:document.title=e.connectedUrl.site},1500),n={icon:o(115),body:e.waterball.message,tag:e.waterball.userId},this.notif=new Notification(t,n),this.notif.onclick=function(){window.focus()})},populateEasyReadingPage:function(){if(3==this.buf.pageState&&3==this.buf.prevPageState){this.mainContainer.style.paddingBottom="1em";var e=ft(this.buf.getRowText(this.buf.rows-1,0,this.buf.cols));if(e){this.buf.pageLines.length;var t=1,n=!1;if(e.pageIndex==e.pageTotal&&100==e.pagePercent||e.rowIndexStart!=this.actualRowIndex){for(var n=e.rowIndexStart!=this.actualRowIndex,o=0,r=e.rowIndexStart;r<this.actualRowIndex+1;++r)o+=this.buf.pageWrappedLines[r];t=o}for(r=t;r<this.buf.rows-1;++r)0<r&&this.buf.isTextWrappedRow(r-1)?(this.buf.pageWrappedLines[this.actualRowIndex]+=1,n||r!=t||t++):this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.appendRows(this.buf.lines.slice(t,-1),!0),this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(t,-1))))}this.buf.prevPageState=3}else{if(this.mainContainer.style.paddingBottom="",this.actualRowIndex=0,this.buf.pageWrappedLines=[],3==this.buf.pageState){this.buf.getRowText(this.buf.rows-1,0,this.buf.cols);for(r=0;r<this.buf.rows-1;++r)4==r||0<r&&this.buf.isTextWrappedRow(r-1)?this.buf.pageWrappedLines[this.actualRowIndex]+=1:this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.clearRows(),this.appendRows(this.buf.lines.slice(0,-1),!0),this.lastRowDiv.innerHTML=this.lastRowDivContent,this.lastRowDiv.style.display="block",this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(0,-1))))}else this.hideEasyReading();this.buf.prevPageState=this.buf.pageState}},clearRows:function(){this.mainContainer.innerHTML=""},appendRows:function(e,t){for(var n in e){var o=e[n],n=document.createElement("span");n.setAttribute("type","bbsrow"),n.setAttribute("srow",this.mainContainer.childNodes.length),this.mainContainer.appendChild(n),Xt(o,this.mainContainer.childNodes.length,this.chh,t,n)}},renderSingleRow:function(e,t){var n=document.createElement("span");return n.setAttribute("type","bbsrow"),n.setAttribute("srow","0"),e.appendChild(n),Xt(t,0,this.chh,!1,n)},hideEasyReading:function(){this.lastRowDiv.style.display="",this.replyRowDiv.style.display="",this.buf.pageLines=[],this.clearRows(),this.appendRows(this.buf.lines,!1)},updateEasyReadingReplyRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.replyRowDiv.childNodes[0],t),this.replyRowDiv.style.display="block"},updateEasyReadingPushInitRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.lastRowDiv.childNodes[0],t)},setSingleChild:function(e,t){for(;0<e.childNodes.length;)e.removeChild(e.lastChild);e.appendChild(t)}};var un="ÿ";function fn(e){this.socket=e,this.socket.addEventListener("open",this._onOpen.bind(this)),this.socket.addEventListener("data",this._onDataAvailable.bind(this)),this.socket.addEventListener("close",this._onClose.bind(this)),this.state=0,this.iac_sb="",this.termType="VT100"}function dn(e){this._conn=new WebSocket(e),this._conn.binaryType="arraybuffer",this._conn.addEventListener("open",this._onOpen.bind(this)),this._conn.addEventListener("message",this._onMessage.bind(this)),this._conn.addEventListener("error",this._onError.bind(this)),this._conn.addEventListener("close",this._onClose.bind(this))}Ze.mixin(fn.prototype),fn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},fn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},fn.prototype._onDataAvailable=function(e){for(var t=e.detail.data,n="",o=t.length;0<o;){var r=t;o-=r.length;for(var i=r.length,a=0;a<i;++a){var s,c=r[a];switch(this.state){case 0:c==un?(n&&(this._dispatchData(n),n=""),this.state=1):n+=c;break;case 1:switch(c){case"û":this.state=2;break;case"ü":this.state=3;break;case"ý":this.state=4;break;case"þ":this.state=5;break;case"ú":this.state=6;break;default:this.state=0}break;case 2:switch(c){case"":case"":this._sendRaw("ÿý"+c);break;default:this._sendRaw("ÿþ"+c)}this.state=0;break;case 4:switch(c){case"":this._sendRaw("ÿû"+c);break;case"":this.dispatchEvent(new CustomEvent("doNaws"));break;default:this._sendRaw("ÿü"+c)}this.state=0;break;case 5:case 3:this.state=0;break;case 6:if(this.iac_sb+=c,"ÿð"==this.iac_sb.slice(-2)){""===this.iac_sb[0]&&(s="ÿú\0"+this.termType+un+"ð",this._sendRaw(s)),this.state=0,this.iac_sb="";break}}}n&&(this._dispatchData(n),n="")}},fn.prototype._dispatchData=function(e){this.dispatchEvent(new CustomEvent("data",{detail:{data:e}}))},fn.prototype.send=function(e){this._sendRaw(e)},fn.prototype._sendRaw=function(e){e&&this.socket.send(e)},fn.prototype.convSend=function(e){e=lt(e);e&&(e=function(e){for(var t,n="",o=new RegExp("\\[(([0-9]+)?;)+50m","g"),r=[];t=o.exec(e);)r.push(t.index+t[0].length-4);if(0===r.length)return e;for(var i=0,a=0;a<r.length;++a){var s=r[a],c=e.substring(i,s).lastIndexOf("")+i;n+=e.substring(i,c)+"\0"+e.substring(s+4,s+5)+e.substring(c,s)+"m",i=s+5}return n+=e.substring(i)}(e),this._sendRaw(e))},fn.prototype.sendWillNaws=function(e,t){this._sendRaw("ÿû")},fn.prototype.sendNaws=function(e,t){t=String.fromCharCode(Math.floor(e/256),e%256,Math.floor(t/256),t%256).replace(/(\xff)/g,"ÿÿ");this._sendRaw("ÿú"+t+un+"ð")},Ze.mixin(dn.prototype),dn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},dn.prototype._onMessage=function(e){e=new Uint8Array(e.data);this.dispatchEvent(new CustomEvent("data",{detail:{data:String.fromCharCode.apply(String,e)}}))},dn.prototype._onError=function(e){this.dispatchEvent(new CustomEvent("error"))},dn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},dn.prototype.send=function(e){for(var t=0;t<e.length;t+=1e3){var n=e.substring(t,t+1e3),n=new Uint8Array(n.split("").map(function(e){return e.charCodeAt(0)}));this._conn.send(n.buffer)}},dn.prototype.close=function(){this._conn.close()};function hn(n){return function(e){var t=Object(ee.createFactory)(e);return function(e){return t(n(e))}}}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function gn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vn(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=t(e[n],n));return o}var bn,c=o(7),yn=o.n(c),i=o(26),wn=o(16),xn=o(9),En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},b=function(n){return function(e){var i,t=Object(ee.createFactory)(e),e=(i=ee.Component,mn(a,i),a.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},a.prototype.render=function(){return t(En({},this.props,this.handlers))},a);function a(){var e,t;pn(this,a);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=gn(this,i.call.apply(i,[this].concat(o))),s.call(e=t),gn(t,e)}var s=function(){var o=this;this.cachedHandlers={},this.handlers=vn("function"==typeof n?n(this.props):n,function(t,n){return function(){var e=o.cachedHandlers[n];if(e)return e.apply(void 0,arguments);e=t(o.props);return(o.cachedHandlers[n]=e).apply(void 0,arguments)}})};return e}},P=(Object.keys,function(n,o){return function(e){var i,t=Object(ee.createFactory)(e),e=(i=ee.Component,mn(a,i),a.prototype.shouldComponentUpdate=function(e,t){e=e!==this.props,t=!yn()(t,this.state);return e||t},a.prototype.render=function(){return t(En({},this.props,this.state,this.stateUpdaters))},a);function a(){var e,t;pn(this,a);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=gn(this,i.call.apply(i,[this].concat(o))),s.call(e=t),gn(t,e)}var s=function(){var i=this;this.state="function"==typeof n?n(this.props):n,this.stateUpdaters=vn(o,function(r){return function(n){for(var e=arguments.length,o=Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];n&&"function"==typeof n.persist&&n.persist(),i.setState(function(e,t){return r(e,t).apply(void 0,[n].concat(o))})}})};return e}});bn=ee.Component,mn(_n,bn),_n.prototype.render=function(){return null};function _n(){return pn(this,_n),gn(this,bn.apply(this,arguments))}Ie=function(i){return function(e){var t=Object(ee.createFactory)(e);var n,o=(n=ee.Component,mn(r,n),r.prototype.render=function(){return t(En({},this.props,this.state))},r);function r(){return pn(this,r),gn(this,n.apply(this,arguments))}return Object.keys(i).forEach(function(e){return o.prototype[e]=i[e]}),o}};function Cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var kn,Sn={fromESObservable:null,toESObservable:null},On={fromESObservable:function(e){return"function"==typeof Sn.fromESObservable?Sn.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof Sn.toESObservable?Sn.toESObservable(e):e}},n=(kn=On,o(8));function Tn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Pn(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);t=n.call(e,t||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}function Rn(e,t,r){var n=Object(ee.useRef)(void 0!==e),o=Object(ee.useState)(t),i=o[0],a=o[1],s=void 0!==e,o=n.current;return!(n.current=s)&&o&&i!==t&&a(t),[s?e:i,Object(ee.useCallback)(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),a(e)},[r])]}function Mn(i,a){return Object.keys(a).reduce(function(e,t){var n=e,o=n[Tn(t)],r=n[t],e=Z(n,[Tn(t),t].map(Pn)),n=a[t],r=Rn(r,o,i[n]),o=r[0],r=r[1];return Q({},e,((e={})[t]=o,e[n]=r,e))},i)}function Nn(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null}var Dn=te.a.createContext(null),Bn=te.a.createContext(null),t=function(e){var t=Mn(e,{activeKey:"onSelect"}),n=t.id,o=t.generateChildId,r=t.onSelect,i=t.activeKey,a=t.transition,s=t.mountOnEnter,c=t.unmountOnExit,e=t.children,l=Object(ee.useMemo)(function(){return o||function(e,t){return n?n+"-"+t+"-"+e:null}},[n,o]),t=Object(ee.useMemo)(function(){return{onSelect:r,activeKey:i,transition:a,mountOnEnter:s||!1,unmountOnExit:c||!1,getControlledId:function(e){return l(e,"tabpane")},getControllerId:function(e){return l(e,"tab")}}},[r,i,a,s,c,l]);return te.a.createElement(Dn.Provider,{value:t},te.a.createElement(Bn.Provider,{value:r||null},e))},Ln=["bsPrefix","as","className"],L=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.as,r=void 0===o?"div":o,o=e.className,e=Z(e,Ln),n=Me(n,"tab-content");return te.a.createElement(r,Q({ref:t},e,{className:J()(o,n)}))}),Fn=["activeKey","getControlledId","getControllerId"],An=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];ye=te.a.forwardRef(function(e,t){var n=function(e){if(!(a=Object(ee.useContext)(Dn)))return e;var t=a.activeKey,n=a.getControlledId,o=a.getControllerId,r=Z(a,Fn),i=!1!==e.transition&&!1!==r.transition,a=Nn(e.eventKey);return Q({},e,{active:null==e.active&&null!=a?Nn(t)===a:e.active,id:n(e.eventKey),"aria-labelledby":o(e.eventKey),transition:i&&(e.transition||r.transition||A),mountOnEnter:(null!=e.mountOnEnter?e:r).mountOnEnter,unmountOnExit:(null!=e.unmountOnExit?e:r).unmountOnExit})}(e),o=n.bsPrefix,r=n.className,i=n.active,a=n.onEnter,s=n.onEntering,c=n.onEntered,l=n.onExit,u=n.onExiting,f=n.onExited,d=n.mountOnEnter,h=n.unmountOnExit,p=n.transition,e=n.as,e=void 0===e?"div":e,n=(n.eventKey,Z(n,An)),o=Me(o,"tab-pane");if(!i&&!p&&h)return null;o=te.a.createElement(e,Q({},n,{ref:t,role:"tabpanel","aria-hidden":!i,className:J()(r,o,{active:i})}));return p&&(o=te.a.createElement(p,{in:i,onEnter:a,onEntering:s,onEntered:c,onExit:l,onExiting:u,onExited:f,mountOnEnter:d,unmountOnExit:h},o)),te.a.createElement(Dn.Provider,{value:null},te.a.createElement(Bn.Provider,{value:null},o))});ye.displayName="TabPane";u=ye,c=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(te.a.Component);c.Container=t,c.Content=L,c.Pane=u;var jn=c,i=(o(21),te.a.createContext(null));i.displayName="NavbarContext";var Hn=i,n=te.a.createContext(null);n.displayName="CardContext";var In=n;function Un(){return Object(ee.useReducer)(function(e){return!e},!1)[1]}var Wn=function(t){return t&&"function"!=typeof t?function(e){t.current=e}:t};var Kn=function(o,r){return Object(ee.useMemo)(function(){return e=r,t=Wn(o),n=Wn(e),function(e){t&&t(e),n&&n(e)};var e,t,n},[o,r])},ye=te.a.createContext(null);ye.displayName="NavContext";function zn(){}var qn=ye,Xn=["as","onSelect","activeKey","role","onKeyDown"],Yn=te.a.forwardRef(function(e,t){var n,o,r=e.as,i=void 0===r?"ul":r,a=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,r=Z(e,Xn),u=Un(),f=Object(ee.useRef)(!1),d=Object(ee.useContext)(Bn),e=Object(ee.useContext)(Dn);e&&(c=c||"tablist",s=e.activeKey,n=e.getControlledId,o=e.getControllerId);function h(e){var t=m.current;if(!t)return null;var n=Ce(t,"[data-rb-event-key]:not(.disabled)");return!(t=t.querySelector(".active"))||-1===(t=n.indexOf(t))?null:n[e=(e=(e=t+e)>=n.length?0:e)<0?n.length-1:e]}function p(e,t){null!=e&&(a&&a(e,t),d&&d(e,t))}var m=Object(ee.useRef)(null);Object(ee.useEffect)(function(){var e;m.current&&f.current&&((e=m.current.querySelector("[data-rb-event-key].active"))&&e.focus()),f.current=!1});t=Kn(t,m);return te.a.createElement(Bn.Provider,{value:p},te.a.createElement(qn.Provider,{value:{role:c,activeKey:Nn(s),getControlledId:n||zn,getControllerId:o||zn}},te.a.createElement(i,Q({},r,{onKeyDown:function(e){var t;switch(l&&l(e),e.key){case"ArrowLeft":case"ArrowUp":t=h(-1);break;case"ArrowRight":case"ArrowDown":t=h(1);break;default:return}t&&(e.preventDefault(),p(t.dataset.rbEventKey,e),f.current=!0,u())},ref:t,role:c}))))}),Vn=["bsPrefix","className","children","as"],t=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.children,i=e.as,i=void 0===i?"div":i,e=Z(e,Vn),n=Me(n,"nav-item");return te.a.createElement(i,Q({},e,{ref:t,className:J()(o,n)}),r)});t.displayName="NavItem";var Gn=t;var $n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(o,r){if("function"!=typeof r)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===o?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.apply(this,t),r.apply(this,t)}},null)},Qn=["as","disabled","onKeyDown"];function Zn(e){return!e||"#"===e.trim()}L=te.a.forwardRef(function(e,t){function n(e){var t=a.href,n=a.onClick;(i||Zn(t))&&e.preventDefault(),i?e.stopPropagation():n&&n(e)}var o=e.as,r=void 0===o?"a":o,i=e.disabled,o=e.onKeyDown,a=Z(e,Qn);return Zn(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),i&&(a.tabIndex=-1,a["aria-disabled"]=!0),te.a.createElement(r,Q({ref:t},a,{onClick:n,onKeyDown:$n(function(e){" "===e.key&&(e.preventDefault(),n(e))},o)}))});L.displayName="SafeAnchor";var Jn=L,eo=["active","className","eventKey","onSelect","onClick","as"],u=te.a.forwardRef(function(e,t){var n=e.active,o=e.className,r=e.eventKey,i=e.onSelect,a=e.onClick,s=e.as,c=Z(e,eo),l=Nn(r,c.href),u=Object(ee.useContext)(Bn),f=Object(ee.useContext)(qn),d=n;f&&(c.role||"tablist"!==f.role||(c.role="tab"),e=f.getControllerId(l),r=f.getControlledId(l),c["data-rb-event-key"]=l,c.id=e||c.id,c["aria-controls"]=r||c["aria-controls"],d=null==n&&null!=l?f.activeKey===l:n),"tab"===c.role&&(c.disabled&&(c.tabIndex=-1,c["aria-disabled"]=!0),c["aria-selected"]=d);n=le(function(e){a&&a(e),null!=l&&(i&&i(l,e),u&&u(l,e))});return te.a.createElement(s,Q({},c,{ref:t,onClick:n,className:J()(o,d&&"active")}))});u.defaultProps={disabled:!1};var to=u,no=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],c={disabled:!1,as:Jn},i=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.disabled,r=e.className,i=e.href,a=e.eventKey,s=e.onSelect,c=e.as,e=Z(e,no),n=Me(n,"nav-link");return te.a.createElement(to,Q({},e,{href:i,ref:t,eventKey:a,as:c,disabled:o,onSelect:s,className:J()(r,n,o&&"disabled")}))});i.displayName="NavLink",i.defaultProps=c;var oo=i,ro=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],n=te.a.forwardRef(function(e,t){var n,o,r=Mn(e,{activeKey:"onSelect"}),i=r.as,a=void 0===i?"div":i,s=r.bsPrefix,c=r.variant,l=r.fill,u=r.justify,f=r.navbar,d=r.navbarScroll,h=r.className,p=r.children,m=r.activeKey,g=Z(r,ro),e=Me(s,"nav"),i=!1,r=Object(ee.useContext)(Hn),s=Object(ee.useContext)(In);return r?(n=r.bsPrefix,i=null==f||f):s&&(o=s.cardHeaderBsPrefix),te.a.createElement(Yn,Q({as:a,ref:t,activeKey:m,className:J()(h,((h={})[e]=!i,h[n+"-nav"]=i,h[n+"-nav-scroll"]=i&&d,h[o+"-"+c]=!!o,h[e+"-"+c]=!!c,h[e+"-fill"]=l,h[e+"-justified"]=u,h))},g),p)});n.displayName="Nav",n.defaultProps={justify:!1,fill:!1},n.Item=Gn,n.Link=oo;var io=n,ao=["bsPrefix","variant","size","active","className","block","type","as"],ye=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.variant,r=e.size,i=e.active,a=e.className,s=e.block,c=e.type,l=e.as,e=Z(e,ao),n=Me(n,"btn"),r=J()(a,n,i&&"active",o&&n+"-"+o,s&&n+"-block",r&&n+"-"+r);return e.href?te.a.createElement(Jn,Q({},e,{as:l,ref:t,className:J()(r,e.disabled&&"disabled")})):(t&&(e.ref=t),c?e.type=c:l||(e.type="button"),te.a.createElement(l||"button",Q({},e,{className:r})))});ye.displayName="Button",ye.defaultProps={variant:"primary",active:!1,disabled:!1};var so=ye,co=te.a.createContext({controlId:void 0}),lo=["bsPrefix","className","children","controlId","as"],t=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.children,i=e.controlId,a=e.as,s=void 0===a?"div":a,a=Z(e,lo),n=Me(n,"form-group"),e=Object(ee.useMemo)(function(){return{controlId:i}},[i]);return te.a.createElement(co.Provider,{value:e},te.a.createElement(s,Q({},a,{ref:t,className:J()(o,n)}),r))});t.displayName="FormGroup";var uo=t,fo=Math.pow(2,31)-1;function ho(){var o=X(),r=Object(ee.useRef)();return ue(function(){return clearTimeout(r.current)}),Object(ee.useMemo)(function(){var n=function(){return clearTimeout(r.current)};return{set:function(e,t){void 0===t&&(t=0),o()&&(n(),t<=fo?r.current=setTimeout(e,t):function e(t,n,o){var r=o-Date.now();t.current=r<=fo?setTimeout(n,r):setTimeout(function(){return e(t,n,o)},fo)}(r,e,Date.now()+t))},clear:n}},[])}function po(e){return e&&"setState"in e?W.a.findDOMNode(e):null!=e?e:null}var mo="top",go="bottom",vo="right",bo="left",yo="auto",wo=[mo,go,vo,bo],xo="start",Eo="end",_o="clippingParents",Co="viewport",ko="popper",So="reference",Oo=wo.reduce(function(e,t){return e.concat([t+"-"+xo,t+"-"+Eo])},[]),To=[].concat(wo,[yo]).reduce(function(e,t){return e.concat([t,t+"-"+xo,t+"-"+Eo])},[]),Po=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Ro=function(t){var n=X();return[t[0],Object(ee.useCallback)(function(e){if(n())return t[1](e)},[n,t[1]])]};function Mo(e){return e.split("-")[0]}function No(e){if(null==e)return window;if("[object Window]"===e.toString())return e;e=e.ownerDocument;return e&&e.defaultView||window}function Do(e){return e instanceof No(e).Element||e instanceof Element}function Bo(e){return e instanceof No(e).HTMLElement||e instanceof HTMLElement}function Lo(e){return"undefined"!=typeof ShadowRoot&&(e instanceof No(e).ShadowRoot||e instanceof ShadowRoot)}var Fo=Math.round;function Ao(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,r=1;return Bo(e)&&t&&(o=n.width/e.offsetWidth||1,r=n.height/e.offsetHeight||1),{width:Fo(n.width/o),height:Fo(n.height/r),top:Fo(n.top/r),right:Fo(n.right/o),bottom:Fo(n.bottom/r),left:Fo(n.left/o),x:Fo(n.left/o),y:Fo(n.top/r)}}function jo(e){var t=Ao(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function Ho(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lo(n)){var o=t;do{if(o&&e.isSameNode(o))return!0}while(o=o.parentNode||o.host)}return!1}function Io(e){return e?(e.nodeName||"").toLowerCase():null}function Uo(e){return No(e).getComputedStyle(e)}function Wo(e){return((Do(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ko(e){return"html"===Io(e)?e:e.assignedSlot||e.parentNode||(Lo(e)?e.host:null)||Wo(e)}function zo(e){return Bo(e)&&"fixed"!==Uo(e).position?e.offsetParent:null}function qo(e){for(var t,n=No(e),o=zo(e);o&&(t=o,0<=["table","td","th"].indexOf(Io(t)))&&"static"===Uo(o).position;)o=zo(o);return(!o||"html"!==Io(o)&&("body"!==Io(o)||"static"!==Uo(o).position))&&(o||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&Bo(e)&&"fixed"===Uo(e).position)return null;for(var o=Ko(e);Bo(o)&&["html","body"].indexOf(Io(o))<0;){var r=Uo(o);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return o;o=o.parentNode}return null}(e))||n}function Xo(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}var Yo=Math.max,Vo=Math.min,Go=Math.round;function $o(e,t,n){return Yo(e,Vo(t,n))}function Qo(){return{top:0,right:0,bottom:0,left:0}}function Zo(e){return Object.assign({},Qo(),e)}function Jo(n,e){return e.reduce(function(e,t){return e[t]=n,e},{})}var L={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,o=e.state,r=e.name,i=e.options,a=o.elements.arrow,s=o.modifiersData.popperOffsets,c=Mo(o.placement),l=Xo(c),u=0<=[bo,vo].indexOf(c)?"height":"width";a&&s&&(t=i.padding,n=o,e=Zo("number"!=typeof(t="function"==typeof t?t(Object.assign({},n.rects,{placement:n.placement})):t)?t:Jo(t,wo)),c=jo(a),i="y"===l?mo:bo,n="y"===l?go:vo,t=o.rects.reference[u]+o.rects.reference[l]-s[l]-o.rects.popper[u],s=s[l]-o.rects.reference[l],a=(a=qo(a))?"y"===l?a.clientHeight||0:a.clientWidth||0:0,i=e[i],n=a-c[u]-e[n],n=$o(i,s=a/2-c[u]/2+(t/2-s/2),n),o.modifiersData[r]=((r={})[l]=n,r.centerOffset=n-s,r))},effect:function(e){var t=e.state;null!=(e=void 0===(e=e.options.element)?"[data-popper-arrow]":e)&&("string"!=typeof e||(e=t.elements.popper.querySelector(e)))&&Ho(t.elements.popper,e)&&(t.elements.arrow=e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},er={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tr(e){var t=e.popper,n=e.popperRect,o=e.placement,r=e.offsets,i=e.position,a=e.gpuAcceleration,s=e.adaptive,c=e.roundOffsets,l=!0===c?(h=(m=r).x,p=m.y,m=window.devicePixelRatio||1,{x:Go(Go(h*m)/m)||0,y:Go(Go(p*m)/m)||0}):"function"==typeof c?c(r):r,u=l.x,f=void 0===u?0:u,d=l.y,e=void 0===d?0:d,h=r.hasOwnProperty("x"),p=r.hasOwnProperty("y"),m=bo,c=mo,u=window;s&&(l="clientHeight",d="clientWidth",(r=qo(t))===No(t)&&"static"!==Uo(r=Wo(t)).position&&(l="scrollHeight",d="scrollWidth"),o===mo&&(c=go,e-=r[l]-n.height,e*=a?1:-1),o===bo&&(m=vo,f-=r[d]-n.width,f*=a?1:-1));var s=Object.assign({position:i},s&&er);return a?Object.assign({},s,((a={})[c]=p?"0":"",a[m]=h?"0":"",a.transform=(u.devicePixelRatio||1)<2?"translate("+f+"px, "+e+"px)":"translate3d("+f+"px, "+e+"px, 0)",a)):Object.assign({},s,((s={})[c]=p?e+"px":"",s[m]=h?f+"px":"",s.transform="",s))}var nr={passive:!0};var or={left:"right",right:"left",bottom:"top",top:"bottom"};function rr(e){return e.replace(/left|right|bottom|top/g,function(e){return or[e]})}var ir={start:"end",end:"start"};function ar(e){return e.replace(/start|end/g,function(e){return ir[e]})}function sr(e){e=No(e);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function cr(e){return Ao(Wo(e)).left+sr(e).scrollLeft}function lr(e){var t=Uo(e),n=t.overflow,e=t.overflowX,t=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+t+e)}function ur(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(Io(t))?t.ownerDocument.body:Bo(t)&&lr(t)?t:e(Ko(t))}(e),e=n===(null==(o=e.ownerDocument)?void 0:o.body),o=No(n),n=e?[o].concat(o.visualViewport||[],lr(n)?n:[]):n,t=t.concat(n);return e?t:t.concat(ur(Ko(n)))}function fr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function dr(e,t){return t===Co?fr((i=No(r=e),a=Wo(r),s=i.visualViewport,c=a.clientWidth,l=a.clientHeight,a=i=0,s&&(c=s.width,l=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=s.offsetLeft,a=s.offsetTop)),{width:c,height:l,x:i+cr(r),y:a})):Bo(t)?((o=Ao(n=t)).top=o.top+n.clientTop,o.left=o.left+n.clientLeft,o.bottom=o.top+n.clientHeight,o.right=o.left+n.clientWidth,o.width=n.clientWidth,o.height=n.clientHeight,o.x=o.left,o.y=o.top,o):fr((r=Wo(e),a=Wo(r),t=sr(r),o=null==(n=r.ownerDocument)?void 0:n.body,e=Yo(a.scrollWidth,a.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),n=Yo(a.scrollHeight,a.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),r=-t.scrollLeft+cr(r),t=-t.scrollTop,"rtl"===Uo(o||a).direction&&(r+=Yo(a.clientWidth,o?o.clientWidth:0)-e),{width:e,height:n,x:r,y:t}));var n,o,r,i,a,s,c,l}function hr(n,e,t){var o,r,i,e="clippingParents"===e?(r=ur(Ko(o=n)),Do(i=0<=["absolute","fixed"].indexOf(Uo(o).position)&&Bo(o)?qo(o):o)?r.filter(function(e){return Do(e)&&Ho(e,i)&&"body"!==Io(e)}):[]):[].concat(e),e=[].concat(e,[t]),t=e[0],t=e.reduce(function(e,t){t=dr(n,t);return e.top=Yo(t.top,e.top),e.right=Vo(t.right,e.right),e.bottom=Vo(t.bottom,e.bottom),e.left=Yo(t.left,e.left),e},dr(n,t));return t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}function pr(e){return e.split("-")[1]}function mr(e){var t,n=e.reference,o=e.element,r=e.placement,e=r?Mo(r):null,r=r?pr(r):null,i=n.x+n.width/2-o.width/2,a=n.y+n.height/2-o.height/2;switch(e){case mo:t={x:i,y:n.y-o.height};break;case go:t={x:i,y:n.y+n.height};break;case vo:t={x:n.x+n.width,y:a};break;case bo:t={x:n.x-o.width,y:a};break;default:t={x:n.x,y:n.y}}var s=e?Xo(e):null;if(null!=s){var c="y"===s?"height":"width";switch(r){case xo:t[s]=t[s]-(n[c]/2-o[c]/2);break;case Eo:t[s]=t[s]+(n[c]/2-o[c]/2)}}return t}function gr(e,t){var o,n=t=void 0===t?{}:t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,s=void 0===a?_o:a,c=n.rootBoundary,l=void 0===c?Co:c,t=n.elementContext,r=void 0===t?ko:t,a=n.altBoundary,c=void 0!==a&&a,t=n.padding,a=void 0===t?0:t,n=Zo("number"!=typeof a?a:Jo(a,wo)),t=e.elements.reference,a=e.rects.popper,c=e.elements[c?r===ko?So:ko:r],s=hr(Do(c)?c:c.contextElement||Wo(e.elements.popper),s,l),l=Ao(t),t=mr({reference:l,element:a,strategy:"absolute",placement:i}),t=fr(Object.assign({},a,t)),l=r===ko?t:l,u={top:s.top-l.top+n.top,bottom:l.bottom-s.bottom+n.bottom,left:s.left-l.left+n.left,right:l.right-s.right+n.right},e=e.modifiersData.offset;return r===ko&&e&&(o=e[i],Object.keys(u).forEach(function(e){var t=0<=[vo,go].indexOf(e)?1:-1,n=0<=[mo,go].indexOf(e)?"y":"x";u[e]+=o[n]*t})),u}u={name:"flip",enabled:!0,phase:"main",fn:function(e){var f=e.state,t=e.options,n=e.name;if(!f.modifiersData[n]._skip){for(var o=t.mainAxis,r=void 0===o||o,e=t.altAxis,i=void 0===e||e,o=t.fallbackPlacements,d=t.padding,h=t.boundary,p=t.rootBoundary,a=t.altBoundary,e=t.flipVariations,m=void 0===e||e,g=t.allowedAutoPlacements,e=f.options.placement,t=Mo(e),t=o||(t===e||!m?[rr(e)]:function(e){if(Mo(e)===yo)return[];var t=rr(e);return[ar(e),t,ar(t)]}(e)),s=[e].concat(t).reduce(function(e,t){return e.concat(Mo(t)===yo?(n=f,r=o=void 0===(o={placement:t,boundary:h,rootBoundary:p,padding:d,flipVariations:m,allowedAutoPlacements:g})?{}:o,e=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,c=void 0===(r=r.allowedAutoPlacements)?To:r,l=pr(e),e=l?o?Oo:Oo.filter(function(e){return pr(e)===l}):wo,u=(o=0===(o=e.filter(function(e){return 0<=c.indexOf(e)})).length?e:o).reduce(function(e,t){return e[t]=gr(n,{placement:t,boundary:i,rootBoundary:a,padding:s})[Mo(t)],e},{}),Object.keys(u).sort(function(e,t){return u[e]-u[t]})):t);var n,o,r,i,a,s,c,l,u},[]),c=f.rects.reference,l=f.rects.popper,u=new Map,v=!0,b=s[0],y=0;y<s.length;y++){var w=s[y],x=Mo(w),E=pr(w)===xo,_=0<=[mo,go].indexOf(x),C=_?"width":"height",k=gr(f,{placement:w,boundary:h,rootBoundary:p,altBoundary:a,padding:d}),_=_?E?vo:bo:E?go:mo;c[C]>l[C]&&(_=rr(_));E=rr(_),C=[];if(r&&C.push(k[x]<=0),i&&C.push(k[_]<=0,k[E]<=0),C.every(function(e){return e})){b=w,v=!1;break}u.set(w,C)}if(v)for(var S=m?3:1;0<S;S--)if("break"===function(t){var e=s.find(function(e){e=u.get(e);if(e)return e.slice(0,t).every(function(e){return e})});if(e)return b=e,"break"}(S))break;f.placement!==b&&(f.modifiersData[n]._skip=!0,f.placement=b,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vr(e,t,n){return{top:e.top-t.height-(n=void 0===n?{x:0,y:0}:n).y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function br(t){return[mo,vo,go,bo].some(function(e){return 0<=t[e]})}c={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var a=e.state,t=e.options,n=e.name,s=void 0===(o=t.offset)?[0,0]:o,e=To.reduce(function(e,t){var n,o,r,i;return e[t]=(n=t,o=a.rects,r=s,i=Mo(n),t=0<=[bo,mo].indexOf(i)?-1:1,r=(r=(n="function"==typeof r?r(Object.assign({},o,{placement:n})):r)[0])||0,n=((n=n[1])||0)*t,0<=[bo,vo].indexOf(i)?{x:n,y:r}:{x:r,y:n}),e},{}),o=(t=e[a.placement]).x,t=t.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=o,a.modifiersData.popperOffsets.y+=t),a.modifiersData[n]=e}};function yr(e,t,n){void 0===n&&(n=!1);var o=Bo(t),r=Bo(t)&&(r=(a=t).getBoundingClientRect(),i=r.width/a.offsetWidth||1,a=r.height/a.offsetHeight||1,1!==i||1!==a),i=Wo(t),a=Ao(e,r),e={scrollLeft:0,scrollTop:0},r={x:0,y:0};return!o&&n||("body"===Io(t)&&!lr(i)||(e=(n=t)!==No(n)&&Bo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:sr(n)),Bo(t)?((r=Ao(t,!0)).x+=t.clientLeft,r.y+=t.clientTop):i&&(r.x=cr(i))),{x:a.left+e.scrollLeft-r.x,y:a.top+e.scrollTop-r.y,width:a.width,height:a.height}}function wr(e){var n=new Map,o=new Set,r=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){o.has(e.name)||!function t(e){o.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){o.has(e)||(e=n.get(e))&&t(e)}),r.push(e)}(e)}),r}var xr={placement:"bottom",modifiers:[],strategy:"absolute"};function Er(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function _r(e){var t=e=void 0===e?{}:e,e=t.defaultModifiers,f=void 0===e?[]:e,t=t.defaultOptions,d=void 0===t?xr:t;return function(o,r,t){void 0===t&&(t=d);var n,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},xr,d),modifiersData:{},elements:{reference:o,popper:r},attributes:{},styles:{}},s=[],c=!1,l={state:a,setOptions:function(e){u(),a.options=Object.assign({},d,a.options,e),a.scrollParents={reference:Do(o)?ur(o):o.contextElement?ur(o.contextElement):[],popper:ur(r)};var n,t,e=(e=[].concat(f,a.options.modifiers),t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),e=Object.keys(t).map(function(e){return t[e]}),n=wr(e),Po.reduce(function(e,t){return e.concat(n.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=e.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,e=e.effect;"function"==typeof e&&(n=e({state:a,name:t,instance:l,options:void 0===n?{}:n}),s.push(n||function(){}))}),l.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,e=e.popper;if(Er(t,e)){a.rects={reference:yr(t,qo(e),"fixed"===a.options.strategy),popper:jo(e)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n,o,r,i=0;i<a.orderedModifiers.length;i++)0,!0!==a.reset?(n=(r=a.orderedModifiers[i]).fn,o=r.options,r=r.name,"function"==typeof n&&(a=n({state:a,options:void 0===o?{}:o,name:r,instance:l})||a)):(a.reset=!1,i=-1)}}},update:(n=function(){return new Promise(function(e){l.forceUpdate(),e(a)})},function(){return i=i||new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(n())})})}),destroy:function(){u(),c=!0}};return Er(o,r)&&l.setOptions(t).then(function(e){!c&&t.onFirstUpdate&&t.onFirstUpdate(e)}),l;function u(){s.forEach(function(e){return e()}),s=[]}}}function Cr(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}var kr=_r({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,a=gr(t,{elementContext:"reference"}),e=gr(t,{altBoundary:!0}),o=vr(a,o),e=vr(e,r,i),r=br(o),i=br(e);t.modifiersData[n]={referenceClippingOffsets:o,popperEscapeOffsets:e,isReferenceHidden:r,hasPopperEscaped:i},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":r,"data-popper-escaped":i})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,e=e.name;t.modifiersData[e]=mr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,e=void 0===(o=n.gpuAcceleration)||o,o=void 0===(o=n.adaptive)||o,n=void 0===(n=n.roundOffsets)||n,e={placement:Mo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:e};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,tr(Object.assign({},e,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:n})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,tr(Object.assign({},e,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:n})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,r=void 0===(e=o.scroll)||e,i=void 0===(o=o.resize)||o,a=No(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&s.forEach(function(e){e.addEventListener("scroll",n.update,nr)}),i&&a.addEventListener("resize",n.update,nr),function(){r&&s.forEach(function(e){e.removeEventListener("scroll",n.update,nr)}),i&&a.removeEventListener("resize",n.update,nr)}},data:{}},c,u,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=void 0===(E=n.mainAxis)||E,i=void 0!==(_=n.altAxis)&&_,a=n.boundary,s=n.rootBoundary,c=n.altBoundary,l=n.padding,u=n.tether,f=void 0===u||u,d=n.tetherOffset,h=void 0===d?0:d,p=gr(t,{boundary:a,rootBoundary:s,padding:l,altBoundary:c}),m=Mo(t.placement),g=pr(t.placement),v=!g,b=Xo(m),y="x"===b?"y":"x",w=t.modifiersData.popperOffsets,x=t.rects.reference,e=t.rects.popper,E="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,_={x:0,y:0};w&&((r||i)&&(u="y"===b?"height":"width",n=w[b],a=w[b]+p[d="y"===b?mo:bo],l=w[b]-p[s="y"===b?go:vo],c=f?-e[u]/2:0,m=(g===xo?x:e)[u],h=g===xo?-e[u]:-x[u],g=t.elements.arrow,e=f&&g?jo(g):{width:0,height:0},d=(g=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Qo())[d],s=g[s],e=$o(0,x[u],e[u]),d=v?x[u]/2-c-e-d-E:m-e-d-E,e=v?-x[u]/2+c+e+s+E:h+e+s+E,E=(s=t.elements.arrow&&qo(t.elements.arrow))?"y"===b?s.clientTop||0:s.clientLeft||0:0,s=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,E=w[b]+d-s-E,s=w[b]+e-s,r&&(l=$o(f?Vo(a,E):a,n,f?Yo(l,s):l),w[b]=l,_[b]=l-n),i&&(i=(n=w[y])+p["x"===b?mo:bo],b=n-p["x"===b?go:vo],b=$o(f?Vo(i,E):i,n,f?Yo(b,s):b),w[y]=b,_[y]=b-n)),t.modifiersData[o]=_)},requiresIfExists:["offset"]},L]}),Sr={name:"applyStyles",enabled:!1},Or={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var o=e.state;return function(){var e=o.elements,t=e.reference,n=e.popper;"removeAttribute"in t&&((e=(t.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==n.id})).length?t.setAttribute("aria-describedby",e.join(",")):t.removeAttribute("aria-describedby"))}},fn:function(e){var t=e.state.elements,n=t.popper,e=t.reference,t=null==(t=n.getAttribute("role"))?void 0:t.toLowerCase();n.id&&"tooltip"===t&&"setAttribute"in e&&((t=e.getAttribute("aria-describedby"))&&-1!==t.split(",").indexOf(n.id)||e.setAttribute("aria-describedby",t?t+","+n.id:n.id))}},Tr=[];function Pr(){}var Rr=function(e,t,n){var o=void 0===(n=(f=void 0===n?{}:n).enabled)||n,r=void 0===(n=f.placement)?"bottom":n,i=void 0===(n=f.strategy)?"absolute":n,a=void 0===(n=f.modifiers)?Tr:n,s=Z(f,["enabled","placement","strategy","modifiers"]),c=Object(ee.useRef)(),l=Object(ee.useCallback)(function(){var e;null!=(e=c.current)&&e.update()},[]),u=Object(ee.useCallback)(function(){var e;null!=(e=c.current)&&e.forceUpdate()},[]),f=(n=Ro(Object(ee.useState)({placement:r,update:l,forceUpdate:u,attributes:{},styles:{popper:Cr(i),arrow:{}}})))[0],d=n[1],h=Object(ee.useMemo)(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},o={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],o[e]=t.attributes[e]}),d({state:t,styles:n,attributes:o,update:l,forceUpdate:u,placement:t.placement})}}},[l,u,d]);return Object(ee.useEffect)(function(){c.current&&o&&c.current.setOptions({placement:r,strategy:i,modifiers:[].concat(a,[h,Sr])})},[i,r,h,o]),Object(ee.useEffect)(function(){if(o&&null!=e&&null!=t)return c.current=kr(e,t,Q({},s,{placement:r,strategy:i,modifiers:[].concat(a,[Or,h])})),function(){null!=c.current&&(c.current.destroy(),c.current=void 0,d(function(e){return Q({},e,{attributes:{},styles:{popper:Cr(i)}})}))}},[o,e,t]),f};function Mr(e){return e&&("current"in e?e.current:e)}var Nr=function(a,e,t){var s=(t=void 0===t?{}:t).disabled,c=void 0===(t=t.clickTrigger)?"click":t,o=Object(ee.useRef)(!1),n=e||Pr,l=Object(ee.useCallback)(function(e){var t,n=Mr(a);Ee()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!(n&&!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&0===e.button&&!q(n,e.target))},[a]),u=le(function(e){o.current||n(e)}),f=le(function(e){27===e.keyCode&&n(e)});Object(ee.useEffect)(function(){if(!s&&null!=a){var t=window.event,e=ne(po(Mr(a))),n=K(e,c,l,!0),o=K(e,c,function(e){e!==t?u(e):t=void 0}),r=K(e,"keyup",function(e){e!==t?f(e):t=void 0}),i=[];return"ontouchstart"in e.documentElement&&(i=[].slice.call(e.body.children).map(function(e){return K(e,"mousemove",Pr)})),function(){n(),o(),r(),i.forEach(function(e){return e()})}}},[a,s,c,l,u,f])};function Dr(e){var t,n,o,r=e.enabled,i=e.enableEvents,a=e.placement,s=e.flip,c=e.offset,l=e.fixed,u=e.containerPadding,f=e.arrowElement,d=e.popperConfig,e=void 0===d?{}:d,d=(d=e.modifiers,n={},Array.isArray(d)?(null!=d&&d.forEach(function(e){n[e.name]=e}),n):d||n);return Q({},e,{placement:a,enabled:r,strategy:l?"fixed":e.strategy,modifiers:(void 0===(o=Q({},d,{eventListeners:{enabled:i},preventOverflow:Q({},d.preventOverflow,{options:u?Q({padding:u},null==(t=d.preventOverflow)?void 0:t.options):null==(t=d.preventOverflow)?void 0:t.options}),offset:{options:Q({offset:c},null==(c=d.offset)?void 0:c.options)},arrow:Q({},d.arrow,{enabled:!!f,options:Q({},null==(c=d.arrow)?void 0:c.options,{element:f})}),flip:Q({enabled:!!s},d.flip)}))&&(o={}),Array.isArray(o)?o:Object.keys(o).map(function(e){return o[e].name=e,o[e]}))})}i=te.a.forwardRef(function(e,t){var n=e.flip,o=e.offset,r=e.placement,i=e.containerPadding,a=void 0===i?5:i,s=e.popperConfig,c=void 0===s?{}:s,l=e.transition,u=ce(),f=u[0],d=u[1],h=ce(),p=h[0],i=h[1],s=Kn(d,t),u=ve(e.container),h=ve(e.target),d=Object(ee.useState)(!e.show),t=d[0],m=d[1],o=Rr(h,f,Dr({placement:r,enableEvents:!!e.show,containerPadding:a||5,flip:n,offset:o,arrowElement:p,popperConfig:c})),p=o.styles,c=o.attributes,o=Z(o,["styles","attributes"]);e.show?t&&m(!1):e.transition||t||m(!0);t=e.show||l&&!t;if(Nr(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!t)return null;t=e.children(Q({},o,{show:!!e.show,props:Q({},c.popper,{style:p.popper,ref:s}),arrowProps:Q({},c.arrow,{style:p.arrow,ref:i})}));return l&&(o=e.onExit,s=e.onExiting,c=e.onEnter,p=e.onEntering,i=e.onEntered,t=te.a.createElement(l,{in:e.show,appear:!0,onExit:o,onExiting:s,onExited:function(){m(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:c,onEntering:p,onEntered:i},t)),u?W.a.createPortal(t,u):null});i.displayName="Overlay",i.propTypes={show:l.a.bool,placement:l.a.oneOf(To),target:l.a.any,container:l.a.any,flip:l.a.bool,children:l.a.func.isRequired,containerPadding:l.a.number,popperConfig:l.a.object,rootClose:l.a.bool,rootCloseEvent:l.a.oneOf(["click","mousedown"]),rootCloseDisabled:l.a.bool,onHide:function(e){for(var t,n=arguments.length,o=new Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return e.rootClose?(t=l.a.func).isRequired.apply(t,[e].concat(o)):l.a.func.apply(l.a,[e].concat(o))},transition:l.a.elementType,onEnter:l.a.func,onEntering:l.a.func,onEntered:l.a.func,onExit:l.a.func,onExiting:l.a.func,onExited:l.a.func};var Br=i;function Lr(e){e=window.getComputedStyle(e);return{top:parseFloat(e.marginTop)||0,right:parseFloat(e.marginRight)||0,bottom:parseFloat(e.marginBottom)||0,left:parseFloat(e.marginLeft)||0}}function Fr(){var o=Object(ee.useRef)(null),a=Object(ee.useRef)(null),r=Object(ee.useRef)(null),i=Me(void 0,"popover"),t=Me(void 0,"dropdown-menu");return[Object(ee.useCallback)(function(e){e&&(H(e,i)||H(e,t))&&(a.current=Lr(e),e.style.margin="0",o.current=e)},[i,t]),[Object(ee.useMemo)(function(){return{name:"offset",options:{offset:function(e){var t=e.placement;if(!a.current)return[0,0];var e=a.current,n=e.top,o=e.left,r=e.bottom,i=e.right;switch(t.split("-")[0]){case"top":return[0,r];case"left":return[0,i];case"bottom":return[0,n];case"right":return[0,o];default:return[0,0]}}}}},[a]),Object(ee.useMemo)(function(){return{name:"arrow",options:{padding:function(){if(!r.current)return 0;var e,t=r.current,n=t.top,t=t.right;return{top:e=n||t,left:e,right:e,bottom:e}}}}},[r]),Object(ee.useMemo)(function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",requiresIfExists:["arrow"],effect:function(e){var t,n=e.state;if(o.current&&n.elements.arrow&&H(o.current,i))return n.modifiersData["arrow#persistent"]?(e=(t=Lr(n.elements.arrow)).top,t=t.right,n.modifiersData["arrow#persistent"].padding={top:t=e||t,left:t,right:t,bottom:t}):r.current=Lr(n.elements.arrow),n.elements.arrow.style.margin="0",function(){n.elements.arrow&&(n.elements.arrow.style.margin="")}}}},[i])]]}var Ar=["children","transition","popperConfig"],jr=["props","arrowProps","show","update","forceUpdate","placement","state"];function Hr(e){var f=e.children,d=e.transition,t=e.popperConfig,n=void 0===t?{}:t,o=Z(e,Ar),h=Object(ee.useRef)({}),r=Fr(),t=r[0],e=r[1],r=!0===d?A:d||null;return te.a.createElement(Br,Q({},o,{ref:t,popperConfig:Q({},n,{modifiers:e.concat(n.modifiers||[])}),transition:r}),function(e){var t,n,o=e.props,r=e.arrowProps,i=e.show,a=e.update,s=(e.forceUpdate,e.placement),c=e.state,l=Z(e,jr);e=r,t=o.ref,n=e.ref,o.ref=t.__wrapped||(t.__wrapped=function(e){return t(po(e))}),e.ref=n.__wrapped||(n.__wrapped=function(e){return n(po(e))});var u=Object.assign(h.current,{state:c,scheduleUpdate:a,placement:s,outOfBoundaries:(null==c||null==(u=c.modifiersData.hide)?void 0:u.isReferenceHidden)||!1});return"function"==typeof f?f(Q({},l,o,{placement:s,show:i},!d&&i&&{className:"show"},{popper:u,arrowProps:r})):te.a.cloneElement(f,Q({},l,o,{placement:s,arrowProps:r,popper:u,className:J()(f.props.className,!d&&i&&"show"),style:Q({},f.props.style,o.style)}))})}Hr.defaultProps={transition:A,rootClose:!1,show:!1,placement:"top"};var Ir=Hr,Ur=["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"],Wr=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return this.props.children},t}(te.a.Component);function Kr(e,t,n){var o=t[0],r=o.currentTarget,n=o.relatedTarget||o.nativeEvent[n];n&&n===r||q(r,n)||e.apply(void 0,t)}function zr(e){var t=e.trigger,n=e.overlay,o=e.children,r=e.popperConfig,i=void 0===r?{}:r,a=e.show,s=e.defaultShow,c=void 0!==s&&s,l=e.onToggle,u=e.delay,f=e.placement,d=e.flip,h=void 0===d?f&&-1!==f.indexOf("auto"):d,r=Z(e,Ur),p=Object(ee.useRef)(null),m=ho(),g=Object(ee.useRef)(""),s=Rn(a,c,l),v=s[0],b=s[1],y=(d=u)&&"object"==typeof d?d:{show:d,hide:d},e="function"!=typeof o?te.a.Children.only(o).props:{},w=e.onFocus,x=e.onBlur,E=e.onClick,a=Object(ee.useCallback)(function(){return po(p.current)},[]),_=Object(ee.useCallback)(function(){m.clear(),g.current="show",y.show?m.set(function(){"show"===g.current&&b(!0)},y.show):b(!0)},[y.show,b,m]),C=Object(ee.useCallback)(function(){m.clear(),g.current="hide",y.hide?m.set(function(){"hide"===g.current&&b(!1)},y.hide):b(!1)},[y.hide,b,m]),c=Object(ee.useCallback)(function(){_();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null!=w&&w.apply(void 0,t)},[_,w]),l=Object(ee.useCallback)(function(){C();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null!=x&&x.apply(void 0,t)},[C,x]),s=Object(ee.useCallback)(function(){b(!v),E&&E.apply(void 0,arguments)},[E,b,v]),u=Object(ee.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Kr(_,t,"fromElement")},[_]),d=Object(ee.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Kr(C,t,"toElement")},[C]),e=null==t?[]:[].concat(t),t={};return-1!==e.indexOf("click")&&(t.onClick=s),-1!==e.indexOf("focus")&&(t.onFocus=c,t.onBlur=l),-1!==e.indexOf("hover")&&(t.onMouseOver=u,t.onMouseOut=d),te.a.createElement(te.a.Fragment,null,"function"==typeof o?o(Q({},t,{ref:p})):te.a.createElement(Wr,{ref:p},Object(ee.cloneElement)(o,t)),te.a.createElement(Ir,Q({},r,{show:v,onHide:C,flip:h,placement:f,popperConfig:i,target:a}),n))}zr.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var qr=zr,Xr=(o(15),["as","bsPrefix","className","children"]),n=te.a.forwardRef(function(e,t){var n=e.as,o=void 0===n?"div":n,r=e.bsPrefix,i=e.className,n=e.children,e=Z(e,Xr),r=Me(r,"popover-header");return te.a.createElement(o,Q({ref:t},e,{className:J()(r,i)}),n)}),Yr=["as","bsPrefix","className","children"],Vr=te.a.forwardRef(function(e,t){var n=e.as,o=void 0===n?"div":n,r=e.bsPrefix,i=e.className,n=e.children,e=Z(e,Yr),r=Me(r,"popover-body");return te.a.createElement(o,Q({ref:t},e,{className:J()(i,r)}),n)}),Gr=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],ye=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.placement,r=e.className,i=e.style,a=e.children,s=e.content,c=e.arrowProps,e=(e.popper,e.show,Z(e,Gr)),n=Me(n,"popover"),o=((null==o?void 0:o.split("-"))||[])[0];return te.a.createElement("div",Q({ref:t,role:"tooltip",style:i,"x-placement":o,className:J()(r,n,o&&"bs-popover-"+o)},e),te.a.createElement("div",Q({className:"arrow"},c)),s?te.a.createElement(Vr,null,a):a)});ye.defaultProps={placement:"right"},ye.Title=n,ye.Content=Vr;var $r=ye,Qr=["as","className","type","tooltip"],t={type:l.a.string,tooltip:l.a.bool,as:l.a.elementType},c=te.a.forwardRef(function(e,t){var n=e.as,o=void 0===n?"div":n,r=e.className,i=e.type,n=void 0===i?"valid":i,i=e.tooltip,i=void 0!==i&&i,e=Z(e,Qr);return te.a.createElement(o,Q({},e,{ref:t,className:J()(r,n+"-"+(i?"tooltip":"feedback"))}))});c.displayName="Feedback",c.propTypes=t;var u=c,Zr=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],L=te.a.forwardRef(function(e,t){var n,o=e.bsPrefix,r=e.bsCustomPrefix,i=e.type,a=e.size,s=e.htmlSize,c=e.id,l=e.className,u=e.isValid,f=void 0!==u&&u,d=e.isInvalid,h=void 0!==d&&d,p=e.plaintext,m=e.readOnly,g=e.custom,u=e.as,d=void 0===u?"input":u,u=Z(e,Zr),e=Object(ee.useContext)(co).controlId,r=g?[r,"custom"]:[o,"form-control"],o=Me(r[0],r[1]),v=p?((p={})[o+"-plaintext"]=!0,p):"file"===i?((n={})[o+"-file"]=!0,n):"range"===i?((n={})[o+"-range"]=!0,n):"select"===d&&g?((g={})[o+"-select"]=!0,g[o+"-select-"+a]=a,g):((v={})[o]=!0,v[o+"-"+a]=a,v);return te.a.createElement(d,Q({},u,{type:i,size:s,ref:t,readOnly:m,id:c||e,className:J()(l,v,f&&"is-valid",h&&"is-invalid")}))});L.displayName="FormControl";var Jr=Object.assign(L,{Feedback:u});function ei(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach(function(e){ni(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e){try{window.localStorage.setItem(ci,JSON.stringify({values:e}))}catch(e){}return e}function ri(e,n){return on(e).split(/#(\S+)#/gi).map(function(e,t){return t%2==1&&e in n?n[e]:e})}function ii(e,t){return te.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e)}function ai(e,t,n){if(0<(r=t.indexOf("."))){var o=t.substring(0,r),r=t.substring(r+1);return ti(ti({},e),{},ni({},o,ai(e[o],r,n)))}return ti(ti({},e),{},ni({},t,n))}var si={enablePicPreview:!0,enableNotifications:!0,enableEasyReading:!1,endTurnsOnLiveUpdate:!1,copyOnSelect:!1,antiIdleTime:0,lineWrap:78,useMouseBrowsing:!1,mouseBrowsingHighlight:!0,mouseBrowsingHighlightColor:2,mouseLeftFunction:0,mouseMiddleFunction:0,mouseWheelFunction1:1,mouseWheelFunction2:2,mouseWheelFunction3:3,fontFitWindowWidth:!1,fontFace:"MingLiu,SymMingLiu,monospace",fontSize:999,termSize:{cols:80,rows:24},termSizeMode:"max-font-size",bbsMargin:0},ci="pttchrome.pref.v1",li=function(){try{return ti(ti({},si),JSON.parse(window.localStorage.getItem(ci)).values)}catch(e){return ti({},si)}},ui=Cn(P(function(){return{navActiveKey:"general",values:li(),replacements:{link_github_iamchucky:ii("Chuck Yang","https://github.com/iamchucky"),link_github_robertabcd:ii("robertabcd","https://github.com/robertabcd"),link_robertabcd_PttChrome:ii("robertabcd/PttChrome","https://github.com/robertabcd/PttChrome"),link_iamchucky_PttChrome:ii("iamchucky/PttChrome","https://github.com/iamchucky/PttChrome"),link_GPL20:ii("General Public License v2.0","https://www.gnu.org/licenses/old-licenses/gpl-2.0.html")}}},{onCloseClick:function(e,t){var n=e.values,o=t.onSave;return function(){return o(oi(n))}},onResetClick:function(e,t){var n=t.onReset;return function(){return n(oi(ti({},si)))}},onNavSelect:function(){return function(e){return{navActiveKey:e}}},onCheckboxChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.checked;return{values:ai(n,e,!!t)}}},onNumberInputChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.value;return{values:ai(n,e,parseInt(t,10))}}},onTextInputChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.value;return{values:ai(n,e,t)}}}}))(function(e){var t=e.show,n=e.onCloseClick,o=e.onResetClick,r=e.navActiveKey,i=e.onNavSelect,a=e.values,s=e.onCheckboxChange,c=e.onNumberInputChange,l=e.onTextInputChange,e=e.replacements;return te.a.createElement(qe,{show:t,onHide:n,className:"PrefModal"},te.a.createElement(qe.Body,null,te.a.createElement(jn.Container,{activeKey:r,onSelect:i},te.a.createElement("div",{className:"PrefModal__Grid"},te.a.createElement("div",{className:"PrefModal__Grid__Col--left"},te.a.createElement("h3",null,on("menu_settings")),te.a.createElement(io,{bsStyle:"pills",stacked:!0},te.a.createElement(Gn,{eventKey:"general"},on("options_general")),te.a.createElement(Gn,{eventKey:"about"},on("options_about"))),te.a.createElement(so,{className:"PrefModal__Grid__Col--left__Reset",onClick:o},on("options_reset"))),te.a.createElement("div",{className:"PrefModal__Grid__Col--right"},te.a.createElement(jn.Content,{animation:!0},te.a.createElement(jn.Pane,{eventKey:"general"},te.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},te.a.createElement("legend",null,on("options_general"),te.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),te.a.createElement(void 0,{name:"enablePicPreview",checked:a.enablePicPreview,onChange:s},on("options_enablePicPreview")),te.a.createElement(void 0,{name:"enableNotifications",checked:a.enableNotifications,onChange:s},on("options_enableNotifications")),te.a.createElement(void 0,{name:"enableEasyReading",checked:a.enableEasyReading,onChange:s},on("options_enableEasyReading")),te.a.createElement(void 0,{name:"endTurnsOnLiveUpdate",checked:a.endTurnsOnLiveUpdate,onChange:s},on("options_endTurnsOnLiveUpdate")),te.a.createElement(void 0,{name:"copyOnSelect",checked:a.copyOnSelect,onChange:s},on("options_copyOnSelect")),te.a.createElement(uo,{controlId:"antiIdleTime"},te.a.createElement(void 0,null,on("options_antiIdleTime")),te.a.createElement(qr,{trigger:"focus",placement:"right",overlay:te.a.createElement($r,{id:"tooltip_antiIdleTime"},on("tooltip_antiIdleTime"))},te.a.createElement(Jr,{name:"antiIdleTime",type:"number",value:a.antiIdleTime,onChange:c}))),te.a.createElement(uo,{controlId:"lineWrap"},te.a.createElement(void 0,null,on("options_lineWrap")),te.a.createElement(Jr,{name:"lineWrap",type:"number",value:a.lineWrap,onChange:c}))),te.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},te.a.createElement("legend",null,on("options_appearance")),te.a.createElement(uo,{controlId:"fontFace"},te.a.createElement(void 0,null,on("options_fontFace")),te.a.createElement(qr,{trigger:"focus",placement:"right",overlay:te.a.createElement($r,{id:"tooltip_fontFace"},on("tooltip_fontFace"))},te.a.createElement(Jr,{name:"fontFace",type:"text",value:a.fontFace,onChange:l}))),te.a.createElement(uo,{controlId:"bbsMargin"},te.a.createElement(void 0,null,on("options_bbsMargin")),te.a.createElement(Jr,{name:"bbsMargin",type:"number",value:a.bbsMargin,onChange:c})),te.a.createElement(uo,{controlId:"termSizeMode"},te.a.createElement(void 0,null,on("options_termSize")),te.a.createElement(Jr,{componentClass:"select",name:"termSizeMode",value:a.termSizeMode,onChange:l},te.a.createElement("option",{key:"options_fixedTermSize",value:"fixed-term-size"},on("options_fixedTermSize")),te.a.createElement("option",{key:"options_fixedFontSize",value:"fixed-font-size"},on("options_fixedFontSize")),te.a.createElement("option",{key:"options_maxFontSize",value:"max-font-size"},on("options_maxFontSize")))),function(){switch(a.termSizeMode){case"fixed-term-size":return te.a.createElement("div",null,te.a.createElement(uo,{controlId:"termSize_cols"},te.a.createElement(void 0,null,on("options_cols")),te.a.createElement(Jr,{name:"termSize.cols",type:"number",value:a.termSize.cols,onChange:c})),te.a.createElement(uo,{controlId:"termSize_rows"},te.a.createElement(void 0,null,on("options_rows")),te.a.createElement(Jr,{name:"termSize.rows",type:"number",value:a.termSize.rows,onChange:c})),te.a.createElement(void 0,{name:"fontFitWindowWidth",checked:a.fontFitWindowWidth,onChange:s},on("options_fontFitWindowWidth")));case"fixed-font-size":return te.a.createElement(uo,{controlId:"fontSize"},te.a.createElement(void 0,null,on("options_fontSize")),te.a.createElement(Jr,{name:"fontSize",type:"number",value:a.fontSize,onChange:c}));case"max-font-size":return te.a.createElement(uo,{controlId:"fontSize"},te.a.createElement(void 0,null,on("options_fontSizeMax")),te.a.createElement(Jr,{name:"fontSize",type:"number",value:a.fontSize,onChange:c}));default:return null}}()),te.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},te.a.createElement("legend",null,on("options_mouseBrowsing")),te.a.createElement(void 0,{name:"useMouseBrowsing",checked:a.useMouseBrowsing,onChange:s},on("options_useMouseBrowsing")),te.a.createElement(void 0,{name:"mouseBrowsingHighlight",checked:a.mouseBrowsingHighlight,onChange:s},on("options_mouseBrowsingHighlight")),te.a.createElement("div",{className:"PrefModal__Grid__Col--right__MouseBrowsingHighlightColor"},on("options_highlightColor"),te.a.createElement(Jr,{componentClass:"select",className:J()("b".concat(a.mouseBrowsingHighlightColor),"b".concat(a.mouseBrowsingHighlightColor)),name:"mouseBrowsingHighlightColor",value:a.mouseBrowsingHighlightColor,onChange:c},Array(16).fill(0,1).map(function(e,t){return te.a.createElement("option",{key:t,value:t,className:J()("b".concat(t))})}))),te.a.createElement(uo,{controlId:"mouseLeftFunction"},te.a.createElement(void 0,null,on("options_mouseLeftFunction")),te.a.createElement(Jr,{componentClass:"select",name:"mouseLeftFunction",value:a.mouseLeftFunction,onChange:c},["options_none","options_enterKey","options_rightKey"].map(function(e,t){return te.a.createElement("option",{key:e,value:t},on(e))}))),te.a.createElement(uo,{controlId:"mouseMiddleFunction"},te.a.createElement(void 0,null,on("options_mouseMiddleFunction")),te.a.createElement(Jr,{componentClass:"select",name:"mouseMiddleFunction",value:a.mouseMiddleFunction,onChange:c},["options_none","options_enterKey","options_leftKey","options_doPaste"].map(function(e,t){return te.a.createElement("option",{key:e,value:t},on(e))}))),te.a.createElement(uo,{controlId:"mouseWheelFunction1"},te.a.createElement(void 0,null,on("options_mouseWheelFunction1")),te.a.createElement(Jr,{componentClass:"select",name:"mouseWheelFunction1",value:a.mouseWheelFunction1,onChange:c},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return te.a.createElement("option",{key:e,value:t},on(e))}))),te.a.createElement(uo,{controlId:"mouseWheelFunction2"},te.a.createElement(void 0,null,on("options_mouseWheelFunction2")),te.a.createElement(Jr,{componentClass:"select",name:"options_mouseWheelFunction2",value:a.options_mouseWheelFunction2,onChange:c},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return te.a.createElement("option",{key:e,value:t},on(e))}))),te.a.createElement(uo,{controlId:"mouseWheelFunction3"},te.a.createElement(void 0,null,on("options_mouseWheelFunction3")),te.a.createElement(Jr,{componentClass:"select",name:"options_mouseWheelFunction3",value:a.options_mouseWheelFunction3,onChange:c},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return te.a.createElement("option",{key:e,value:t},on(e))}))))),te.a.createElement(jn.Pane,{eventKey:"about"},te.a.createElement("div",null,te.a.createElement("legend",null,"PttChrome",te.a.createElement("small",null," - ",on("about_appName_subtitle")),te.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),te.a.createElement("p",null,ri("about_description",e))),te.a.createElement("div",null,te.a.createElement("legend",null,on("about_version_title")),te.a.createElement("ul",null,te.a.createElement("li",null,ri("about_version_current",e)),te.a.createElement("li",null,ri("about_version_original",e)))),te.a.createElement("div",null,te.a.createElement("legend",null,on("about_new_title")),te.a.createElement("ul",null,on("about_new_content").map(function(e,t){return te.a.createElement("li",{key:t},e)}))))))))))});function fi(e,t,n){function o(t,n,e,o){o=o||n,Object.defineProperty(e,o,{get:function(){return t[n]},set:function(e){t[n]=e}})}this._core=e,this._view=t,this._termBuf=n,this._turnPageLines=22,this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate="",this.ignoreOneUpdate=!1,o(this._view,"useEasyReadingMode",this,"_enabled"),o(this._termBuf,"startedEasyReading",this),o(this._termBuf,"easyReadingShowReplyText",this),o(this._termBuf,"easyReadingShowPushInitText",this),this._termBuf.addEventListener("change",this._onChanged.bind(this)),this._termBuf.addEventListener("viewUpdate",this._onViewUpdated.bind(this))}function di(e){this.app=e,this.highlightCopy=!1,this.touchStarted=!1,this.touchedCenter={x:0,y:0},delete Hammer.defaults.cssProps.userSelect,this.ham=null,this.setupHandlers()}fi.prototype._onChanged=function(e){console.log("page state: "+this._termBuf.prevPageState+"->"+this._termBuf.pageState);var t,n,o,r,i=li();2==this._termBuf.prevPageState&&3==this._termBuf.pageState&&!this._enabled&&i.enableEasyReading&&this._core.connectedUrl.easyReadingSupported?this._enabled=!0:i.enableEasyReading||(this._enabled=!1),this._enabled&&(n=this._termBuf.cols-1,t=this._termBuf.rows-1,i=this._termBuf.getRowText(t,0,this._termBuf.cols),3==this._termBuf.pageState?this.startedEasyReading=!0:this.startedEasyReading&&0===i.indexOf(" ◆ 未達看板發文限制:")?this.easyReadingShowPushInitText=!0:(this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.startedEasyReading=!1),this.startedEasyReading&&(console.log("easy reading cursor pos: "+this._termBuf.cur_y+":"+this._termBuf.cur_x),this._termBuf.cur_y==t&&this._termBuf.cur_x==n?this.ignoreOneUpdate?this.ignoreOneUpdate=!1:(o=ft(i))?4==(n=this._termBuf.lines[t][0]).getBg()&&7==n.getFg()?this.easyReadingReachedPageEnd=!0:(this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate||(this.sendCommandAfterUpdate="[6~")):this.easyReadingShowPushInitText||(this._termBuf.pageState=5,this.startedEasyReading=!1):this._termBuf.cur_y==t?this.easyReadingShowPushInitText||(i=this._termBuf.getRowText(t,0,this._termBuf.cols),o=0===(r=i).indexOf("您覺得這篇文章 ")||0===r.search(/→ \w+ *: +/)||0===r.indexOf("很抱歉, 本板不開放回覆文章，要改回信給作者嗎？ [y/N]:"),this.easyReadingShowPushInitText=!!o):22==this._termBuf.cur_y&&(r=this._termBuf.getRowText(22,0,this._termBuf.cols),o=0===(r=r).indexOf("▲ 回應至 (F)看板 (M)作者信箱 (B)二者皆是 (Q)取消？[F] ")||0===r.indexOf("▲ 無法回應至看板。 改回應至 (M)作者信箱 (Q)取消？[Q]")||0===r.indexOf("把這篇文章收入到暫存檔？[y/N]")||0===r.indexOf("請選擇暫存檔 (0-9)[0]:"),this.easyReadingShowReplyText=!!o)))},fi.prototype._onViewUpdated=function(e){console.log("view update"),this.sendCommandAfterUpdate&&(console.log("send:"+this.sendCommandAfterUpdate),"skipOne"!=this.sendCommandAfterUpdate&&this._send(this.sendCommandAfterUpdate),this.sendCommandAfterUpdate="")},fi.prototype.leaveCurrentPost=function(){console.log("leave curent post"),this.easyReadingReachedPageEnd||(this.ignoreOneUpdate=!0),this._termBuf.prevPageState=0},fi.prototype.stopEasyReading=function(){console.log("stop easy reading"),this.sendCommandAfterUpdate="skipOne"},fi.prototype._send=function(e){this._view.conn.send(e)},fi.prototype._onKeyDown=function(e){if(this._enabled&&this.startedEasyReading&&(this._onKeyDownProcessUI(e),!e.defaultPrevented)){var t=!1;if(e.ctrlKey||e.altKey)e.ctrlKey&&!e.altKey&&"h"===e.key&&(this._send("[D[A[C"),t=!0);else switch(e.key){case"Backspace":case"ArrowUp":this._send("[D[A[C"),t=!0;break;case"ArrowDown":this._send("[D[B[C"),t=!0}t&&e.preventDefault()}},fi.prototype._scrollBy=function(e){var t=this._view.mainDisplay;return!(e<0&&0==t.scrollTop)&&(!(0<e&&t.scrollTop>=this._view.mainContainer.clientHeight-this._view.chh*this._termBuf.rows)&&(t.scrollTop+=this._view.chh*e,!0))},fi.prototype._scrollEnd=function(){return this._view.mainDisplay.scrollTop=this._view.mainContainer.clientHeight,!0},fi.prototype._scrollTop=function(){return!(this._view.mainDisplay.scrollTop=0)},fi.prototype._onKeyDownProcessUI=function(e){var t=!1;if(e.ctrlKey||e.altKey){if(e.ctrlKey&&!e.altKey)switch(e.key){case"f":this._scrollBy(this._turnPageLines),t=!0;break;case"b":this._scrollBy(-this._turnPageLines),t=!0;break;case"h":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;default:if(0<="@^_?".indexOf(e.key)){t=!0;break}}}else switch(e.key){case"Backspace":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;case"ArrowRight":case" ":case"t":(t=this._scrollBy(this._turnPageLines))||this.leaveCurrentPost();break;case"PageUp":this._scrollBy(-this._turnPageLines),t=!0;break;case"PageDown":this._scrollBy(this._turnPageLines),t=!0;break;case"ArrowLeft":this.stopEasyReading();break;case"ArrowUp":(t=this._scrollBy(-1))||this.leaveCurrentPost();break;case"Enter":case"ArrowDown":(t=this._scrollBy(1))||this.leaveCurrentPost();break;case"k":this._scrollBy(-1),t=!0;break;case"j":this._scrollBy(1),t=!0;break;case"Home":case"0":case"g":t=this._scrollTop();break;case"End":case"$":case"G":t=this._scrollEnd();break;case"Tab":t=!0;break;default:if(0<="abf=+-[]ABF".indexOf(e.key)){this.leaveCurrentPost();break}if(0<="123456789hops;,./\\H#OP:<>".indexOf(e.key)){t=!0;break}}t&&e.preventDefault()},fi.prototype._onMouseClick=function(e){if(this._enabled&&this.startedEasyReading){var t=!1;switch(this._termBuf.mouseCursor){case 0:case 1:this.stopEasyReading();break;case 2:this._scrollBy(-this._turnPageLines),t=!0;break;case 3:this._scrollBy(this._turnPageLines),t=!0;break;case 4:this._scrollTop(),t=!0;break;case 5:this._scrollEnd(),t=!0;break;case 6:case 7:break;case 8:case 9:case 10:case 12:case 13:case 14:this.leaveCurrentPost()}t&&e.preventDefault()}},di.prototype.setupHandlers=function(){var t=this,n=this.app;document.body.ontouchmove=function(e){return 1==e.touches.length},document.body.ontouchstart=function(e){t.touchStarted=!0,n.inputArea.blur(),console.log("touchstart")},document.body.ontouchend=function(e){2==n.buf.pageState&&n.buf.highlightCursor&&-1!=n.buf.nowHighlight&&(n.onMouse_click(t.touchedCenter.x,t.touchedCenter.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus()),console.log("touchend")},this.ham=new Hammer(n.BBSWin),this.ham.on("pan",function(e){"touch"==e.pointerType&&2==n.buf.pageState&&(e.preventDefault(),e.srcEvent.preventDefault(),t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!0,n.onMouse_move(e.center.x,e.center.y),t.touchedCenter.x=e.center.x,t.touchedCenter.y=e.center.y)}),this.ham.on("tap",function(e){e.preventDefault(),e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),"touch"==e.pointerType&&(t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!1,n.onMouse_move(e.center.x,e.center.y),n.onMouse_click(e.center.x,e.center.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus(),console.log("touchtap"))})};var hi=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],i=we("h4");i.displayName="DivStyledAsH4";n=Be("alert-heading",{Component:i}),ye=Be("alert-link",{Component:Jn}),t={show:!0,transition:A,closeLabel:"Close alert"},c=te.a.forwardRef(function(e,t){var n=Mn(e,{show:"onClose"}),o=n.bsPrefix,r=n.show,i=n.closeLabel,a=n.className,s=n.children,c=n.variant,l=n.onClose,u=n.dismissible,f=n.transition,e=Z(n,hi),n=Me(o,"alert"),o=le(function(e){l&&l(!1,e)}),f=!0===f?A:f,s=te.a.createElement("div",Q({role:"alert"},f?void 0:e,{ref:t,className:J()(a,n,c&&n+"-"+c,u&&n+"-dismissible")}),u&&te.a.createElement(je,{onClick:o,label:i}),s);return f?te.a.createElement(f,Q({unmountOnExit:!0},e,{ref:void 0,in:r}),s):r?s:null});c.displayName="Alert",c.defaultProps=t,c.Link=ye,c.Heading=n;function pi(e){return e=e.onDismiss,te.a.createElement(mi,{bsStyle:"info",className:"PageTopAlert",tabIndex:-1,onDismiss:e},te.a.createElement("h4",null,on("alert_pasteShortcutHeader")),te.a.createElement("p",null,on("alert_pasteShortcutText")),te.a.createElement("p",null,te.a.createElement(so,{bsStyle:"primary",onClick:e},on("alert_pasteShortcutClose"))))}var mi=c,gi=Cn(Ie({componentDidMount:function(){var t=this;this.handler=function(e){13==e.keyCode&&t.props.onDismiss(),event.preventDefault(),event.stopImmediatePropagation()},window.addEventListener("keydown",this.handler,!0)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handler,!0)}}))(function(e){e=e.onDismiss;return te.a.createElement(A,{in:!0},te.a.createElement(mi,{bsStyle:"danger",className:"PageTopAlert",onDismiss:e},te.a.createElement("h4",null,on("alert_connectionHeader")),te.a.createElement("p",null,on("alert_connectionText")),te.a.createElement("p",null,te.a.createElement(so,{bsStyle:"danger",onClick:e},on("alert_connectionReconnect")))))}),L=o(28),vi=o.n(L),bi={providers:[{name:"goo.gl",url:"https://goo.gl/%s"}]},yi=Cn(b(function(){var r={};return{onDropdownMenuMount:function(){return function(e){r.dropdownMenu=e}},onMousePositionChange:function(e){var n=e.pageX,o=e.pageY;return function(){var e,t;r.dropdownMenu.style.cssText+="\n          top:".concat((e=o,t=r.dropdownMenu.clientHeight,window.innerHeight<e+t&&t<e?e-t:e),"px;\n          left:").concat((t=n,e=r.dropdownMenu.clientWidth,window.innerWidth<t+e&&e<t?t-e:t),"px;\n        ")}},onContextMenu:function(){return function(e){e.stopPropagation(),e.preventDefault()}}}}),Ie({componentDidMount:function(){this.props.onMousePositionChange()},componentDidUpdate:function(e){this.props.pageX===e.pageX&&this.props.pageY===e.pageY||this.props.onMousePositionChange()}}))(function(e){var t=e.pageX,n=e.pageY,o=e.urlEnabled,r=e.normalEnabled,i=e.selEnabled,a=e.mouseBrowsingEnabled,s=e.selectedText,c=e.onMenuSelect,l=e.onInputHelperClick,u=e.onLiveArticleHelperClick,f=e.onSettingsClick,d=e.onQuickSearchSelect,h=e.onDropdownMenuMount,e=e.onContextMenu;return te.a.createElement("ul",{className:"dropdown-menu DropdownMenu--reset",ref:h,onContextMenu:e},i&&te.a.createElement(te.a.Fragment,null,te.a.createElement(void 0,{eventKey:"copy",onSelect:c},on("cmenu_copy"),te.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+C")),te.a.createElement(void 0,{eventKey:"copyAnsi",onSelect:c},on("cmenu_copyAnsi"))),r&&te.a.createElement(void 0,{eventKey:"paste",onSelect:c},on("cmenu_paste"),te.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Shift+Insert")),i&&te.a.createElement(void 0,{eventKey:"searchGoogle",onSelect:c},on("cmenu_searchGoogle")," ",te.a.createElement("span",null,"'",15<(s=s).length?"".concat(s.substr(0,15)," …"):s,"'")),o&&te.a.createElement(te.a.Fragment,null,te.a.createElement(void 0,{eventKey:"openUrlNewTab",onSelect:c},on("cmenu_openUrlNewTab")),te.a.createElement(void 0,{eventKey:"copyLinkUrl",onSelect:c},on("cmenu_copyLinkUrl"))),te.a.createElement(void 0,{divider:!0}),i&&te.a.createElement(te.a.Fragment,null,te.a.createElement(void 0,{className:"DropdownMenu__Item--quickSearch"},on("cmenu_quickSearch")," ",te.a.createElement("span",{style:{float:"right"}},"►"),te.a.createElement("ul",{className:J()("dropdown-menu","DropdownMenu--reset","QuickSearchMenu",{"QuickSearchMenu--up":n>window.innerHeight/2,"QuickSearchMenu--left":t>.7*window.innerWidth}),role:"menu"},bi.providers.map(function(e){return te.a.createElement(void 0,{key:e.url,eventKey:e.url,onSelect:d},e.name)}))),te.a.createElement(void 0,{divider:!0})),r&&te.a.createElement(te.a.Fragment,null,te.a.createElement(void 0,{eventKey:"selectAll",onSelect:c},on("cmenu_selectAll"),te.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+A")),te.a.createElement(void 0,{eventKey:"mouseBrowsing",onSelect:c,className:J()({"DropdownMenu__Item--checked":a})},on("cmenu_mouseBrowsing")),te.a.createElement(void 0,{onClick:l},on("cmenu_showInputHelper")),te.a.createElement(void 0,{onClick:u},on("cmenu_showLiveArticleHelper")),te.a.createElement(void 0,{divider:!0})),te.a.createElement(void 0,{onClick:f},on("cmenu_settings")))}),wi=["bsPrefix","className","noGutters","as"],xi=["xl","lg","md","sm","xs"],u=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.noGutters,i=e.as,i=void 0===i?"div":i,a=Z(e,wi),n=Me(n,"row"),s=n+"-cols",c=[];return xi.forEach(function(e){var t=a[e];delete a[e],null!=(t=null!=t&&"object"==typeof t?t.cols:t)&&c.push(s+("xs"!==e?"-"+e:"")+"-"+t)}),te.a.createElement(i,Q({ref:t},a,{className:J.a.apply(void 0,[o,n,r&&"no-gutters"].concat(c))}))});u.displayName="Row",u.defaultProps={noGutters:!1};var Ei=u,_i=["bsPrefix","className","as"],Ci=["xl","lg","md","sm","xs"],we=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.as,r=void 0===r?"div":r,i=Z(e,_i),a=Me(n,"col"),s=[],c=[];return Ci.forEach(function(e){var t,n,o,r=i[e];delete i[e],"object"==typeof r&&null!=r?(t=void 0===(o=r.span)||o,n=r.offset,o=r.order):t=r;e="xs"!==e?"-"+e:"";t&&s.push(!0===t?a+e:a+e+"-"+t),null!=o&&c.push("order"+e+"-"+o),null!=n&&c.push("offset"+e+"-"+n)}),s.length||s.push(a),te.a.createElement(r,Q({},i,{ref:t,className:J.a.apply(void 0,[o].concat(s,c))}))});we.displayName="Col";var ki,Si=we;function Oi(e,t,n){return void 0===n&&(n=!1),function(t,n,e,o){void 0===o&&(o=!1);var r=le(e);Object(ee.useEffect)(function(){var e="function"==typeof t?t():t;return e.addEventListener(n,r,o),function(){return e.removeEventListener(n,r,o)}},[t])}(Object(ee.useCallback)(function(){return document},[]),e,t,n),0}var Ti=te.a.createContext(null),Pi=function(){};function Ri(e){void 0===e&&(e={});var t=Object(ee.useContext)(Ti),n=ce(),o=n[0],r=n[1],i=Object(ee.useRef)(!1),a=e,s=a.flip,c=a.offset,l=a.rootCloseEvent,u=a.fixed,f=void 0!==u&&u,d=a.popperConfig,h=void 0===d?{}:d,p=a.usePopper,m=void 0===p?!!t:p,g=null==(null==t?void 0:t.show)?!!e.show:t.show,n=(null==(null==t?void 0:t.alignEnd)?e:t).alignEnd;g&&!i.current&&(i.current=!0);u=t||{},d=u.drop,a=u.setMenu,p=u.menuElement,e=u.toggleElement,u=n?"bottom-end":"bottom-start";"up"===d?u=n?"top-end":"top-start":"right"===d?u=n?"right-end":"right-start":"left"===d&&(u=n?"left-end":"left-start");h=Rr(e,p,Dr({placement:u,enabled:!(!m||!g),enableEvents:g,offset:c,flip:s,fixed:f,arrowElement:o,popperConfig:h})),e=Q({ref:a||Pi,"aria-labelledby":null==e?void 0:e.id},h.attributes.popper,{style:h.styles.popper}),h={show:g,alignEnd:n,hasShown:i.current,toggle:null==t?void 0:t.toggle,popper:m?h:null,arrowProps:m?Q({ref:r},h.attributes.arrow,{style:h.styles.arrow}):{}};return Nr(p,function(e){null!=t&&t.toggle(!1,e)},{clickTrigger:l,disabled:!g}),[e,h]}i={children:l.a.func.isRequired,show:l.a.bool,alignEnd:l.a.bool,flip:l.a.bool,usePopper:l.a.oneOf([!0,!1]),popperConfig:l.a.object,rootCloseEvent:l.a.string};function Mi(e){var t=e.children,n=Ri(Z(e,["children"])),e=n[0],n=n[1];return te.a.createElement(te.a.Fragment,null,n.hasShown?t(e,n):null)}Mi.displayName="ReactOverlaysDropdownMenu",Mi.propTypes=i,Mi.defaultProps={usePopper:!0};var t=Mi,Ni=function(){};function Di(){var e=Object(ee.useContext)(Ti)||{},t=e.show,n=void 0!==t&&t,t=e.toggle,o=void 0===t?Ni:t,t=e.setToggle,e=Object(ee.useCallback)(function(e){o(!n,e)},[n,o]);return[{ref:t||Ni,onClick:e,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:o}]}ye={children:l.a.func.isRequired};function Bi(e){var t=e.children,n=Di(),e=n[0],n=n[1];return te.a.createElement(te.a.Fragment,null,t(e,n))}Bi.displayName="ReactOverlaysDropdownToggle",Bi.propTypes=ye;n=Bi,c={children:l.a.node,drop:l.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:l.a.oneOf([!1,!0,"keyboard"]),itemSelector:l.a.string,alignEnd:l.a.bool,show:l.a.bool,defaultShow:l.a.bool,onToggle:l.a.func};function Li(){var t=Un(),n=Object(ee.useRef)(null),e=Object(ee.useCallback)(function(e){n.current=e,t()},[t]);return[n,e]}function Fi(e){var t=e.drop,n=e.alignEnd,o=e.defaultShow,r=e.show,i=e.onToggle,a=e.itemSelector,s=void 0===a?"* > *":a,c=e.focusFirstItemOnShow,e=e.children,o=Rn(r,o,i),l=o[0],u=o[1],i=Li(),f=i[0],d=i[1],h=f.current,o=Li(),p=o[0],m=o[1],g=p.current,i=Y(l),v=Object(ee.useRef)(null),b=Object(ee.useRef)(!1),y=Object(ee.useCallback)(function(e,t){u(e,t)},[u]),o=Object(ee.useMemo)(function(){return{toggle:y,drop:t,show:l,alignEnd:n,menuElement:h,toggleElement:g,setMenu:d,setToggle:m}},[y,t,l,n,h,g,d,m]);h&&i&&!l&&(b.current=h.contains(document.activeElement));var w=le(function(){g&&g.focus&&g.focus()}),x=le(function(){var e,t,n,o,r=v.current,i=c;!1===(i=null==i?!(!f.current||(e=f.current,t="[role=menu]",ki||(n=document.body,o=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector,ki=function(e,t){return o.call(e,t)}),!ki(e,t)))&&"keyboard":i)||"keyboard"===i&&!/^key.+$/.test(r)||(r=Ce(f.current,s)[0])&&r.focus&&r.focus()});Object(ee.useEffect)(function(){l?x():b.current&&(b.current=!1,w())},[l,b,w,x]),Object(ee.useEffect)(function(){v.current=null});function E(e,t){if(!f.current)return null;var n=Ce(f.current,s),t=n.indexOf(e)+t;return n[t=Math.max(0,Math.min(t,n.length))]}return Oi("keydown",function(n){var e=n.key,t=n.target,o=null==(r=f.current)?void 0:r.contains(t),r=null==(i=p.current)?void 0:i.contains(t),i=/input|textarea/i.test(t.tagName);if((!i||!(" "===e||"Escape"!==e&&o))&&(o||r)&&(f.current||"Tab"!==e))switch(v.current=n.type,e){case"ArrowUp":var a=E(t,-1);return a&&a.focus&&a.focus(),void n.preventDefault();case"ArrowDown":return n.preventDefault(),void(l?(a=E(t,1))&&a.focus&&a.focus():u(!0,n));case"Tab":re(document,"keyup",function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||u(!1,n)},{once:!0});break;case"Escape":n.preventDefault(),n.stopPropagation(),u(!1,n)}}),te.a.createElement(Ti.Provider,{value:o},e)}Fi.displayName="ReactOverlaysDropdown",Fi.propTypes=c,Fi.Menu=t,Fi.Toggle=n;var Ai=Fi,ji=["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"],L={as:Jn,disabled:!1},u=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.children,i=e.eventKey,a=e.disabled,s=e.href,c=e.onClick,l=e.onSelect,u=e.active,f=e.as,d=Z(e,ji),e=Me(n,"dropdown-item"),h=Object(ee.useContext)(Bn),n=(Object(ee.useContext)(qn)||{}).activeKey,p=Nn(i,s),n=null==u&&null!=p?Nn(n)===p:u,u=le(function(e){a||(c&&c(e),h&&h(p,e),l&&l(p,e))});return te.a.createElement(f,Q({},d,{ref:t,href:s,disabled:a,className:J()(o,e,n&&"active",a&&"disabled"),onClick:u}),r)});u.displayName="DropdownItem",u.defaultProps=L;we=u;function Hi(e){return e}var Ii=["bsPrefix","className","align","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"],i=l.a.oneOf(["left","right"]),ye=l.a.oneOfType([i,l.a.shape({sm:i}),l.a.shape({md:i}),l.a.shape({lg:i}),l.a.shape({xl:i})]),c=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,r=e.align,i=e.alignRight,a=e.rootCloseEvent,s=e.flip,c=e.show,l=e.renderOnMount,u=e.as,f=void 0===u?"div":u,d=e.popperConfig,h=Z(e,Ii),p=Object(ee.useContext)(Hn),m=Me(n,"dropdown-menu"),g=Fr(),v=g[0],u=g[1],e=[];r&&("object"==typeof r?(n=Object.keys(r)).length&&(i="left"===(n=r[g=n[0]]),e.push(m+"-"+g+"-"+n)):"right"===r&&(i=!0));var a=Ri({flip:s,rootCloseEvent:a,show:c,alignEnd:i,usePopper:!p&&0===e.length,popperConfig:Q({},d,{modifiers:u.concat((null==d?void 0:d.modifiers)||[])})}),c=a[0],i=a[1],p=i.hasShown,u=i.popper,d=i.show,a=i.alignEnd,b=i.toggle;if(c.ref=Kn(v,Kn(Hi(t),c.ref)),!p&&!l)return null;"string"!=typeof f&&(c.show=d,c.close=function(){return null==b?void 0:b(!1)},c.alignRight=a);l=h.style;return null!=u&&u.placement&&(l=Q({},h.style,c.style),h["x-placement"]=u.placement),te.a.createElement(f,Q({},h,c,{style:l,className:J.a.apply(void 0,[o,m,d&&"show",a&&m+"-right"].concat(e))}))});c.displayName="DropdownMenu",c.defaultProps={align:"left",alignRight:!1,flip:!0};var t=c,Ui=["bsPrefix","split","className","childBsPrefix","as"],n=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.split,r=e.className,i=e.childBsPrefix,a=e.as,a=void 0===a?so:a,e=Z(e,Ui),n=Me(n,"dropdown-toggle");void 0!==i&&(e.bsPrefix=i);i=Di()[0];return i.ref=Kn(i.ref,Hi(t)),te.a.createElement(a,Q({className:J()(r,n,o&&n+"-split")},i,e))});n.displayName="DropdownToggle";var L=n,Wi=["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"],u=Be("dropdown-header",{defaultProps:{role:"heading"}}),i=Be("dropdown-divider",{defaultProps:{role:"separator"}}),c=Be("dropdown-item-text",{Component:"span"}),n=te.a.forwardRef(function(e,t){var n=Mn(e,{show:"onToggle"}),o=n.bsPrefix,r=n.drop,i=n.show,a=n.className,s=n.alignRight,c=n.onSelect,l=n.onToggle,u=n.focusFirstItemOnShow,f=n.as,e=void 0===f?"div":f,f=(n.navbar,Z(n,Wi)),d=Object(ee.useContext)(Bn),n=Me(o,"dropdown"),h=le(function(e,t,n){void 0===n&&(n=t.type),t.currentTarget!==document||"keydown"===n&&"Escape"!==t.key||(n="rootClose"),l&&l(e,t,{source:n})}),o=le(function(e,t){d&&d(e,t),c&&c(e,t),h(!1,t,"select")});return te.a.createElement(Bn.Provider,{value:o},te.a.createElement(Ai,{drop:r,show:i,alignEnd:s,onToggle:h,focusFirstItemOnShow:u,itemSelector:"."+n+"-item:not(.disabled):not(:disabled)"},te.a.createElement(e,Q({},f,{ref:t,className:J()(a,i&&"show",(!r||"down"===r)&&n,"up"===r&&"dropup","right"===r&&"dropright","left"===r&&"dropleft")}))))});n.displayName="Dropdown",n.defaultProps={navbar:!1},n.Divider=i,n.Header=u,n.Item=we,n.ItemText=c,n.Menu=t,n.Toggle=L;var Ki=n,zi=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount"],n=te.a.forwardRef(function(e,t){var n=e.id,o=e.title,r=e.children,i=e.bsPrefix,a=e.className,s=e.rootCloseEvent,c=e.menuRole,l=e.disabled,u=e.active,f=e.renderMenuOnMount,d=Z(e,zi),e=Me(void 0,"nav-item");return te.a.createElement(Ki,Q({ref:t},d,{className:J()(a,e)}),te.a.createElement(Ki.Toggle,{id:n,eventKey:null,active:u,disabled:l,childBsPrefix:i,as:oo},o),te.a.createElement(Ki.Menu,{role:c,renderOnMount:f,rootCloseEvent:s},r))});n.displayName="NavDropdown",n.Item=Ki.Item,n.ItemText=Ki.ItemText,n.Divider=Ki.Divider,n.Header=Ki.Header;var qi=n,Xi=["bsPrefix","size","toggle","vertical","className","as"],n=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.size,r=e.toggle,i=e.vertical,a=e.className,s=e.as,s=void 0===s?"div":s,e=Z(e,Xi),n=Me(n,"btn-group"),i=i?n+"-vertical":n;return te.a.createElement(s,Q({},e,{ref:t,className:J()(a,i,o&&n+"-"+o,r&&n+"-toggle")}))});n.displayName="ButtonGroup",n.defaultProps={vertical:!1,toggle:!1,role:"group"};var Yi=n,Vi=["id","bsPrefix","size","variant","title","type","toggleLabel","children","onClick","href","target","menuAlign","menuRole","renderMenuOnMount","rootCloseEvent"],n={id:l.a.any,toggleLabel:l.a.string,href:l.a.string,target:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,type:l.a.string,disabled:l.a.bool,menuAlign:ye,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},ye=te.a.forwardRef(function(e,t){var n=e.id,o=e.bsPrefix,r=e.size,i=e.variant,a=e.title,s=e.type,c=e.toggleLabel,l=e.children,u=e.onClick,f=e.href,d=e.target,h=e.menuAlign,p=e.menuRole,m=e.renderMenuOnMount,g=e.rootCloseEvent,e=Z(e,Vi);return te.a.createElement(Ki,Q({ref:t},e,{as:Yi}),te.a.createElement(so,{size:r,variant:i,disabled:e.disabled,bsPrefix:o,href:f,target:d,onClick:u,type:s},a),te.a.createElement(Ki.Toggle,{split:!0,id:n?n.toString():void 0,size:r,variant:i,disabled:e.disabled,childBsPrefix:o},te.a.createElement("span",{className:"sr-only"},c)),te.a.createElement(Ki.Menu,{align:h,role:p,renderOnMount:m,rootCloseEvent:g},l))});ye.propTypes=n,ye.defaultProps={toggleLabel:"Toggle dropdown",type:"button"},ye.displayName="SplitButton";var Gi=ye,$i={general:["，","、","。","．","？","！","～","＄","％","＠","＆","＃","＊","‧","；","︰","…","‥","﹐","﹒","˙","·","﹔","﹕","‘","’","“","”","〝","〞","‵","′","〃"],lineBorders:["├","─","┼","┴","┬","┤","┌","┐","│","▕","└","┘","╭","╮","╰","╯","╔","╦","╗","╠","═","╬","╣","╓","╥","╖","╒","╤","╕","║","╚","╩","╝","╟","╫","╢","╙","╨","╜","╞","╪","╡","╘","╧","╛"],blocks:["＿","ˍ","▁","▂","▃","▄","▅","▆","▇","█","▏","▎","▍","▌","▋","▊","▉","◢","◣","◥","◤"],lines:["﹣","﹦","≡","｜","∣","∥","–","︱","—","︳","╴","¯","￣","﹉","﹊","﹍","﹎","﹋","﹌","﹏","︴","∕","﹨","╱","╲","／","＼"],special:["↑","↓","←","→","↖","↗","↙","↘","㊣","◎","○","●","⊕","⊙","△","▲","☆","★","◇","Æ","□","■","▽","▼","§","￥","〒","￠","￡","※","♀","♂"],brackets:["〔","〕","【","】","《","》","（","）","｛","｝","﹙","﹚","『","』","﹛","﹜","﹝","﹞","＜","＞","﹤","﹥","「","」","︵","︶","︷","︸","︹","︺","︻","︼","︽","︾","〈","〉","︿","﹀","﹁","﹂","﹃","﹄"],greek:["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω"],phonetic:["ㄅ","ㄆ","ㄇ","ㄈ","ㄉ","ㄊ","ㄋ","ㄌ","ㄍ","ㄎ","ㄏ","ㄐ","ㄑ","ㄒ","ㄓ","ㄔ","ㄕ","ㄖ","ㄗ","ㄘ","ㄙ","ㄚ","ㄛ","ㄜ","ㄝ","ㄞ","ㄟ","ㄠ","ㄡ","ㄢ","ㄣ","ㄤ","ㄥ","ㄦ","ㄧ","ㄨ","ㄩ","˙","ˊ","ˇ","ˋ"],math:["╳","＋","﹢","－","×","÷","＝","≠","≒","∞","ˇ","±","√","⊥","∠","∟","⊿","㏒","㏑","∫","∮","∵","∴","≦","≧","∩","∪"],hiragana:["あ","い","う","え","お","か","き","く","け","こ","さ","し","す","せ","そ","た","ち","つ","て","と","な","に","ぬ","ね","の","は","ひ","ふ","へ","ほ","ま","み","む","め","も","ら","り","る","れ","ろ","が","ぎ","ぐ","げ","ご","ざ","じ","ず","ぜ","ぞ","だ","ぢ","づ","で","ど","ば","び","ぶ","べ","ぼ","ぱ","ぴ","ぷ","ぺ","ぽ","や","ゆ","よ","わ","ん","を"],katakana:["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ラ","リ","ル","レ","ロ","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ジ","ズ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ","ヤ","ユ","ヨ","ワ","ン","ヲ"]},Qi={angry:["(ノ ゜Д゜)ノ ︵ ═╩════╩═","╯-____-)╯~═╩════╩═~","(╭∩╮\\_/╭∩╮)","( ︶︿︶)_╭∩╮","( ‵□′)───C＜─___-)|||","(￣ε(#￣) #○=(一-一o)","(o一-一)=○# (￣#)3￣)","╰(‵皿′＊)╯","○(#‵︿′ㄨ)○","◢▆▅▄▃-崩╰(〒皿〒)╯潰-▃▄▅▆◣"],meh:["(σ′▽‵)′▽‵)σ 哈哈哈哈～你看看你","( ￣ c￣)y▂ξ","( ′-`)y-～","′_>‵","╮(′～‵〞)╭",'╮(﹀_﹀")╭',"︿(￣︶￣)︿","..╮(﹋﹏﹌)╭..","╮(╯_╰)╭","╮(╯▽╰)/"],sweat:["(－^－)ｄ","(￣￣；)","(￣□￣|||)a","(●；－_－)●","￣▽￣||","╭ ﹀◇﹀〣","ˋ(′_‵||)ˊ","●( ¯▽¯；●","o(＞＜；)o o"],happy:["~(￣▽￣)~(＿△＿)~(￣▽￣)~(＿△＿)~(￣▽￣)~","(~^O^~)","(∩_∩)","<(￣︶￣)>","v(￣︶￣)y","﹨(╯▽╰)∕","\\(@^0^@)/","\\(^▽^)/","\\⊙▽⊙/"],other:["(．＿．?)","(？o？)","(‧Q‧)","〒△〒","m川@.川m","(¯(∞)¯)","(⊙o⊙)","(≧<>≦)","(☆_☆)",'o(‧"‧)o']};function Zi(e,t,n){var o=e.fg,r=e.bg,i="0;";7<o&&(o%=8,i="1;"),o+=30,r+=40;var a="";e.isBlink&&(a="5;");e="[";t(e+="foreground"==n?i+a+o+"m":"background"==n?r+"m":i+a+o+";"+r+"m")}var Ji=Cn(P(function(){return{fg:7,bg:0,isBlink:!1}},{onColorClick:function(){return function(e){e=e.target.dataset.fg;return{fg:parseInt(e,10)}}},onColorContextMenu:function(e){var n=e.bg;return function(e){var t=e.target.dataset;return e.preventDefault(),e.stopPropagation(),{bg:"bg"in t?parseInt(t.bg,10):n}}},onBlinkChange:function(){return function(e){return{isBlink:e.target.checked}}},onSendClick:function(e,t){var n=t.onCmdSend;return function(){return Zi(e,n)}},onSendSelect:function(t,e){var n=e.onCmdSend;return function(e){return Zi(t,n,e)}},onSymEmoClick:function(e,t){var n=t.onConvSend;return function(e){e=e.target.textContent;return n(e)}}}),b({onMouseDown:function(){return function(e){var t=e.currentTarget.dataset,n=e.clientX,e=e.clientY;t.dragActive=!0,t.dragLastX=n,t.dragLastY=e}},onMouseMove:function(){return function(e){var t=e.currentTarget,n=t.dataset,o=t.style,t=e.clientX,e=e.clientY;"true"===n.dragActive&&(window.getSelection().removeAllRanges(),o.cssText+="\n          top:".concat((parseFloat(o.top)||0)+e-n.dragLastY,"px;\n          left:").concat((parseFloat(o.left)||0)+t-n.dragLastX,"px;\n        "),n.dragLastX=t,n.dragLastY=e)}},onMouseUp:function(){return function(e){e.currentTarget.dataset.dragActive=!1}}}))(function(e){var t=e.show,n=e.onReset,o=e.onHide,r=e.onMouseDown,i=e.onMouseMove,a=e.onMouseUp,s=e.fg,c=e.bg,l=e.isBlink,u=e.onColorClick,f=e.onColorContextMenu,d=e.onBlinkChange,h=e.onSendClick,p=e.onSendSelect,m=e.onSymEmoClick;return te.a.createElement(qe,{show:t,className:"InputHelperModal__Dialog",onMouseDown:r,onMouseMove:i,onMouseUp:a},te.a.createElement(qe.Header,{closeButton:!0,onHide:o},te.a.createElement(qe.Title,null,on("inputHelperTitle"))),te.a.createElement(qe.Body,null,te.a.createElement(jn.Container,{defaultActiveKey:"colors"},te.a.createElement(Ei,{className:"clearfix"},te.a.createElement(Si,{sm:12},te.a.createElement(io,{bsStyle:"tabs"},te.a.createElement(Gn,{eventKey:"colors"},on("colorTitle")),te.a.createElement(qi,{eventKey:"symbols",title:on("symTitle")},Object.keys($i).map(function(e){return te.a.createElement(void 0,{eventKey:"symbols.".concat(e)},on("symTitle_".concat(e)))})),te.a.createElement(qi,{eventKey:"emoticons",title:on("emoTitle")},Object.keys(Qi).map(function(e){return te.a.createElement(void 0,{eventKey:"emoticons.".concat(e)},on("emoTitle_".concat(e)))})))),te.a.createElement(Si,{sm:12},te.a.createElement(jn.Content,{animation:!0},te.a.createElement(jn.Pane,{eventKey:"colors"},te.a.createElement(Ei,null,te.a.createElement(Si,{xs:12,sm:7},te.a.createElement("ul",{className:"InputHelperModal__ColorList"},te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b0","data-fg":"0","data-bg":"0"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b1","data-fg":"1","data-bg":"1"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b2","data-fg":"2","data-bg":"2"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b3","data-fg":"3","data-bg":"3"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b4","data-fg":"4","data-bg":"4"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b5","data-fg":"5","data-bg":"5"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b6","data-fg":"6","data-bg":"6"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b7","data-fg":"7","data-bg":"7"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b8","data-fg":"8"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b9","data-fg":"9"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b10","data-fg":"10"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b11","data-fg":"11"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b12","data-fg":"12"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b13","data-fg":"13"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b14","data-fg":"14"}),te.a.createElement("li",{onClick:u,onContextMenu:f,className:"b15","data-fg":"15"}))),te.a.createElement(Si,{xs:12,sm:5},on("colorHelperTooltip1"),te.a.createElement("br",null),on("colorHelperTooltip2"))),te.a.createElement("div",{className:"InputHelperModal__Preview"},te.a.createElement(at,{className:"InputHelperModal__Preview__Content",colorState:{fg:s,bg:c,blink:l},inner:on("colorHelperPreview")})),te.a.createElement(Ei,null,te.a.createElement(Si,{xs:4},te.a.createElement(void 0,{checked:l,onChange:d},on("colorHelperBlink"))),te.a.createElement(Si,{xs:8,className:"InputHelperModal__SendButtonContainer"},te.a.createElement(Gi,{title:on("colorHelperSend"),onClick:h},te.a.createElement(void 0,{eventKey:"foreground",onSelect:p},on("colorHelperSendMenuFore")),te.a.createElement(void 0,{eventKey:"background",onSelect:p},on("colorHelperSendMenuBack")),te.a.createElement(void 0,{divider:!0}),te.a.createElement(void 0,{eventKey:"reset",onSelect:n},on("colorHelperSendMenuReset")))))),Object.keys($i).map(function(e){return te.a.createElement(jn.Pane,{eventKey:"symbols.".concat(e)},te.a.createElement("ul",{className:"InputHelperModal__SymbolList"},$i[e].map(function(e,t){return te.a.createElement("li",{key:t,onClick:m},e)})))}),Object.keys(Qi).map(function(e){return te.a.createElement(jn.Pane,{eventKey:"emoticons.".concat(e)},te.a.createElement("ul",{className:"InputHelperModal__EmoticonList"},Qi[e].map(function(e,t){return te.a.createElement("li",{key:t,onClick:m},e)})))})))))))}),ea=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],ye=te.a.forwardRef(function(e,t){var n=e.bsPrefix,o=e.placement,r=e.className,i=e.style,a=e.children,s=e.arrowProps,e=(e.popper,e.show,Z(e,ea)),n=Me(n,"tooltip"),o=((null==o?void 0:o.split("-"))||[])[0];return te.a.createElement("div",Q({ref:t,style:i,role:"tooltip","x-placement":o,className:J()(r,n,"bs-tooltip-"+o)},e),te.a.createElement("div",Q({className:"arrow"},s)),te.a.createElement("div",{className:n+"-inner"},a))});ye.defaultProps={placement:"right"},ye.displayName="Tooltip";var ta=ye,na=Cn(b({onEnabledClick:function(e){var t=e.enabled,n=e.sec,o=e.onChange;return function(){return o({enabled:!t,sec:n})}},onSecChange:function(e){var t=e.enabled,n=e.onChange;return function(e){e=e.target.value;return n({enabled:t,sec:function(e){e=parseInt(e,10);return 1<e?e:1}(e)})}}}))(function(e){var t=e.show,n=e.onHide,o=e.enabled,r=e.sec,i=e.onEnabledClick,e=e.onSecChange;return te.a.createElement(qe,{show:t},te.a.createElement(qe.Body,{className:"LiveHelperModal__Body"},te.a.createElement(qr,{placement:"top",overlay:te.a.createElement(ta,null,"Alt + r")},te.a.createElement(so,{active:o,onClick:i},on("liveHelperEnable"))),te.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},on("liveHelperSpan")),te.a.createElement("input",{type:"number",className:"LiveHelperModal__Body__Input form-control nomouse_command",value:r,onChange:e}),te.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},on("liveHelperSpanSec")),te.a.createElement("button",{type:"button",className:"LiveHelperModal__Body__Close close nomouse_command",onClick:n},"×")))});function oa(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ra(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(n),!0).forEach(function(e){ia(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aa(){}function sa(e,t){return e.onValuesPrefChange(t),e.modalShown=!1,e.setInputAreaFocus(),e.switchToEasyReadingMode(e.view.useEasyReadingMode),{showsSettings:!1}}var ca,la=(ia(b={},"C".charCodeAt(0),"copy"),ia(b,"E".charCodeAt(0),"copyLinkUrl"),ia(b,"P".charCodeAt(0),"paste"),ia(b,"S".charCodeAt(0),"searchGoogle"),ia(b,"T".charCodeAt(0),"openUrlNewTab"),b),ua={copy:function(e,t){t=t.selectedText;return e.doCopy(t)},copyAnsi:function(e){return e.doCopyAnsi()},paste:function(e){return e.doPaste()},searchGoogle:function(e,t){t=t.selectedText;return e.doSearchGoogle(t)},openUrlNewTab:function(e,t){t=t.aElement;return e.doOpenUrlNewTab(t)},copyLinkUrl:function(e,t){t=t.contextOnUrl;return e.doCopy(t)},selectAll:function(e){return e.doSelectAll()},mouseBrowsing:function(e){return e.switchMouseBrowsing()}},fa={open:!1,pageX:0,pageY:0,contextOnUrl:"",aElement:void 0,selectedText:"",urlEnabled:!1,normalEnabled:!1,selEnabled:!1,showsInputHelper:!1,showsLiveArticleHelper:!1,showsSettings:!1,liveHelperEnabled:!1,liveHelperSec:1},da=Cn(P(fa,{onContextMenu:function(e,t){var s=t.pttchrome;return function(e){e.stopPropagation(),e.preventDefault();var t=s.CmdHandler;if("1"!==t.getAttribute("doDOMMouseScroll")){s.contextMenuShown=!0,window.getSelection().isCollapsed?s.lastSelection=null:s.lastSelection=s.view.getSelectionColRow();var n,o=vi()(e.target),r="";o.is("a")?(r=o.attr("href"),n=o[0]):o.parent().is("a")&&(r=o.parent().attr("href"),n=o[0].parentNode);var i=window.getSelection().toString().replace(/\u00a0/g," "),a=!!r,o=!a&&window.getSelection().isCollapsed;return{open:open,pageX:e.pageX,pageY:e.pageY,contextOnUrl:r,aElement:n,selectedText:i,urlEnabled:a,normalEnabled:o,selEnabled:!o}}t.setAttribute("doDOMMouseScroll","0")}},onHide:function(e,t){var n=t.pttchrome;return function(){if(e.open)return n.contextMenuShown=!1,fa}},onMenuSelect:function(n,e){var o=e.pttchrome;return function(e,t){return ua[e](o,n),t.stopPropagation(),o.contextMenuShown=!1,fa}},onInputHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,ra(ra({},fa),{},{showsInputHelper:!0})}},onLiveArticleHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,ra(ra({},fa),{},{showsLiveArticleHelper:!0})}},onSettingsClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,n.onDisableLiveHelperModalState(),n.modalShown=!0,ra(ra({},fa),{},{showsSettings:!0})}},onQuickSearchSelect:function(e,t){var n=t.pttchrome,o=t.selectedText;return function(e,t){e=e.replace("%s",o);return window.open(e),t.stopPropagation(),n.contextMenuShown=!1,fa}},onInputHelperHide:function(e,t){t.pttchrome;return function(){return{showsInputHelper:!1}}},onInputHelperReset:function(e,t){var n=t.pttchrome;return function(){n.conn.send("[m")}},onInputHelperCmdSend:function(e,t){var i=t.pttchrome;return function(e){var t,n,o,r;window.getSelection().isCollapsed||6!=i.buf.pageState||(t=i.view.getSelectionColRow(),o="",o+="[H",(n=i.buf.cur_y)>t.end.row?o+="[A".repeat(n-t.end.row):n<t.end.row&&(o+="[B".repeat(t.end.row-n)),r=i.buf.getRowText(t.end.row,0,t.end.col).length,o+="[C".repeat(r)+"[m",o+="[H",(n=t.end.row)>t.start.row?o+="[A".repeat(n-t.start.row):n<t.start.row&&(o+="[B".repeat(t.start.row-n)),r=i.buf.getRowText(t.start.row,0,t.start.col).length,e=(o+="[C".repeat(r))+e),i.conn.send(e)}},onInputHelperConvSend:function(e,t){var n=t.pttchrome;return function(e){n.conn.convSend(e)}},onLiveHelperHide:function(){return function(){return{showsLiveArticleHelper:!1,liveHelperEnabled:!1}}},onLiveHelperChange:function(t,e){var n=e.pttchrome;return function(e){return t.liveHelperEnabled?(n.view.useEasyReadingMode=!1,n.switchToEasyReadingMode(),n.setAutoPushthreadUpdate(t.sec)):n.setAutoPushthreadUpdate(-1),{liveHelperEnabled:e.enabled,liveHelperSec:e.sec}}},onPrefSave:function(e,t){var n=t.pttchrome;return function(e){return sa(n,e)}},onPrefReset:function(e,t){var n=t.pttchrome;return function(e){return n.view.redraw(!0),sa(n,e)}}}),(ca=function(e){var t=e.pttchrome,n=e.liveHelperEnabled,o=e.onLiveHelperChange;n?(t.onToggleLiveHelperModalState=function(){o({enabled:!state.enabled,sec:state.sec})},t.onDisableLiveHelperModalState=function(){o({enabled:!1,sec:state.sec})}):t.onToggleLiveHelperModalState=t.onDisableLiveHelperModalState=aa},hn(function(e){return En({},e,"function"==typeof ca?ca(e):ca)})),Ie({componentDidMount:function(){var n=this;this.contextMenuHandler=function(e){n.props.onContextMenu(e)},document.getElementById("BBSWindow").addEventListener("contextmenu",this.contextMenuHandler,!0),this.clickHandler=function(){n.props.onHide()},window.addEventListener("click",this.clickHandler,!1),this.touchStartHandler=function(e){"menuitem"!==e.target.getAttribute("role")&&n.props.onHide()},window.addEventListener("touchstart",this.touchStartHandler,!1),this.hotKeyUpHandler=function(e){var t;n.props.open&&(e.preventDefault(),e.stopPropagation(),e.altKey||e.ctrlKey||e.shiftKey||(t=la[e.keyCode])&&n.props.onMenuSelect(t,e))},window.addEventListener("keyup",this.hotKeyUpHandler,!1)},componentWillUnmount:function(){window.removeEventListener("keyup",this.hotKeyUpHandler,!1),window.removeEventListener("touchstart",this.touchStartHandler,!1),window.removeEventListener("click",this.clickHandler,!1),document.BBSWindow.removeEventListener("keyup",this.contextMenuHandler,!1)}}))(function(e){var t=e.pttchrome,n=e.pageX,o=e.pageY,r=e.open,i=e.urlEnabled,a=e.normalEnabled,s=e.selEnabled,c=e.selectedText,l=e.onMenuSelect,u=e.onInputHelperClick,f=e.onLiveArticleHelperClick,d=e.onSettingsClick,h=e.onQuickSearchSelect,p=e.showsInputHelper,m=e.showsLiveArticleHelper,g=e.showsSettings,v=e.liveHelperEnabled,b=e.liveHelperSec,y=e.onInputHelperHide,w=e.onInputHelperReset,x=e.onInputHelperCmdSend,E=e.onInputHelperConvSend,_=e.onLiveHelperHide,C=e.onLiveHelperChange,k=e.onPrefSave,e=e.onPrefReset;return te.a.createElement(te.a.Fragment,null,te.a.createElement("div",{className:J()({open:r})},te.a.createElement(yi,{pageX:n,pageY:o,urlEnabled:i,normalEnabled:a,selEnabled:s,mouseBrowsingEnabled:t.buf.useMouseBrowsing,selectedText:c,onMenuSelect:l,onInputHelperClick:u,onLiveArticleHelperClick:f,onSettingsClick:d,onQuickSearchSelect:h})),te.a.createElement(Ji,{show:p,onHide:y,onReset:w,onCmdSend:x,onConvSend:E}),te.a.createElement(na,{show:m,onHide:_,enabled:v,sec:b,onChange:C}),te.a.createElement(ui,{show:g,onSave:k,onReset:e}))});function ha(){}var pa=function(){var t=this;this.CmdHandler=document.getElementById("cmdHandler"),this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.CmdHandler.setAttribute("doDOMMouseScroll","0"),this.CmdHandler.setAttribute("SkipMouseClick","0"),this.view=new ln,this.buf=new $t(80,24),this.buf.setView(this.view),this.view.setBuf(this.buf),this.view.setCore(this),this.parser=new Xe(this.buf),this.easyReading=new fi(this,this.view,this.buf),this.antiIdleTime=0,this.idleTime=0,this.curX=0,this.curY=0,this.inputArea=document.getElementById("t"),this.BBSWin=document.getElementById("BBSWindow"),this.BBSWin.setAttribute("align","center"),this.view.mainDisplay.style.transformOrigin="center",this.mouseLeftButtonDown=!1,this.mouseRightButtonDown=!1,this.inputAreaFocusTimer=null,this.modalShown=!1,this.lastSelection=null,this.waterball={userId:"",message:""},this.appFocused=!0,this.endTurnsOnLiveUpdate=!1,this.copyOnSelect=!1;var e=window.navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);e&&2<e.length&&(this.chromeVersion=parseInt(e[2],10));var n=this;window.addEventListener("click",function(e){n.mouse_click(e)},!1),window.addEventListener("mousedown",function(e){n.mouse_down(e)},!1),$(window).mousedown(function(e){if(!1===n.middleMouse_down(e))return!1}),window.addEventListener("mouseup",function(e){n.mouse_up(e)},!1),document.addEventListener("mousemove",function(e){n.mouse_move(e)},!1),document.addEventListener("mouseover",function(e){n.mouse_over(e)},!1),"onwheel"in window?window.addEventListener("wheel",function(e){n.mouse_scroll(e)},!0):window.addEventListener("mousewheel",function(e){n.mouse_scroll(e)},!0),window.addEventListener("focus",function(e){n.appFocused=!0,n.view.titleTimer&&(n.view.titleTimer.cancel(),n.view.titleTimer=null,document.title=n.connectedUrl.site,n.view.notif.close())},!1),window.addEventListener("blur",function(e){n.appFocused=!1},!1),this.strToCopy=null,document.addEventListener("copy",function(e){n.onDOMCopy(e)}),this.inputArea.addEventListener("paste",function(e){n.onDOMPaste(e)}),this.view.innerBounds=this.getWindowInnerBounds(),this.view.firstGridOffset=this.getFirstGridOffsets(),window.onresize=function(){n.onWindowResize()},window.addEventListener("beforeunload",function(e){if(t.conn&&t.conn.isConnected&&0!=t.buf.pageState)return e.returnValue="You are currently connected. Are you sure?",e.returnValue}),this.dblclickTimer=null,this.mbTimer=null,this.timerEverySec=null,this.pushthreadAutoUpdateCount=0,this.maxPushthreadAutoUpdateCount=-1,this.onWindowResize(),this.setupContextMenus(),this.contextMenuShown=!1,this.chromeVersion&&37<=this.chromeVersion&&(this.touch=new di(this))};function ma(){rn();var e=new pa;Promise.resolve().then(function(){e.connect(function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]==e)return decodeURIComponent(o[1])}return null}("site")||"wsstelnet://ws.ccns.ncku.edu.tw/bbs"),console.log("load pref from storage"),e.onValuesPrefChange(li()),e.setInputAreaFocus(),$("#BBSWindow").show(),e.onWindowResize()})}function ga(t){return fetch(t).then(function(e){if(!e.ok)throw new Error("loadTable failed: "+e.statusText+": "+t);return e.arrayBuffer()})}pa.prototype.isConnected=function(){return 1==this.connectState&&!!this.conn},pa.prototype.connect=function(e){this.connectState=0,console.log("connect: "+e);var t=this._parseURLSimple(e);if("wsstelnet"==t.protocol)this._setupWebsocketConn("wss://"+t.hostname+t.path);else{if("wstelnet"!=t.protocol)return void console.log("unsupport connect url protocol: "+parser.protocol);this._setupWebsocketConn("ws://"+t.hostname+t.path)}this.connectedUrl={url:e,site:t.hostname,port:t.port,easyReadingSupported:!0}},pa.prototype._parseURLSimple=function(e){var t=e.split(/:\/\//,2);if(2!=t.length)return null;var n=t[1].split(/\//,2),o=n[0].split(/:/);if(2<o)return null;e=1<o.length?parseInt(o[1]):{wstelnet:80,wsstelnet:443,telnet:23,ssh:22}[t[0]];return{protocol:t[0],hostname:n[0],host:o[0],port:e,path:"/"+(1<n.length?n[1]:"")}},pa.prototype._setupWebsocketConn=function(e){e=new dn(e);this._attachConn(new fn(e))},pa.prototype._attachConn=function(t){var n=this;this.conn=t,this.conn.addEventListener("open",this.onConnect.bind(this)),this.conn.addEventListener("close",this.onClose.bind(this)),this.conn.addEventListener("data",function(e){n.onData(e.detail.data)}),this.conn.addEventListener("doNaws",function(e){t.sendWillNaws(),t.sendNaws(n.buf.cols,n.buf.rows)})},pa.prototype.onConnect=function(){this.conn.isConnected=!0,this.view.setConn(this.conn),console.info("pttchrome onConnect"),this.connectState=1,this.updateTabIcon("connect"),this.idleTime=0;var e=this;this.timerEverySec=an(!0,function(){e.antiIdle(),e.view.onBlink(),e.incrementCountToUpdatePushthread()},1e3)},pa.prototype.onData=function(e){var t,n;this.parser.feed(e),!this.appFocused&&this.view.enableNotifications&&(t=ut(e),n=new RegExp(/\x1b\[1;33;46m\u2605(\w+)\x1b\[0;1;37;45m (.+) \x1b\[m\x1b\[K/g),(e=(e=n.exec(t))&&3==e.length?{userId:e[1],message:e[2]}:(e=(n=new RegExp(/\x1b\[24;\d{2}H\x1b\[1;37;45m([^\x1b]+)(?:\x1b\[24;18H)?\x1b\[m/g)).exec(t))&&2==e.length?{message:e[1]}:null)&&("userId"in e&&(this.waterball.userId=e.userId),"message"in e&&(this.waterball.message=e.message),this.view.showWaterballNotification()))},pa.prototype.onClose=function(){var e=this;console.info("pttchrome onClose"),this.timerEverySec&&this.timerEverySec.cancel(),this.conn.isConnected=!1,this.cancelMbTimer(),this.connectState=2,this.idleTime=0;var t=document.getElementById("reactAlert");ReactDOM.render(React.createElement(gi,{onDismiss:function(){ReactDOM.unmountComponentAtNode(t),e.connect(e.connectedUrl.url)}}),t),this.updateTabIcon("disconnect")},pa.prototype.sendData=function(e){1==this.connectState&&this.conn.convSend(e)},pa.prototype.cancelMbTimer=function(){this.mbTimer&&(this.mbTimer.cancel(),this.mbTimer=null)},pa.prototype.setMbTimer=function(){this.cancelMbTimer();var e=this;this.mbTimer=an(!1,function(){e.mbTimer.cancel(),e.mbTimer=null,e.CmdHandler.setAttribute("SkipMouseClick","0")},100)},pa.prototype.cancelDblclickTimer=function(){this.dblclickTimer&&(this.dblclickTimer.cancel(),this.dblclickTimer=null)},pa.prototype.setDblclickTimer=function(){this.cancelDblclickTimer();var e=this;this.dblclickTimer=an(!1,function(){e.dblclickTimer.cancel(),e.dblclickTimer=null},350)},pa.prototype.setInputAreaFocus=function(){this.modalShown||this.touch&&this.touch.touchStarted||this.inputArea.focus()},pa.prototype.onToggleLiveHelperModalState=ha,pa.prototype.onDisableLiveHelperModalState=ha,pa.prototype.switchToEasyReadingMode=function(e){this.easyReading.leaveCurrentPost(),e?(this.onDisableLiveHelperModalState(),this.buf.pageLines=[],3==this.buf.pageState&&this.view.conn.send("[D[C")):(this.view.mainContainer.style.paddingBottom="",this.view.lastRowIndex=22,this.view.lastRowDiv.style.display="",this.view.replyRowDiv.style.display="",this.buf.pageLines=[]),this.view.conn.send(function(e){for(var t="",n=0;n<e.length;++n){var o,r=e.charAt(n),i=e.charAt(n+1);if(n==e.length-1){t+=r;break}"\\"!=r||"\\"!=i&&"^"!=i?"^"==r?"@"<=i&&i<="_"?(o=e.charCodeAt(n+1)-64,t+=String.fromCharCode(o),n++):"?"==i?(t+="",n++):t+="^":t+=r:t+=i}return t}("^L"))},pa.prototype.doCopy=function(e){e.indexOf("")<0&&(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/ +\r/g,"\r")),this.strToCopy=e,document.execCommand("copy")},pa.prototype.doCopyAnsi=function(){if(this.lastSelection){var e=this.lastSelection,t=null;this.view.useEasyReadingMode&&3==this.buf.pageState&&(t=this.buf.pageLines);var n="";if(e.start.row==e.end.row)n+=this.buf.getText(e.start.row,e.start.col,e.end.col,!0,!0,!1,t);else for(var o=e.start.row;o<=e.end.row;++o){var r=0,i=this.buf.cols-1;o==e.start.row?r=e.start.col:o==e.end.row&&(i=e.end.col),n+=this.buf.getText(o,r,i,!0,!0,!1,t),o!=e.end.row&&(n+="\r")}this.doCopy(n)}},pa.prototype.onDOMCopy=function(e){this.strToCopy&&(e.clipboardData.setData("text",this.strToCopy),e.preventDefault(),console.log("copied: ",this.strToCopy),this.strToCopy=null)},pa.prototype.doPaste=function(){var t=this;navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(function(e){return t.onPasteDone(e)},function(){return t.showPasteUnimplemented()}):this.showPasteUnimplemented()},pa.prototype.showPasteUnimplemented=function(){function e(){ReactDOM.unmountComponentAtNode(n),t.modalShown=!1}var t=this,n=document.getElementById("reactAlert");ReactDOM.render(React.createElement(r.a,{show:!0,onExited:e,backdropClassName:"modal-backdrop",containerClassName:"modal-open",transition:A,dialogTransitionTimeout:qe.TRANSITION_DURATION,backdropTransitionTimeout:qe.BACKDROP_TRANSITION_DURATION},React.createElement(pi,{onDismiss:e})),n),this.modalShown=!0},pa.prototype.onPasteDone=function(e){this.view.onTextInput(e,!0)},pa.prototype.onDOMPaste=function(e){var t=e.clipboardData.getData("text");t&&(e.preventDefault(),this.onPasteDone(t))},pa.prototype.onSymFont=function(e){console.log("using "+(e?"extension":"system")+" font");var t="@font-face { font-family: MingLiUNoGlyph; "+(e?"src: url("+e.data+");":"")+" }",e=document.createElement("style");e.type="text/css",e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)},pa.prototype.doSelectAll=function(){window.getSelection().selectAllChildren(this.view.mainDisplay)},pa.prototype.doSearchGoogle=function(e){window.open("http://google.com/search?q="+e)},pa.prototype.doOpenUrlNewTab=function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!1,0,null),e.dispatchEvent(t)},pa.prototype.incrementCountToUpdatePushthread=function(e){-1!=this.maxPushthreadAutoUpdateCount?++this.pushthreadAutoUpdateCount>=this.maxPushthreadAutoUpdateCount&&(this.pushthreadAutoUpdateCount=0,3!=this.buf.pageState&&2!=this.buf.pageState||this.view.conn.send("[D[C[4~")):this.pushthreadAutoUpdateCount=0},pa.prototype.setAutoPushthreadUpdate=function(e){this.maxPushthreadAutoUpdateCount=e},pa.prototype.onWindowResize=function(){var e=this;this.view.innerBounds=this.getWindowInnerBounds(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizer?this.resizeTimeout=setTimeout(function(){e.resizeTimeout=null,e.resizer&&e.resizer()},500):this.view.fontResize()},pa.prototype.setTermSize=function(e,t){this.buf.cols==e&&this.buf.rows==t||(this.buf.resize(e,t),this.conn&&this.conn.sendNaws(e,t))},pa.prototype.switchMouseBrowsing=function(){"1"==this.CmdHandler.getAttribute("useMouseBrowsing")?(this.CmdHandler.setAttribute("useMouseBrowsing","0"),this.buf.useMouseBrowsing=!1):(this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.buf.useMouseBrowsing=!0),this.buf.useMouseBrowsing?(this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos()):(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0)},pa.prototype.antiIdle=function(){this.antiIdleTime&&this.idleTime>this.antiIdleTime?1==this.connectState&&(this.conn.send(""),this.idleTime=0):1==this.connectState&&(this.idleTime+=1e3)},pa.prototype.updateTabIcon=function(e){var t=o(118);switch(e){case"connect":t=o(22),this.setInputAreaFocus();break;case"disconnect":t=o(22)}e=document.querySelector("link[rel~='icon']");e?e.setAttribute("href",t):((e=document.createElement("link")).setAttribute("rel","icon"),e.setAttribute("href",t),document.head.appendChild(e))},pa.prototype.getWindowInnerBounds=function(){return{width:document.documentElement.clientWidth-2*this.view.bbsViewMargin,height:document.documentElement.clientHeight-2*this.view.bbsViewMargin}},pa.prototype.getFirstGridOffsets=function(){var e=$(".main")[0];return{top:e.offsetTop,left:e.offsetLeft}},pa.prototype.clientToPos=function(e,t){var n=this.view.innerBounds.width,o=this.view.innerBounds.height,t=1!=this.view.scaleX||1!=this.view.scaleY?(r=e-(n-this.view.chw*this.buf.cols*this.view.scaleX)/2,t-(o-this.view.chh*this.buf.rows*this.view.scaleY)/2):(r=e-parseFloat(this.view.firstGridOffset.left),t-parseFloat(this.view.firstGridOffset.top)),r=Math.floor(r/(this.view.chw*this.view.scaleX)),t=Math.floor(t/(this.view.chh*this.view.scaleY));return t<0?t=0:t>=this.buf.rows-1&&(t=this.buf.rows-1),r<0?r=0:r>=this.buf.cols-1&&(r=this.buf.cols-1),{col:r,row:t}},pa.prototype.onMouse_click=function(e){var t=e.clientX,n=e.clientY;if(this.conn&&this.conn.isConnected&&(this.onDisableLiveHelperModalState(),this.easyReading._onMouseClick(e),!e.defaultPrevented))switch(this.buf.mouseCursor){case 1:this.conn.send("[D");break;case 2:this.conn.send("[5~");break;case 3:this.conn.send("[6~");break;case 4:this.conn.send("[1~");break;case 5:this.conn.send("[4~");break;case 6:if(-1!=this.buf.nowHighlight){var o="";if(this.buf.cur_y>this.buf.nowHighlight)for(var r=this.buf.cur_y-this.buf.nowHighlight,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<this.buf.nowHighlight)for(r=this.buf.nowHighlight-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r")}break;case 7:var a=this.clientToPos(t,n),o="";if(this.buf.cur_y>a.row)for(r=this.buf.cur_y-a.row,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<a.row)for(r=a.row-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r");break;case 0:this.conn.send("[D");break;case 8:this.conn.send("[");break;case 9:this.conn.send("]");break;case 10:this.conn.send("=");break;case 12:this.conn.send("[D\r[4~");break;case 13:this.conn.send("[D\r[4~[]");break;case 14:this.conn.send("[D[4~[]\r")}},pa.prototype.onMouse_move=function(e,t){t=this.clientToPos(e,t);this.buf.onMouse_move(t.col,t.row,!1)},pa.prototype.resetMouseCursor=function(e,t){this.buf.BBSWin.style.cursor="auto",this.buf.mouseCursor=11},pa.prototype.onValuesPrefChange=function(e){var t,n=this;for(t in e)this.onPrefChange(t,e[t]);try{switch(this.resizer=null,e.termSizeMode){case"fixed-term-size":this.view.fontFitWindowWidth=e.fontFitWindowWidth;var o=e.termSize;this.setTermSize(o.cols,o.rows),this.view.fontResize(),this.view.redraw(!0);break;case"fixed-font-size":this.view.fontFitWindowWidth=!1;var r=e.fontSize;this.resizer=function(){var e=n.view.calcTermSizeFromFont(r);n.setTermSize(e.cols,e.rows),n.view.fixedResize(r),n.view.redraw(!0)},this.resizer();break;case"max-font-size":this.view.fontFitWindowWidth=!1;var i=e.fontSize,a=80,s=24;this.resizer=function(){var e=n.view.calcFontSizeFromTerm(a,s),t=Math.min(e,i),e=n.view.calcTermSizeFromFont(t);n.setTermSize(e.cols,e.rows),n.view.fixedResize(t),n.view.redraw(!0)},this.resizer()}this.view.fontFitWindowWidth?$(".main").addClass("trans-fix"):$(".main").removeClass("trans-fix")}catch(e){}},pa.prototype.onPrefChange=function(e,t){try{switch(e){case"useMouseBrowsing":var n=t;this.CmdHandler.setAttribute("useMouseBrowsing",n?"1":"0"),this.buf.useMouseBrowsing=n,this.buf.useMouseBrowsing||(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0),this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlight":this.buf.highlightCursor=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlightColor":this.view.highlightBG=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseLeftFunction":this.view.leftButtonFunction=t,"boolean"==typeof this.view.leftButtonFunction&&(this.view.leftButtonFunction=this.view.leftButtonFunction?1:0);break;case"mouseMiddleFunction":this.view.middleButtonFunction=t;break;case"mouseWheelFunction1":this.view.mouseWheelFunction1=t;break;case"mouseWheelFunction2":this.view.mouseWheelFunction2=t;break;case"mouseWheelFunction3":this.view.mouseWheelFunction3=t;break;case"copyOnSelect":this.copyOnSelect=t;break;case"endTurnsOnLiveUpdate":this.endTurnsOnLiveUpdate=t;break;case"enablePicPreview":this.view.enablePicPreview=t;break;case"enableNotifications":this.view.enableNotifications=t;break;case"enableEasyReading":break;case"antiIdleTime":this.antiIdleTime=1e3*t;break;case"dbcsDetect":this.view.dbcsDetect=t;break;case"lineWrap":this.conn.lineWrap=t;break;case"fontFace":var o=(o=t)||"monospace";this.view.setFontFace(o);break;case"bbsMargin":this.view.bbsViewMargin=t,this.onWindowResize()}}catch(e){return}},pa.prototype.checkClass=function(e){return 0<=e.indexOf("closeSI")||0<=e.indexOf("EPbtn")||0<=e.indexOf("closePP")||0<=e.indexOf("picturePreview")||0<=e.indexOf("drag")||0<=e.indexOf("floatWindowClientArea")||0<=e.indexOf("WinBtn")||0<=e.indexOf("sBtn")||0<=e.indexOf("nonspan")||0<=e.indexOf("nomouse_command")},pa.prototype.mouse_click=function(e){var t,n;this.modalShown||(n="1"==this.CmdHandler.getAttribute("SkipMouseClick"),this.CmdHandler.setAttribute("SkipMouseClick","0"),2==e.button||(0===e.button?$(e.target).is("a")||$(e.target).parent().is("a")||window.getSelection().isCollapsed&&(this.buf.useMouseBrowsing?(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),e.target.tagName&&0<=e.target.tagName.indexOf("menuitem")&&(t=!1),n&&(t=!1,n=this.clientToPos(e.clientX,e.clientY),this.buf.onMouse_move(n.col,n.row,!0)),t&&(this.onMouse_click(e),this.setDblclickTimer(),e.preventDefault(),this.setInputAreaFocus())):this.view.leftButtonFunction&&(1==this.view.leftButtonFunction?(this.setBBSCmd("doEnter",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()):2==this.view.leftButtonFunction&&(this.setBBSCmd("doRight",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()))):e.button))},pa.prototype.middleMouse_down=function(e){if(1==e.button&&!$(e.target).is("a")&&!$(e.target).parent().is("a"))return 1==this.view.middleButtonFunction?(this.conn.send("\r"),!1):2==this.view.middleButtonFunction?(this.conn.send("[D"),!1):3==this.view.middleButtonFunction?(this.doPaste(),!1):void 0},pa.prototype.mouse_down=function(e){this.modalShown||(0===e.button?(this.buf.useMouseBrowsing&&(this.dblclickTimer&&(e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0),this.setDblclickTimer()),this.mouseLeftButtonDown=!0,window.getSelection().isCollapsed||this.CmdHandler.setAttribute("SkipMouseClick","1"),e.target.className&&this.checkClass(e.target.className),e.target.tagName&&e.target.tagName.indexOf("menuitem")):2==e.button&&(this.mouseRightButtonDown=!0))},pa.prototype.mouse_up=function(e){var t,n;this.modalShown||(0===e.button?(this.setMbTimer(),this.mouseLeftButtonDown=!1):2==e.button&&(this.mouseRightButtonDown=!1),0===e.button||2==e.button?window.getSelection().isCollapsed?(this.buf.useMouseBrowsing&&this.onMouse_move(e.clientX,e.clientY),this.setInputAreaFocus(),0===e.button&&(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),(t=e.target.tagName&&0<=e.target.tagName.indexOf("menuitem")?!1:t)&&e.preventDefault())):this.copyOnSelect&&this.doCopy(window.getSelection().toString().replace(/\u00a0/g," ")):(this.setInputAreaFocus(),e.preventDefault()),(n=this).inputAreaFocusTimer=an(!1,function(){clearTimeout(n.inputAreaFocusTimer),n.inputAreaFocusTimer=null,window.getSelection().isCollapsed&&n.setInputAreaFocus()},10))},pa.prototype.mouse_move=function(e){this.buf.useMouseBrowsing&&(window.getSelection().isCollapsed?this.mouseLeftButtonDown||this.onMouse_move(e.clientX,e.clientY):this.resetMouseCursor())},pa.prototype.mouse_over=function(e){this.modalShown||(this.curX=e.clientX,this.curY=e.clientY,window.getSelection().isCollapsed&&!this.mouseLeftButtonDown&&this.setInputAreaFocus())},pa.prototype.mouse_scroll=function(e){var t,n;this.modalShown||this.view.useEasyReadingMode&&3==this.buf.pageState||(t=["none","doArrowUp","doPageUp","previousThread"],n=["none","doArrowDown","doPageDown","nextThread"],n=e.deltaY<0||0<e.wheelDelta?this.mouseRightButtonDown?t[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?t[this.view.mouseWheelFunction3]:t[this.view.mouseWheelFunction1]:this.mouseRightButtonDown?n[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?n[this.view.mouseWheelFunction3]:n[this.view.mouseWheelFunction1],this.setBBSCmd(n),e.stopPropagation(),e.preventDefault(),this.mouseRightButtonDown&&this.CmdHandler.setAttribute("doDOMMouseScroll","1"),this.mouseLeftButtonDown&&this.buf.useMouseBrowsing&&this.CmdHandler.setAttribute("SkipMouseClick","1"))},pa.prototype.setBBSCmd=function(e){switch(e){case"doArrowUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?0===this.view.mainDisplay.scrollTop?(this.easyReading.leaveCurrentPost(),this.conn.send("[D[A[C")):this.view.mainDisplay.scrollTop-=this.view.chh:this.conn.send("[A");break;case"doArrowDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[B")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("[B");break;case"doPageUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop-=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[5~");break;case"doPageDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[6~");break;case"previousThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("[")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("[");break;case"nextThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("]")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("]");break;case"doEnter":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("\r")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("\r");break;case"doRight":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[C")):this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[C")}},pa.prototype.setupContextMenus=function(){ReactDOM.render(React.createElement(da,{pttchrome:this}),document.getElementById("cmenuReact"))},Promise.all([ga(o(119)),ga(o(120))]).then(function(e){window.lib=window.lib||{},window.lib.b2uArray=new Uint8Array(e[0]),window.lib.u2bArray=new Uint8Array(e[1]),$(document).ready(ma)},function(e){console.log("loadResources failed: "+e)})}]);
//# sourceMappingURL=pttchrome.367548e06fb621e4bd5f.js.map