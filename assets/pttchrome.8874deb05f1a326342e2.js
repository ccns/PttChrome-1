!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="assets/",r(r.s=176)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(125)()},function(e,t,n){var o;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))!n.length||(o=a.apply(null,n))&&e.push(o);else if("object"==r)if(n.toString===Object.prototype.toString)for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=a.default=a:void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),s=n(129),n=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return t=e[t],i.default.isValidElement(t)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,s.isValidElementType)(t)?null:new Error("Invalid "+o+" `"+r+"` of value `"+t+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")}),e.exports=t.default},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e){if(!e||"object"!=typeof e||(t=e.which||e.keyCode||e.charCode)&&(e=t),"number"==typeof e)return a[e];var t=String(e),e=o[t.toLowerCase()];return e||((e=r[t.toLowerCase()])?e:1===t.length?t.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var e=o[t.toLowerCase()];if(e)return e===n;if(e=r[t.toLowerCase()])return e===n}else if("number"==typeof t)return t===n;return!1}};
/*!
 * Programatically add the following
 */
for(var o=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},i=97;i<123;i++)o[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)o[i-48]=i;for(i=1;i<13;i++)o["f"+i]=i+111;for(i=0;i<10;i++)o["numpad "+i]=i+96;var s,a=t.names=t.title={};for(i in o)a[o[i]]=i;for(s in r)o[s]=r[s]},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},function(e,t,n){function m(e,t,n){var o,r,i,s=e&m.F,a=e&m.G,l=e&m.S,c=e&m.P,u=e&m.B,f=e&m.W,d=a?g:g[t]||(g[t]={}),p=d[_],h=a?y:l?y[t]:(y[t]||{})[_];for(o in n=a?t:n)(r=!s&&h&&void 0!==h[o])&&w(d,o)||(i=(r?h:n)[o],d[o]=a&&"function"!=typeof h[o]?n[o]:u&&r?b(i,y):f&&h[o]==i?function(o){function e(e,t,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,n)}return o.apply(this,arguments)}return e[_]=o[_],e}(i):c&&"function"==typeof i?b(Function.call,i):i,c&&((d.virtual||(d.virtual={}))[o]=i,e&m.R&&p&&!p[o]&&v(p,o,i)))}var y=n(23),g=n(7),b=n(48),v=n(32),w=n(22),_="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,e.exports=m},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;n=o(n(8)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r;function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=n,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.default)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null;return r.forEach(function(e){null!=o||null!=(e=e.apply(void 0,t))&&(o=e)}),o})};var n=n(18),o=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default},,function(e,t,n){e.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(63)("wks"),r=n(65),i=n(23).Symbol,s="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(o.default.findDOMNode(e))};var o=i(n(4)),r=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(c){function e(e,t,n,o,r,i){o=o||"<<anonymous>>",i=i||n;if(null==t[n])return e?new Error("Required "+r+" `"+i+"` was not specified in `"+o+"`."):null;for(var s=arguments.length,a=Array(6<s?s-6:0),l=6;l<s;l++)a[l-6]=arguments[l];return c.apply(void 0,[t,n,o,r,i].concat(a))}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t},e.exports=t.default},function(e,t,n){"use strict";function l(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function c(t){this.setState(function(e){return null!=(e=this.constructor.getDerivedStateFromProps(t,e))?e:null}.bind(this))}function u(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=l,t.componentWillReceiveProps=c),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=u;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,n)}}return e}n.r(t),n.d(t,"polyfill",function(){return o}),u.__suppressDeprecationWarning=c.__suppressDeprecationWarning=l.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l){return function(e,t,n,o,r){if(null==e[t])return new Error("The "+o+" `"+(r||t)+"` is required to make `"+(n||"<<anonymous>>")+"` accessible for users of assistive technologies such as screen readers.");for(var i=arguments.length,s=Array(5<i?i-5:0),a=5;a<i;a++)s[a-5]=arguments[a];return l.apply(void 0,[e,t,n,o,r].concat(s))}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=x(n(54)),i=x(n(11)),s=x(n(8)),r=x(n(1)),a=x(n(37)),l=x(n(127)),c=x(n(3)),y=n(0),g=x(y),u=x(n(4)),f=x(n(10)),d=x(n(131)),b=x(n(73)),v=x(n(144)),p=x(n(74)),h=x(n(145)),w=x(n(39)),_=x(n(17));function x(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C,S=new d.default,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,C=g.default.Component),k.prototype.omitProps=function(t,n){var e=Object.keys(t),o={};return e.map(function(e){Object.prototype.hasOwnProperty.call(n,e)||(o[e]=t[e])}),o},k.prototype.render=function(){var e=this.props,t=e.show,n=e.container,o=e.children,r=e.transition,i=e.backdrop,s=e.className,a=e.style,l=e.onExit,c=e.onExiting,u=e.onEnter,f=e.onEntering,d=e.onEntered,p=g.default.Children.only(o),h=this.omitProps(this.props,k.propTypes);if(!(t||r&&!this.state.exited))return null;e=p.props,o=e.role,e=e.tabIndex;return void 0!==o&&void 0!==e||(p=(0,y.cloneElement)(p,{role:void 0===o?"document":o,tabIndex:null==e?"-1":e})),r&&(p=g.default.createElement(r,{appear:!0,unmountOnExit:!0,in:t,onExit:l,onExiting:c,onExited:this.handleHidden,onEnter:u,onEntering:f,onEntered:d},p)),g.default.createElement(b.default,{ref:this.setMountNode,container:n,onRendered:this.onPortalRendered},g.default.createElement("div",m({ref:this.setModalNodeRef,role:o||"dialog"},h,{style:a,className:s}),i&&this.renderBackdrop(),g.default.createElement(v.default,{ref:this.setDialogRef},p)))},k.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},k.prototype.UNSAFE_componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},k.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},k.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},k.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,e=e.transition;this._isMounted=!1,(t||e&&!this.state.exited)&&this.onHide()},k.prototype.autoFocus=function(){var e,t;this.props.autoFocus&&(e=this.getDialogElement(),t=(0,o.default)((0,_.default)(this)),e&&!(0,i.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,f.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus()))},k.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},k.prototype.getDialogElement=function(){return u.default.findDOMNode(this.dialog)},k.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},k);function k(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=E(this,C.call.apply(C,[this].concat(o))),O.call(e=t),E(t,e)}n.propTypes=m({},b.default.propTypes,{show:r.default.bool,container:r.default.oneOfType([a.default,r.default.func]),onShow:r.default.func,onHide:r.default.func,backdrop:r.default.oneOfType([r.default.bool,r.default.oneOf(["static"])]),renderBackdrop:r.default.func,onEscapeKeyDown:r.default.func,onEscapeKeyUp:(0,l.default)(r.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:r.default.func,backdropStyle:r.default.object,backdropClassName:r.default.string,containerClassName:r.default.string,keyboard:r.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:r.default.bool,enforceFocus:r.default.bool,restoreFocus:r.default.bool,onEnter:r.default.func,onEntering:r.default.func,onEntered:r.default.func,onExit:r.default.func,onExiting:r.default.func,onExited:r.default.func,manager:r.default.object.isRequired}),n.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:S,renderBackdrop:function(e){return g.default.createElement("div",e)}};var O=function(){var r=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=r.props,t=e.backdropStyle,n=e.backdropClassName,o=e.renderBackdrop,e=e.backdropTransition,n=o({ref:function(e){return r.backdrop=e},style:t,className:n,onClick:r.handleBackdropClick});return n=e?g.default.createElement(e,{appear:!0,in:r.props.show},n):n},this.onPortalRendered=function(){r.autoFocus(),r.props.onShow&&r.props.onShow()},this.onShow=function(){var e=(0,_.default)(r),t=(0,w.default)(r.props.container,e.body);r.props.manager.add(r,t,r.props.containerClassName),r._onDocumentKeydownListener=(0,p.default)(e,"keydown",r.handleDocumentKeyDown),r._onDocumentKeyupListener=(0,p.default)(e,"keyup",r.handleDocumentKeyUp),r._onFocusinListener=(0,h.default)(r.enforceFocus)},this.onHide=function(){r.props.manager.remove(r),r._onDocumentKeydownListener.remove(),r._onDocumentKeyupListener.remove(),r._onFocusinListener.remove(),r.props.restoreFocus&&r.restoreLastFocus()},this.setMountNode=function(e){r.mountNode=e&&e.getMountNode()},this.setModalNodeRef=function(e){r.modalNode=e},this.setDialogRef=function(e){r.dialog=e},this.handleHidden=function(){var e;r.setState({exited:!0}),r.onHide(),r.props.onExited&&(e=r.props).onExited.apply(e,arguments)},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(r.props.onBackdropClick&&r.props.onBackdropClick(e),!0===r.props.backdrop&&r.props.onHide())},this.handleDocumentKeyDown=function(e){r.props.keyboard&&27===e.keyCode&&r.isTopModal()&&(r.props.onEscapeKeyDown&&r.props.onEscapeKeyDown(e),r.props.onHide())},this.handleDocumentKeyUp=function(e){r.props.keyboard&&27===e.keyCode&&r.isTopModal()&&r.props.onEscapeKeyUp&&r.props.onEscapeKeyUp(e)},this.checkForFocus=function(){s.default&&(r.lastFocus=(0,o.default)())},this.enforceFocus=function(){var e,t;r.props.enforceFocus&&r._isMounted&&r.isTopModal()&&(e=r.getDialogElement(),t=(0,o.default)((0,_.default)(r)),e&&!(0,i.default)(e,t)&&e.focus())}};n.Manager=d.default,t.default=n,e.exports=t.default},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t,n){var o=n(34);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,s,a){var l,c,u;if(!e)throw void 0===t?u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(l=[n,o,r,i,s,a],c=0,(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"),u.framesToPop=1,u}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function s(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(s(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!i.call(t,n[r])||!s(e[n[r]],t[n[r]]))return!1;return!0}},function(e,t,n){e.exports=n(146)},function(e,t,n){e.exports=n.p+"ccns.3cf976b74a18dc5092533de6078ef494.png"},function(e,t,n){var o=n(44);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(105),r=n(66);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(61),r=n(44);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(33),r=n(36);e.exports=n(14)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(24),r=n(67),i=n(69),s=Object.defineProperty;t.f=n(14)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o(n(0)),n=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return e=e[t],t=void 0===e?"undefined":i(e),s.default.isValidElement(e)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===t&&"function"==typeof e.render||1===e.nodeType?null:new Error("Invalid "+o+" `"+r+"` of value `"+e+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var n=n(4),o=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){(!r&&0!==r||e)&&i.default&&((e=document.createElement("div")).style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e));return r};var r,i=o(n(8));e.exports=t.default},function(e,t,n){e.exports=n(149)},function(e,o,r){"use strict";!function(e,t){var n=r(82),t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=Object(n.a)(t);o.a=t}.call(this,r(101),r(102)(e))},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t,n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{}).get||t.set?Object.defineProperty(n,o,t):n[o]=e[o]);return n.default=e,n}}(n(1)),i=a(n(0)),s=a(n(4)),r=n(19);n(148);function a(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var f="entered";t.ENTERED=f;var d="exiting";t.EXITING=d;n=function(r){var e;function t(e,t){var n,o=r.call(this,e,t)||this,t=t.transitionGroup,t=t&&!t.isMounting?e.enter:e.appear;return o.appearStatus=null,e.in?t?(n=c,o.appearStatus=u):n=f:n=e.unmountOnExit||e.mountOnEnter?l:c,o.state={status:n},o.nextCallback=null,o}n=r,(e=t).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;e!==this.props&&(e=this.state.status,this.props.in?e!==u&&e!==f&&(t=u):e!==u&&e!==f||(t=d)),this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n=this.props.timeout,o=e=t=n;return null!=n&&"number"!=typeof n&&(o=n.exit,e=n.enter,t=void 0!==n.appear?n.appear:e),{exit:o,enter:e,appear:t}},n.updateStatus=function(e,t){var n;void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),n=s.default.findDOMNode(this),t===u?this.performEnter(n,e):this.performExit(n)):this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},n.performEnter=function(e,t){var n=this,o=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),s=r?i.appear:i.enter;t||o?(this.props.onEnter(e,r),this.safeSetState({status:u},function(){n.props.onEntering(e,r),n.onTransitionEnd(e,s,function(){n.safeSetState({status:f},function(){n.props.onEntered(e,r)})})})):this.safeSetState({status:f},function(){n.props.onEntered(e)})},n.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(t){var n=this,o=!0;return this.nextCallback=function(e){o&&(o=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,t=function(e,t){if(null==e)return{};for(var n,o={},r=Object.keys(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}(t,["children"]);if(delete t.in,delete t.mountOnEnter,delete t.unmountOnExit,delete t.appear,delete t.enter,delete t.exit,delete t.timeout,delete t.addEndListener,delete t.onEnter,delete t.onEntering,delete t.onEntered,delete t.onExit,delete t.onExiting,delete t.onExited,"function"==typeof n)return n(e,t);n=i.default.Children.only(n);return i.default.cloneElement(n,t)},t}(i.default.Component);function p(){}n.contextTypes={transitionGroup:o.object},n.childContextTypes={transitionGroup:function(){}},n.propTypes={},n.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},n.UNMOUNTED=0,n.EXITED=1,n.ENTERING=2,n.ENTERED=3,n.EXITING=4;n=(0,r.polyfill)(n);t.default=n},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(63)("keys"),r=n(65);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var i=n(109);e.exports=function(o,r,e){if(i(o),void 0===r)return o;switch(e){case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,n){return o.call(r,e,t,n)}}return function(){return o.apply(r,arguments)}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=function(){},r=r=o(n(8)).default?document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0:r;t.default=r,e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=function(){},r=r=o(n(8)).default?document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0:r;t.default=r,e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(n,e,t){var o="",r="",i=e;if("string"==typeof e){if(void 0===t)return n.style[(0,s.default)(e)]||(0,l.default)(n).getPropertyValue((0,a.default)(e));(i={})[e]=t}Object.keys(i).forEach(function(e){var t=i[e];t||0===t?(0,f.default)(e)?r+=e+"("+t+") ":o+=(0,a.default)(e)+": "+t+";":(0,c.default)(n,(0,a.default)(e))}),r&&(o+=u.transform+": "+r+";");n.style.cssText+=";"+o};var s=o(n(72)),a=o(n(136)),l=o(n(138)),c=o(n(139)),u=n(140),f=o(n(141));e.exports=t.default},function(e,t){e.exports={}},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,r.default)());try{return e.activeElement}catch(e){}};var r=o(n(16));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(e)||function(e){return e&&"body"===e.tagName.toLowerCase()}(e)?function(e){var t=(0,r.default)(e),n=(0,o.default)(t).innerWidth;n||(e=t.documentElement.getBoundingClientRect(),n=e.right-Math.abs(e.left));return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight};var o=i(n(38)),r=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(11)),r=c(n(1)),i=c(n(0)),s=c(n(4)),a=c(n(74)),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u=i.default.Component),f.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},f.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},f.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},f.prototype.render=function(){return this.props.children},f);function f(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e,t));return n.addEventListeners=function(){n.currentEvent=window.event;var e=n.props.event,t=(0,l.default)(n);n.documentMouseCaptureListener=(0,a.default)(t,e,n.handleMouseCapture,!0),n.documentMouseListener=(0,a.default)(t,e,n.handleMouse),n.documentKeyupListener=(0,a.default)(t,"keyup",n.handleKeyUp)},n.removeEventListeners=function(){n.documentMouseCaptureListener&&n.documentMouseCaptureListener.remove(),n.documentMouseListener&&n.documentMouseListener.remove(),n.documentKeyupListener&&n.documentKeyupListener.remove()},n.handleMouseCapture=function(e){var t;n.preventMouseRootClose=!(!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&0===e.button)||(0,o.default)(s.default.findDOMNode(n),e.target)},n.handleMouse=function(e){e!==n.currentEvent?!n.preventMouseRootClose&&n.props.onRootClose&&n.props.onRootClose(e):n.currentEvent=void 0},n.handleKeyUp=function(e){e!==n.currentEvent?27===e.keyCode&&n.props.onRootClose&&n.props.onRootClose(e):n.currentEvent=void 0},n.preventMouseRootClose=!1,n}i.displayName="RootCloseWrapper",i.propTypes={onRootClose:r.default.func,children:r.default.element,disabled:r.default.bool,event:r.default.oneOf(["click","mousedown"])},i.defaultProps={event:"click"},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var n=[],o=n;function r(){o===n&&(o=n.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return r(),o.push(t),function(){var e;n&&(n=!1,r(),e=o.indexOf(t),o.splice(e,1))}},emit:function(){for(var e=n=o,t=0;t<e.length;t++)e[t].apply(e,arguments)}}}},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=o(n(50));t.on=r.default;var i=o(n(51));t.off=i.default;var s=o(n(122));t.filter=s.default;n=o(n(124));t.listen=n.default;n={on:r.default,off:i.default,filter:s.default,listen:n.default};t.default=n},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=s(n(1)),r=s(n(3)),u=s(n(0)),f=s(n(73)),d=s(n(154)),p=s(n(56));function s(e){return e&&e.__esModule?e:{default:e}}var a,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a=u.default.Component),l.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},l.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,o=e.target,r=e.placement,i=e.shouldUpdatePosition,s=e.rootClose,a=e.children,l=e.transition,c=function(e,t){var n,o={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(c.show||l&&!this.state.exited))return null;var e=a;return e=u.default.createElement(d.default,{container:t,containerPadding:n,target:o,placement:r,shouldUpdatePosition:i},e),l&&(a=c.onExit,n=c.onExiting,o=c.onEnter,r=c.onEntering,i=c.onEntered,e=u.default.createElement(l,{in:c.show,appear:!0,onExit:a,onExiting:n,onExited:this.onHiddenListener,onEnter:o,onEntering:r,onEntered:i},e)),s&&(e=u.default.createElement(p.default,{onRootClose:c.onHide,event:c.rootCloseEvent},e)),u.default.createElement(f.default,{container:t},e)},l);function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.call(this,e,t));return n.handleHidden=function(){var e;n.setState({exited:!0}),n.props.onExited&&(e=n.props).onExited.apply(e,arguments)},n.state={exited:!e.show},n.onHiddenListener=n.handleHidden.bind(n),n}n.propTypes=o({},f.default.propTypes,d.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,rootCloseEvent:p.default.propTypes.event,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.apply(void 0,[e].concat(o))},transition:r.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=n,e.exports=t.default},function(e,t,n){e.exports=n.p+"last.09f1f52d823b4373697199136e1dc87e.png"},function(e,t,n){var o=n(45);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(46),r=Math.min;e.exports=function(e){return 0<e?r(o(e),9007199254740991):0}},function(e,t,n){var o=n(7),r=n(23),i="__core-js_shared__",s=r[i]||(r[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(64)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=!n(14)&&!n(35)(function(){return 7!=Object.defineProperty(n(68)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(34),r=n(23).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){var r=n(34);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){function o(){}var r=n(24),i=n(112),s=n(66),a=n(47)("IE_PROTO"),l="prototype",c=function(){var e=n(68)("iframe"),t=s.length;for(e.style.display="none",n(113).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[l][s[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[l]=r(e),n=new o,o[l]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){return(0,r.default)(e.replace(i,"ms-"))};var r=o(n(135)),i=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(8)),r=u(n(1)),i=u(n(37)),s=u(n(0)),a=u(n(4)),l=u(n(39)),c=u(n(17)),n=u(n(143));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,d=s.default.Component),p.prototype.UNSAFE_componentWillMount=function(){var e;o.default&&((e="function"==typeof(e=this.props.container)?e():e)&&!a.default.findDOMNode(e)||this.setContainer(e))},p.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},p.prototype.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},p.prototype.componentWillUnmount=function(){this._portalContainerNode=null},p.prototype.setContainer=function(e){this._portalContainerNode=(0,l.default)(e,(0,c.default)(this).body)},p.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=f(this,d.call.apply(d,[this].concat(n)))).getMountNode=function(){return e._portalContainerNode},f(e,e)}s.displayName="Portal",s.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=a.default.createPortal?s:n.default,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(50)),i=o(n(51));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var l=n(14),c=n(30),u=n(31),f=n(49).f;e.exports=function(a){return function(e){for(var t,n=u(e),o=c(n),r=o.length,i=0,s=[];i<r;)t=o[i++],l&&!f.call(n,t)||s.push(a?[t,n[t]]:n[t]);return s}}},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,s.default)(t),o=t&&t.documentElement,r={top:0,left:0,height:0,width:0};if(t)return(0,i.default)(o,e)?r={top:(r=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():r).top+(n.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:(null==r.width?e.offsetWidth:r.width)||0,height:(null==r.height?e.offsetHeight:r.height)||0}:r};var i=o(n(11)),s=o(n(38)),a=o(n(16));e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var r=o(n(38));e.exports=t.default},function(e,t,n){var o=n(33).f,r=n(22),i=n(15)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";t.decode=t.parse=n(90),t.encode=t.stringify=n(91)},function(e,t){const o="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",r=o.length,i=[...o].reduce((e,t,n)=>(e[t]=n,e),{});t.int_to_base58=t.encode=function(e){let t="";var n;for(function(e){if("number"!=typeof e||isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER||Math.floor(e)!==e)throw new Error("Value passed is not a non-negative safe integer.")}(e=Number(e));e>=r;)n=e%r,t=o[n]+t,e=Math.floor(e/r);return o[e]+t},t.base58_to_int=t.decode=function(e){return function(e){if("string"!=typeof e)throw new Error("Value passed is not a string.")}(e),[...e].reverse().reduce((e,t,n)=>(function(e){if(void 0===i[e])throw new Error("Value passed is not a valid Base58 string.")}(t),e+i[t]*Math.pow(r,n)),0)}},function(e,t,n){"use strict";var c={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=m&&m(Object);e.exports=function e(t,n,o){if("string"==typeof n)return t;var r;!y||(r=m(n))&&r!==y&&e(t,r,o);var i=d(n);p&&(i=i.concat(p(n)));for(var s=0;s<i.length;++s){var a=i[s];if(!(c[a]||u[a]||o&&o[a])){var l=h(n,a);try{f(t,a,l)}catch(e){}}}return t}},function(e,t,n){"use strict";function o(e){var t,e=e.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}n.d(t,"a",function(){return o})},function(e,t,n){e.exports=n(103)},function(e,t,n){e.exports=n(110)},function(e,t,n){e.exports=n(114)},function(e,t,n){e.exports=n(118)},function(e,t,n){e.exports=n(151)},function(e,t){e.exports=jQuery},function(e,t,n){e.exports=n(160)},function(e,t,n){"use strict";e.exports=function(e,t,n,o){n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t=t||"&");t=1e3;o&&"number"==typeof o.maxKeys&&(t=o.maxKeys);var s=e.length;0<t&&t<s&&(s=t);for(var a=0;a<s;++a){var l,c=e[a].replace(i,"%20"),u=c.indexOf(n),u=0<=u?(l=c.substr(0,u),c.substr(u+1)):(l=c,""),c=decodeURIComponent(l),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(r,c)?f(r[c])?r[c].push(u):r[c]=[r[c],u]:r[c]=u}return r};var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,o,r,e){return o=o||"&",r=r||"=","object"==typeof(n=null===n?void 0:n)?a(l(n),function(e){var t=encodeURIComponent(i(e))+r;return s(n[e])?a(n[e],function(e){return t+encodeURIComponent(i(e))}).join(o):t+encodeURIComponent(i(n[e]))}).join(o):e?encodeURIComponent(i(e))+r+encodeURIComponent(i(n)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var l=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){e.exports=n.p+"back.52a194163fb3681549b172946f84436c.png"},function(e,t,n){e.exports=n.p+"pageup.fd5ea73be5d8be770fc5e5431c12661f.png"},function(e,t,n){e.exports=n.p+"pagedown.434255e8daf3f7b79efbf1cb88d09985.png"},function(e,t,n){e.exports=n.p+"home.85a36d80de73a37f82758db2c2cd975c.png"},function(e,t,n){e.exports=n.p+"end.fd57fcbed5fcd0dfb8494db3b6f24976.png"},function(e,t,n){e.exports=n.p+"prevous.ca4b96bf81195d07ec2d8c18a5ace712.png"},function(e,t,n){e.exports=n.p+"next.c4a3887c393dc417ee54cd602ae411e4.png"},function(e,t,n){e.exports=n.p+"first.40d3094dc0aa361c8a65cea9699eef27.png"},function(e,t,n){e.exports=n.p+"refresh.caa2dd6caebf2067c24fda79c6310f6c.png"},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){n(104),e.exports=n(7).Object.keys},function(e,t,n){var o=n(29),r=n(30);n(108)("keys",function(){return function(e){return r(o(e))}})},function(e,t,n){var s=n(22),a=n(31),l=n(106)(!1),c=n(47)("IE_PROTO");e.exports=function(e,t){var n,o=a(e),r=0,i=[];for(n in o)n!=c&&s(o,n)&&i.push(n);for(;t.length>r;)s(o,n=t[r++])&&(~l(i,n)||i.push(n));return i}},function(e,t,n){var l=n(31),c=n(62),u=n(107);e.exports=function(a){return function(e,t,n){var o,r=l(e),i=c(r.length),s=u(n,i);if(a&&t!=t){for(;s<i;)if((o=r[s++])!=o)return!0}else for(;s<i;s++)if((a||s in r)&&r[s]===t)return a||s||0;return!a&&-1}}},function(e,t,n){var o=n(46),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var r=n(9),i=n(7),s=n(35);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",o)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){n(111);var o=n(7).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(9);o(o.S,"Object",{create:n(70)})},function(e,t,n){var s=n(33),a=n(24),l=n(30);e.exports=n(14)?Object.defineProperties:function(e,t){a(e);for(var n,o=l(t),r=o.length,i=0;i<r;)s.f(e,n=o[i++],t[n]);return e}},function(e,t,n){n=n(23).document;e.exports=n&&n.documentElement},function(e,t,n){n(115),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){var o=n(9);o(o.S,"Object",{setPrototypeOf:n(116).set})},function(e,t,r){function i(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=r(34),o=r(24);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,o){try{(o=r(48)(Function.call,r(117).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:i}},function(e,t,n){var o=n(49),r=n(36),i=n(31),s=n(69),a=n(22),l=n(67),c=Object.getOwnPropertyDescriptor;t.f=n(14)?c:function(e,t){if(e=i(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){n(119),e.exports=n(7).Object.assign},function(e,t,n){var o=n(9);o(o.S+o.F,"Object",{assign:n(120)})},function(e,t,n){"use strict";var d=n(14),p=n(30),h=n(121),m=n(49),y=n(29),g=n(61),r=Object.assign;e.exports=!r||n(35)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=r({},e)[n]||Object.keys(r({},t)).join("")!=o})?function(e,t){for(var n=y(e),o=arguments.length,r=1,i=h.f,s=m.f;r<o;)for(var a,l=g(arguments[r++]),c=i?p(l).concat(i(l)):p(l),u=c.length,f=0;f<u;)a=c[f++],d&&!s.call(l,a)||(n[a]=l[a]);return n}:r},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(o,r){return function(e){var t=e.currentTarget,n=e.target;(0,s.default)(t,o).some(function(e){return(0,i.default)(e,n)})&&r.call(this,e)}};var i=o(n(11)),s=o(n(123));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n="#"===t[0],o="."===t[0],r=n||o?t.slice(1):t;if(i.test(r))return n?(e=e.getElementById?e:document,(n=e.getElementById(r))?[n]:[]):e.getElementsByClassName&&o?s(e.getElementsByClassName(r)):s(e.getElementsByTagName(t));return s(e.querySelectorAll(t))};var i=/^[\w-]*$/,s=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=o(n(8)),i=o(n(50)),s=o(n(51)),n=function(){},n=n=r.default?function(e,t,n,o){return(0,i.default)(e,t,n,o),function(){(0,s.default)(e,t,n,o)}}:n;t.default=n,e.exports=t.default},function(e,t,n){"use strict";var s=n(126);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,i){if(i!==s){i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=n(128),f=(n=n)&&n.__esModule?n:{default:n};var d={};function o(c,u){return function(e,t,n,o,r){var i;null!=e[t]&&((0,f.default)(d[i=n+"."+t],"The "+o+" `"+(r||t)+"` of `"+(n||"<<anonymous>>")+"` is deprecated. "+u+"."),d[i]=!0);for(var s=arguments.length,a=Array(5<s?s-5:0),l=5;l<s;l++)a[l-5]=arguments[l];return c.apply(void 0,[e,t,n,o,r].concat(a))}}o._resetWarned=function(){d={}},e.exports=t.default},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";e.exports=n(130)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o="function"==typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,y=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,v=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,_=o?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case d:case s:case l:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case y:case c:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=s,t.Lazy=g,t.Memo=y,t.Portal=i,t.Profiler=l,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||x(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===s},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===y},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===l||e===a||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===w||e.$$typeof===_||e.$$typeof===b)},t.typeOf=x},function(e,t,n){"use strict";t.__esModule=!0;var f=o(n(132)),s=o(n(52)),a=o(n(40)),l=o(n(55)),d=n(142);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var u=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.hideSiblingNodes,n=void 0===n||n,t=t.handleContainerOverflow,t=void 0===t||t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,t,n){var o=u.modals.indexOf(e),r=u.containers.indexOf(t);if(-1!==o)return o;if(o=u.modals.length,u.modals.push(e),u.hideSiblingNodes&&(0,d.hideSiblings)(t,e.modalNode),-1!==r)return u.data[r].modals.push(e),o;var i={modals:[e],classes:n?n.split(/\s+/):[],overflowing:(0,l.default)(t)};return u.handleContainerOverflow&&(r=t,e={overflow:"hidden"},(n=i).style={overflow:r.style.overflow,paddingRight:r.style.paddingRight},n.overflowing&&(e.paddingRight=parseInt((0,s.default)(r,"paddingRight")||0,10)+(0,a.default)()+"px"),(0,s.default)(r,e)),i.classes.forEach(f.default.addClass.bind(null,t)),u.containers.push(t),u.data.push(i),o},this.remove=function(e){var t,n,o,r,i,s,a,l,c=u.modals.indexOf(e);-1!==c&&(s=u.data,n=e,o=function(e){return-1!==e.modals.indexOf(n)},r=-1,s.some(function(e,t){if(o(e,t))return r=t,!0}),t=r,i=u.data[t],s=u.containers[t],i.modals.splice(i.modals.indexOf(e),1),u.modals.splice(c,1),0===i.modals.length?(i.classes.forEach(f.default.removeClass.bind(null,s)),u.handleContainerOverflow&&(a=s,l=i.style,Object.keys(l).forEach(function(e){return a.style[e]=l[e]})),u.hideSiblingNodes&&(0,d.showSiblings)(s,e.modalNode),u.containers.splice(t,1),u.data.splice(t,1)):u.hideSiblingNodes&&(0,d.ariaHidden)(!1,i.modals[i.modals.length-1].modalNode))},this.isTopModal=function(e){return!!u.modals.length&&u.modals[u.modals.length-1]===e},this.hideSiblingNodes=n,this.handleContainerOverflow=t,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=o(n(133));t.addClass=r.default;var i=o(n(134));t.removeClass=i.default;n=o(n(71));t.hasClass=n.default;n={addClass:r.default,removeClass:i.default,hasClass:n.default};t.default=n},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=o(n(71));e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,function(e,t){return t.toUpperCase()})};var o=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){return(0,r.default)(e).replace(i,"-ms-")};var r=o(n(137)),i=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,"-$1").toLowerCase()};var o=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(s){if(!s)throw new TypeError("No Element passed to `getComputedStyle()`");var e=s.ownerDocument;return"defaultView"in e?(e.defaultView.opener?s.ownerDocument.defaultView:window).getComputedStyle(s,null):{getPropertyValue:function(e){var t=s.style;e=(0,a.default)(e);var n,o,r,i=s.currentStyle[e="float"==e?"styleFloat":e]||null;return null==i&&t&&t[e]&&(i=t[e]),c.test(i)&&!l.test(e)&&(n=t.left,(r=(o=s.runtimeStyle)&&o.left)&&(o.left=s.currentStyle.left),t.left="fontSize"===e?"1em":i,i=t.pixelLeft+"px",t.left=n,r&&(o.left=r)),i}}};var a=o(n(72)),l=/^(top|right|bottom|left)$/,c=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,i,s,a,l,c=o(n(8)),o="transform";t.transform=o,t.animationEnd=void 0,t.transitionEnd=r,t.transitionDelay=l,t.transitionTiming=a,t.transitionDuration=s,t.transitionProperty=i,t.animationDelay=void 0,t.animationTiming=void 0,t.animationDuration=void 0,t.animationName=void 0,c.default&&(c=(n=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(o),i="",s=0;s<r.length;s++){var a=r[s];if(a+"TransitionProperty"in n){i="-"+a.toLowerCase(),e=o[a]("TransitionEnd"),t=o[a]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}()).prefix,t.transitionEnd=r=n.transitionEnd,t.animationEnd=n.animationEnd,t.transform=o=c+"-"+o,t.transitionProperty=i=c+"-transition-property",t.transitionDuration=s=c+"-transition-duration",t.transitionDelay=l=c+"-transition-delay",t.transitionTiming=a=c+"-transition-timing-function",t.animationName=c+"-animation-name",t.animationDuration=c+"-animation-duration",t.animationTiming=c+"-animation-delay",t.animationDelay=c+"-animation-timing-function"),t.default={transform:o,end:r,property:i,timing:a,delay:l,duration:s}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!o.test(e))};var o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=r,t.hideSiblings=function(e,t){o(e,t,function(e){return r(!0,e)})},t.showSiblings=function(e,t){o(e,t,function(e){return r(!1,e)})};var i=["template","script","style"],o=function(e,o,r){o=[].concat(o),[].forEach.call(e.children,function(e){var t,n;-1===o.indexOf(e)&&(n=(t=e).nodeType,t=e.tagName,1===n&&-1===i.indexOf(t.toLowerCase()))&&r(e)})};function r(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(1)),r=c(n(37)),i=c(n(0)),s=c(n(4)),a=c(n(39)),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,f=i.default.Component),d.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},d.prototype.componentDidUpdate=function(){this._renderOverlay()},d.prototype.UNSAFE_componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,a.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},d.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},d.prototype.render=function(){return null},d);function d(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n=u(this,f.call.apply(f,[this].concat(o))))._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,a.default)(n.props.container,(0,l.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var e,t=n.props.children?i.default.Children.only(n.props.children):null;null!==t?(n._mountOverlayTarget(),e=!n._overlayInstance,n._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(n,t,n._overlayTarget,function(){e&&n.props.onRendered&&n.props.onRendered()})):(n._unrenderOverlay(),n._unmountOverlayTarget())},n._unrenderOverlay=function(){n._overlayTarget&&(s.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},u(n,e)}n.displayName="Portal",n.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(1)),n=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i,o={children:o.default.node},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i=n.default.Component),s.prototype.render=function(){return this.props.children},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.apply(this,arguments))}n.propTypes=o,t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;n=t?(document.attachEvent("onfocusin",e),function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){n(147),e.exports=n(7).Object.entries},function(e,t,n){var o=n(9),r=n(75)(!0);o(o.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;(n=n(1))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){n(150),e.exports=n(7).Object.values},function(e,t,n){var o=n(9),r=n(75)(!1);o(o.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){n(152),e.exports=n(7).Array.isArray},function(e,t,n){var o=n(9);o(o.S,"Array",{isArray:n(153)})},function(e,t,n){var o=n(45);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){"use strict";t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=p(n(2)),o=p(n(1)),r=p(n(37)),l=n(0),c=p(l),i=p(n(4)),u=p(n(155)),f=p(n(39)),d=p(n(17));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,o={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}var m,n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,m=c.default.Component),y.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},y.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},y.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},y.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=h(e,["children","className"]),r=this.state,i=r.positionLeft,e=r.positionTop,r=h(r,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;t=c.default.Children.only(t);return(0,l.cloneElement)(t,s({},o,r,{positionLeft:i,positionTop:e,className:(0,a.default)(n,t.props.className),style:s({},t.props.style,{left:i,top:e})}))},y.prototype.updatePosition=function(e){var t,n;(this._lastTarget=e)?(t=i.default.findDOMNode(this),n=(0,f.default)(this.props.container,(0,d.default)(this).body),this.setState((0,u.default)(this.props.placement,t,e,n,this.props.containerPadding))):this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},y);function y(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,m.call(this,e,t));return n.getTarget=function(){var e=n.props.target,e="function"==typeof e?e():e;return e&&i.default.findDOMNode(e)||null},n.maybeUpdatePosition=function(e){var t=n.getTarget();(n.props.shouldUpdatePosition||t!==n._lastTarget||e)&&n.updatePosition(t)},n.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},n._needsFlush=!1,n._lastTarget=null,n}n.propTypes={target:o.default.oneOfType([r.default,o.default.func]),container:o.default.oneOfType([r.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},n.displayName="Position",n.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,r){var i="BODY"===o.tagName?(0,f.default)(n):(0,d.default)(n,o),s=(0,f.default)(t),a=s.height,l=s.width,c=void 0,u=void 0,n=void 0,t=void 0;if("left"===e||"right"===e){u=i.top+(i.height-a)/2,c="left"===e?i.left-l:i.left+i.width;s=function(e,t,n,o){var r=p(n),i=r.scroll,n=r.height,r=e-o-i,t=e+o-i+t;return r<0?-r:n<t?n-t:0}(u,a,o,r);u+=s,t=50*(1-2*s/a)+"%",n=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');c=i.left+(i.width-l)/2,u="top"===e?i.top-a:i.top+i.height;r=function(e,t,n,o){var r=p(n).width,n=e-o,t=e+o+t;{if(n<0)return-n;if(r<t)return r-t}return 0}(c,l,o,r);c+=r,n=50*(1-2*r/l)+"%",t=void 0}return{positionLeft:c,positionTop:u,arrowOffsetLeft:n,arrowOffsetTop:t}};var f=o(n(76)),d=o(n(156)),i=o(n(77)),s=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}function p(e){var t,n=void 0,o=void 0,r=void 0;return r="BODY"===e.tagName?(n=window.innerWidth,o=window.innerHeight,(0,i.default)((0,s.default)(e).documentElement)||(0,i.default)(e)):(n=(t=(0,f.default)(e)).width,o=t.height,(0,i.default)(e)),{width:n,height:o,scroll:r}}e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e,t){var n,o={top:0,left:0};"fixed"===(0,c.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,s.default)(e),n=(0,i.default)(e),(o="html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)?(0,i.default)(t):o).top+=parseInt((0,c.default)(t,"borderTopWidth"),10)-(0,a.default)(t)||0,o.left+=parseInt((0,c.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,r.default)({},n,{top:n.top-o.top-(parseInt((0,c.default)(e,"marginTop"),10)||0),left:n.left-o.left-(parseInt((0,c.default)(e,"marginLeft"),10)||0)})};var r=o(n(157)),i=o(n(76)),s=o(n(158)),a=o(n(77)),l=o(n(159)),c=o(n(52));e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e){var t=(0,r.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(e)&&"static"===(0,i.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var r=o(n(16)),i=o(n(52));e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var r=o(n(38));e.exports=t.default},function(e,t,n){n(161),n(167),e.exports=n(7).Array.from},function(e,t,n){"use strict";var o=n(162)(!0);n(163)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=o(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,n){var s=n(46),a=n(44);e.exports=function(i){return function(e,t){var n,o=String(a(e)),r=s(t),e=o.length;return r<0||e<=r?i?"":void 0:(t=o.charCodeAt(r))<55296||56319<t||r+1===e||(n=o.charCodeAt(r+1))<56320||57343<n?i?o.charAt(r):t:i?o.slice(r,r+2):n-56320+(t-55296<<10)+65536}}},function(e,t,n){"use strict";function b(){return this}var v=n(64),w=n(9),_=n(164),x=n(32),E=n(53),C=n(165),S=n(78),k=n(166),O=n(15)("iterator"),T=!([].keys&&"next"in[].keys()),P="values";e.exports=function(e,t,n,o,r,i,s){C(n,t,o);function a(e){if(!T&&e in h)return h[e];switch(e){case"keys":case P:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var l,c,u,f=t+" Iterator",d=r==P,p=!1,h=e.prototype,m=h[O]||h["@@iterator"]||r&&h[r],y=m||a(r),g=r?d?a("entries"):y:void 0,o="Array"==t&&h.entries||m;if(o&&(u=k(o.call(new e)))!==Object.prototype&&u.next&&(S(u,f,!0),v||"function"==typeof u[O]||x(u,O,b)),d&&m&&m.name!==P&&(p=!0,y=function(){return m.call(this)}),v&&!s||!T&&!p&&h[O]||x(h,O,y),E[t]=y,E[f]=b,r)if(l={values:d?y:a(P),keys:i?y:a("keys"),entries:g},s)for(c in l)c in h||_(h,c,l[c]);else w(w.P+w.F*(T||p),t,l);return l}},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var o=n(70),r=n(36),i=n(78),s={};n(32)(s,n(15)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var o=n(22),r=n(29),i=n(47)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var f=n(48),o=n(9),d=n(29),p=n(168),h=n(169),m=n(62),y=n(170),g=n(171);o(o.S+o.F*!n(173)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,r,i=d(e),s="function"==typeof this?this:Array,a=arguments.length,l=1<a?arguments[1]:void 0,c=void 0!==l,u=0,e=g(i);if(c&&(l=f(l,2<a?arguments[2]:void 0,2)),null==e||s==Array&&h(e))for(n=new s(t=m(i.length));u<t;u++)y(n,u,c?l(i[u],u):i[u]);else for(r=e.call(i),n=new s;!(o=r.next()).done;u++)y(n,u,c?p(r,l,[o.value,u],!0):o.value);return n.length=u,n}})},function(e,t,n){var r=n(24);e.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&r(n.call(t)),e}}},function(e,t,n){var o=n(53),r=n(15)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},function(e,t,n){"use strict";var o=n(33),r=n(36);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var o=n(172),r=n(15)("iterator"),i=n(53);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},function(e,t,n){var o=n(45),r=n(15)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?e:i?o(t):"Object"==(e=o(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,n){var i=n(15)("iterator"),s=!1;try{var o=[7][i]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:n=!0}},o[i]=function(){return r},e(o)}catch(e){}return n}},function(e,t,n){e.exports=n.p+"b2u_table.932252b52e06db03f45c541637a521db.bin"},function(e,t,n){e.exports=n.p+"u2b_table.72de16ec54ed44cbac9c04e680ba3a73.bin"},function(e,t,o){"use strict";function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};for(var n,o={},r=Object.keys(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}function r(e){return e&&e.ownerDocument||document}function Q(t){void 0===t&&(t=r());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Z(e,t){return e.contains?e.contains(t):e.compareDocumentPosition&&(e===t||16&e.compareDocumentPosition(t))}o.r(t);var J=!("undefined"==typeof window||!window.document||!window.document.createElement),a=!1,l=!1;try{var n={get passive(){return a=!0},get once(){return l=a=!0}};J&&(window.addEventListener("test",n,n),window.removeEventListener("test",n,!0))}catch(e){}var i=function(e,n,o,t){var r,i,s;t&&"boolean"!=typeof t&&!l&&(r=t.once,i=t.capture,s=o,!l&&r&&(s=o.__once||function e(t){this.removeEventListener(n,e,i),o.call(this,t)},o.__once=s),e.addEventListener(n,s,a?t:i)),e.addEventListener(n,o,t)};var s=function(e,t,n,o){o=o&&"boolean"!=typeof o?o.capture:o,e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var ee=function(e,t,n,o){return i(e,t,n,o),function(){s(e,t,n,o)}},c=o(1),u=o.n(c),te=o(0),ne=o.n(te),f=o(4),oe=o.n(f);function re(e){var t,n=(t=e,(e=Object(te.useRef)(t)).current=t,e);Object(te.useEffect)(function(){return function(){return n.current()}},[])}var d=function(e){var t=Object(te.useRef)(e);return Object(te.useEffect)(function(){t.current=e},[e]),t};function ie(e){var t=d(e);return Object(te.useCallback)(function(){return t.current&&t.current.apply(t,arguments)},[t])}function p(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function h(e,t){return((n=r(n=e))&&n.defaultView||window).getComputedStyle(e,t);var n}var m=/([A-Z])/g;var y=/^ms-/;function g(e){return e.replace(m,"-$1").toLowerCase().replace(y,"-ms-")}var b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var v,w=function(o,r){var i="",s="";if("string"==typeof r)return o.style.getPropertyValue(g(r))||h(o).getPropertyValue(g(r));Object.keys(r).forEach(function(e){var t,n=r[e];n||0===n?(t=e)&&b.test(t)?s+=e+"("+n+") ":i+=g(e)+": "+n+";":o.style.removeProperty(g(e))}),s&&(i+="transform: "+s+";"),o.style.cssText+=";"+i};function _(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function x(e){var t,n;return _(e)||(n=e)&&"body"===n.tagName.toLowerCase()?(n=_(t=e)?r():r(t),t=_(t)||n.defaultView,n.body.clientWidth<t.innerWidth):e.scrollHeight>e.clientHeight}function E(e,t,n){[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&S(e)&&n(e)})}var C=["template","script","style"],S=function(e){var t=e.nodeType,e=e.tagName;return 1===t&&-1===C.indexOf(e.toLowerCase())};function k(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function se(e){return"undefined"==typeof document?null:null==e?r().body:null!=(e=(e="function"==typeof e?e():e)&&"current"in e?e.current:e)&&e.nodeType&&e||null}var O,T=function(){function e(e){var t,n=void 0===e?{}:e,e=n.hideSiblingNodes,e=void 0===e||e,n=n.handleContainerOverflow,n=void 0===n||n;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=e,this.handleContainerOverflow=n,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=((!v&&0!==v||t)&&J&&((t=document.createElement("div")).style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),v=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),v)}var t=e.prototype;return t.isContainerOverflowing=function(e){e=this.data[this.containerIndexFromModal(e)];return e&&e.overflowing},t.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},o=-1,e.some(function(e,t){return!!n(e,t)&&(o=t,!0)}),o;var e,n,o},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(w(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),w(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var o,r,i=this.modals.indexOf(e),s=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&(r=(o=e).dialog,o=e.backdrop,E(t,[r,o],function(e){return k(!0,e),0})),-1!==s)return this.data[s].modals.push(e),i;n={modals:[e],classes:n?n.split(/\s+/):[],overflowing:x(t)};return this.handleContainerOverflow&&this.setContainerStyle(n,t),n.classes.forEach(function(e,t){var n,o;e.classList?e.classList.add(t):(o=t,((n=e).classList?o&&n.classList.contains(o):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+o+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t)))}.bind(null,t)),this.containers.push(t),this.data.push(n),i},t.remove=function(e){var t,n,o,r,i=this.modals.indexOf(e);-1!==i&&(n=this.containerIndexFromModal(e),o=this.data[n],t=this.containers[n],o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),0===o.modals.length?(o.classes.forEach(function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=p(e.className,t):e.setAttribute("class",p(e.className&&e.className.baseVal||"",t))}.bind(null,t)),this.handleContainerOverflow&&this.removeContainerStyle(o,t),this.hideSiblingNodes&&(i=(r=e).dialog,r=e.backdrop,E(t,[i,r],function(e){return k(!1,e),0})),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&(o=(n=o.modals[o.modals.length-1]).backdrop,k(!1,n.dialog),k(!1,o)))},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();function ae(e){var n=e||(O=O||new T),o=Object(te.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(e,t){return n.add(o.current,e,t)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:Object(te.useCallback)(function(e){o.current.dialog=e},[]),setBackdropRef:Object(te.useCallback)(function(e){o.current.backdrop=e},[])})}var P=Object(te.forwardRef)(function(e,t){var n,o,r,i,s,a,l,c=e.show,u=void 0!==c&&c,f=e.role,d=void 0===f?"dialog":f,p=e.className,h=e.style,m=e.children,y=e.backdrop,g=void 0===y||y,b=e.keyboard,v=void 0===b||b,w=e.onBackdropClick,_=e.onEscapeKeyDown,x=e.transition,E=e.backdropTransition,C=e.autoFocus,S=void 0===C||C,k=e.enforceFocus,O=void 0===k||k,T=e.restoreFocus,P=void 0===T||T,M=e.restoreFocusOptions,R=e.renderDialog,N=e.renderBackdrop,c=void 0===N?function(e){return ne.a.createElement("div",e)}:N,f=e.manager,y=e.container,D=e.containerClassName,L=e.onShow,b=e.onHide,A=void 0===b?function(){}:b,C=e.onExit,B=e.onExited,k=e.onExiting,T=e.onEnter,N=e.onEntering,b=e.onEntered,e=V(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),F=(n=y,y=Object(te.useState)(function(){return se(n)}),r=y[0],i=y[1],r||(y=se(n))&&i(y),Object(te.useEffect)(function(){o&&r&&o(r)},[o,r]),Object(te.useEffect)(function(){var e=se(n);e!==r&&i(e)},[n,r]),r),I=ae(f),H=(s=Object(te.useRef)(!0),y=Object(te.useRef)(function(){return s.current}),Object(te.useEffect)(function(){return function(){s.current=!1}},[]),y.current),f=(a=u,l=Object(te.useRef)(null),Object(te.useEffect)(function(){l.current=a}),l.current),y=Object(te.useState)(!u),j=y[0],U=y[1],W=Object(te.useRef)(null);Object(te.useImperativeHandle)(t,function(){return I},[I]),J&&!f&&u&&(W.current=Q()),x||u||j?u&&j&&U(!1):U(!0);var K=ie(function(){var e;I.add(F,D),X.current=ee(document,"keydown",q),G.current=ee(document,"focus",function(){return setTimeout($)},!0),L&&L(),S&&(e=Q(document),I.dialog&&e&&!Z(I.dialog,e)&&(W.current=e,I.dialog.focus()))}),z=ie(function(){var e;I.remove(),null!=X.current&&X.current(),null!=G.current&&G.current(),P&&(null==(e=W.current)||null!=e.focus&&e.focus(M),W.current=null)});Object(te.useEffect)(function(){u&&F&&K()},[u,F,K]),Object(te.useEffect)(function(){j&&z()},[j,z]),re(function(){z()});var $=ie(function(){var e;O&&H()&&I.isTopModal()&&(e=Q(),I.dialog&&e&&!Z(I.dialog,e)&&I.dialog.focus())}),f=ie(function(e){e.target===e.currentTarget&&(null!=w&&w(e),!0===g&&A())}),q=ie(function(e){v&&27===e.keyCode&&I.isTopModal()&&(null!=_&&_(e),e.defaultPrevented||A())}),G=Object(te.useRef)(),X=Object(te.useRef)(),x=x;if(!F||!(u||x&&!j))return null;p=Y({role:d,ref:I.setDialogRef,"aria-modal":"dialog"===d||void 0},e,{style:h,className:p,tabIndex:-1}),m=R?R(p):ne.a.createElement("div",p,ne.a.cloneElement(m,{role:"document"}));x&&(m=ne.a.createElement(x,{appear:!0,unmountOnExit:!0,in:!!u,onExit:C,onExiting:k,onExited:function(){U(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null!=B&&B.apply(void 0,t)},onEnter:T,onEntering:N,onEntered:b},m));b=null;return g&&(E=E,b=c({ref:I.setBackdropRef,onClick:f}),E&&(b=ne.a.createElement(E,{appear:!0,in:!!u},b))),ne.a.createElement(ne.a.Fragment,null,oe.a.createPortal(ne.a.createElement(ne.a.Fragment,null,b,m),F))}),M={show:u.a.bool,container:u.a.any,onShow:u.a.func,onHide:u.a.func,backdrop:u.a.oneOfType([u.a.bool,u.a.oneOf(["static"])]),renderDialog:u.a.func,renderBackdrop:u.a.func,onEscapeKeyDown:u.a.func,onBackdropClick:u.a.func,containerClassName:u.a.string,keyboard:u.a.bool,transition:u.a.elementType,backdropTransition:u.a.elementType,autoFocus:u.a.bool,enforceFocus:u.a.bool,restoreFocus:u.a.bool,restoreFocusOptions:u.a.shape({preventScroll:u.a.bool}),onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func,manager:u.a.instanceOf(T)};P.displayName="Modal",P.propTypes=M;var R=Object.assign(P,{Manager:T}),N=o(86),D=o.n(N);function L(){return(L=D.a||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var A=o(83),B=o.n(A);function F(e,t){if(null==e)return{};for(var n,o={},r=B()(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}var I=o(84),H=o.n(I),j=o(85),U=o.n(j);function W(e,t){return(W=U.a||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t){e.prototype=H()(t.prototype),W(e.prototype.constructor=e,t)}var z=o(2),q=o.n(z),G=o(43),X=o.n(G),le={in:u.a.bool,mountOnEnter:u.a.bool,unmountOnExit:u.a.bool,appear:u.a.bool,timeout:u.a.number,onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func},ce=((Oe={})[G.ENTERING]="in",Oe[G.ENTERED]="in",Oe),ue=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,n=e.className,o=e.children,e=F(e,["className","children"]);return ne.a.createElement(X.a,e,function(e,t){return ne.a.cloneElement(o,L({},t,{className:q()("fade",n,o.props.className,ce[e])}))})},t}(ne.a.Component);ue.propTypes=le,ue.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};var fe=ue;function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pe=o(58),he=o.n(pe),me=o(16),ye=o.n(me),ge=o(8),be=o.n(ge),ve=o(40),we=o.n(ve),t=o(21),_e=o.n(t),n=o(55),xe=o.n(n),c=o(3),f=o.n(c),M=o(27),Ee=o.n(M),P=o(25),Ce=o.n(P),N="large",A="small",I="xsmall",Se={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},ke=["lg","md","sm","xs"],j={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},z="default",G="primary",Oe="link";function Te(o){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"==typeof t[t.length-1]?o.apply(void 0,t):function(e){return o.apply(void 0,t.concat([e]))}}}function Pe(e,t){e=(e.bsClass||"").trim();return null==e&&Ce()(!1),e+(t?"-"+t:"")}le=Te(function(e,t){var n=t.propTypes||(t.propTypes={}),o=t.defaultProps||(t.defaultProps={});return n.bsClass=u.a.string,o.bsClass=e,t}),ue=Te(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var o=n.STYLES||[],r=n.propTypes||{};e.forEach(function(e){-1===o.indexOf(e)&&o.push(e)});e=u.a.oneOf(o);return n.STYLES=o,e._values=o,n.propTypes=L({},r,{bsStyle:e}),void 0!==t&&((n.defaultProps||(n.defaultProps={})).bsStyle=t),n}),pe=Te(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var o=n.SIZES||[],r=n.propTypes||{};e.forEach(function(e){-1===o.indexOf(e)&&o.push(e)});var i=[];o.forEach(function(e){var t=Se[e];t&&t!==e&&i.push(t),i.push(e)});e=u.a.oneOf(i);return e._values=i,n.SIZES=o,n.propTypes=L({},r,{bsSize:e}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});function Me(e){var t=((t={})[Pe(e)]=!0,t);return e.bsSize&&(t[Pe(e,Se[e.bsSize]||e.bsSize)]=!0),e.bsStyle&&(t[Pe(e,e.bsStyle)]=!0),t}function Re(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function Ne(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function De(e){var n={};return Ee()(e).forEach(function(e){var t=e[0],e=e[1];Ne(t)||(n[t]=e)}),[Re(e),n]}function Le(e,t){var n={};t.forEach(function(e){n[e]=!0});var o={};return Ee()(e).forEach(function(e){var t=e[0],e=e[1];Ne(t)||n[t]||(o[t]=e)}),[Re(e),o]}me={componentClass:f.a},ge=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=De(F(e,["componentClass","className"])),e=o[0],o=o[1],e=Me(e);return ne.a.createElement(t,L({},o,{className:q()(n,e)}))},t}(ne.a.Component);ge.propTypes=me,ge.defaultProps={componentClass:"div"};ve=le("modal-body",ge),t={dialogClassName:u.a.string},n=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.dialogClassName,n=e.className,o=e.style,r=e.children,i=e.onMouseDownDialog,s=De(F(e,["dialogClassName","className","style","children","onMouseDownDialog"])),a=s[0],l=s[1],e=Pe(a),s=L({display:"block"},o),o=L({},Me(a),((o={})[e]=!1,o[Pe(a,"dialog")]=!0,o));return ne.a.createElement("div",L({},l,{tabIndex:"-1",role:"dialog",style:s,className:q()(n,e)}),ne.a.createElement("div",{className:q()(t,o),onMouseDown:i},ne.a.createElement("div",{className:Pe(a,"content"),role:"document"},r)))},t}(ne.a.Component);n.propTypes=t;c=le("modal",pe([N,A],n)),M={componentClass:f.a},P=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=De(F(e,["componentClass","className"])),e=o[0],o=o[1],e=Me(e);return ne.a.createElement(t,L({},o,{className:q()(n,e)}))},t}(ne.a.Component);P.propTypes=M,P.defaultProps={componentClass:"div"};me=le("modal-footer",P);var Ae=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(o,r){if("function"!=typeof r)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===o?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.apply(this,t),r.apply(this,t)}},null)},ge={label:u.a.string.isRequired,onClick:u.a.func},t=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.label,e=e.onClick;return ne.a.createElement("button",{type:"button",className:"close",onClick:e},ne.a.createElement("span",{"aria-hidden":"true"},"×"),ne.a.createElement("span",{className:"sr-only"},t))},t}(ne.a.Component);t.propTypes=ge,t.defaultProps={label:"Close"};var Be=t,n={closeLabel:u.a.string,closeButton:u.a.bool,onHide:u.a.func},M={$bs_modal:u.a.shape({onHide:u.a.func})},P=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,o=e.onHide,r=e.className,i=e.children,s=F(e,["closeLabel","closeButton","onHide","className","children"]),a=this.context.$bs_modal,e=De(s),s=e[0],e=e[1],s=Me(s);return ne.a.createElement("div",L({},e,{className:q()(r,s)}),n&&ne.a.createElement(Be,{label:t,onClick:Ae(a&&a.onHide,o)}),i)},t}(ne.a.Component);P.propTypes=n,P.defaultProps={closeLabel:"Close",closeButton:!1},P.contextTypes=M;ge=le("modal-header",P),t={componentClass:f.a},n=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=De(F(e,["componentClass","className"])),e=o[0],o=o[1],e=Me(e);return ne.a.createElement(t,L({},o,{className:q()(n,e)}))},t}(ne.a.Component);n.propTypes=t,n.defaultProps={componentClass:"h4"};M=le("modal-title",n);function Fe(e,t){var n=t.propTypes,o={},r={};return Ee()(e).forEach(function(e){var t=e[0],e=e[1];n[t]?o[t]=e:r[t]=e}),[o,r]}P=L({},_e.a.propTypes,c.propTypes,{backdrop:u.a.oneOf(["static",!0,!1]),backdropClassName:u.a.string,keyboard:u.a.bool,animation:u.a.bool,dialogComponentClass:f.a,autoFocus:u.a.bool,enforceFocus:u.a.bool,restoreFocus:u.a.bool,show:u.a.bool,onHide:u.a.func,onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func,container:_e.a.propTypes.container}),t=L({},_e.a.defaultProps,{animation:!0,dialogComponentClass:c}),n={$bs_modal:u.a.shape({onHide:u.a.func})};function Ie(e){return ne.a.createElement(fe,L({},e,{timeout:je.TRANSITION_DURATION}))}function He(e){return ne.a.createElement(fe,L({},e,{timeout:je.BACKDROP_TRANSITION_DURATION}))}var je=function(o){function e(e,t){var n=o.call(this,e,t)||this;return n.handleDialogBackdropMouseDown=function(){n._waitingForMouseUp=!0},n.handleMouseUp=function(e){var t=n._modal.getDialogElement();n._waitingForMouseUp&&e.target===t&&(n._ignoreBackdropClick=!0),n._waitingForMouseUp=!1},n.handleEntering=n.handleEntering.bind(de(de(n))),n.handleExited=n.handleExited.bind(de(de(n))),n.handleWindowResize=n.handleWindowResize.bind(de(de(n))),n.handleDialogClick=n.handleDialogClick.bind(de(de(n))),n.setModalRef=n.setModalRef.bind(de(de(n))),n.state={style:{}},n}K(e,o);var t=e.prototype;return t.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.componentWillUnmount=function(){this.handleExited()},t.setModalRef=function(e){this._modal=e},t.handleDialogClick=function(e){this._ignoreBackdropClick||e.target!==e.currentTarget?this._ignoreBackdropClick=!1:this.props.onHide()},t.handleEntering=function(){he.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.handleExited=function(){he.a.off(window,"resize",this.handleWindowResize)},t.handleWindowResize=function(){this.updateStyle()},t.updateStyle=function(){var e,t,n;be.a&&(e=(t=this._modal.getDialogElement()).scrollHeight,n=ye()(t),t=xe()(oe.a.findDOMNode(this.props.container||n.body)),n=e>n.documentElement.clientHeight,this.setState({style:{paddingRight:t&&!n?we()():void 0,paddingLeft:!t&&n?we()():void 0}}))},t.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,o=e.animation,r=e.show,i=e.dialogComponentClass,s=e.className,a=e.style,l=e.children,c=e.onEntering,u=e.onExited,f=F(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),d=Fe(f,_e.a),p=d[0],e=d[1],d=r&&!o&&"in";return ne.a.createElement(_e.a,L({},p,{ref:this.setModalRef,show:r,containerClassName:Pe(f,"open"),transition:o?Ie:void 0,backdrop:t,backdropTransition:o?He:void 0,backdropClassName:q()(Pe(f,"backdrop"),n,d),onEntering:Ae(c,this.handleEntering),onExited:Ae(u,this.handleExited),onMouseUp:this.handleMouseUp}),ne.a.createElement(i,L({},e,{style:L({},this.state.style,a),className:q()(s,d),onClick:!0===t?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),l))},e}(ne.a.Component);je.propTypes=P,je.defaultProps=t,je.childContextTypes=n,je.Body=ve,je.Header=ge,je.Title=M,je.Footer=me,je.Dialog=c,je.TRANSITION_DURATION=300,je.BACKDROP_TRANSITION_DURATION=150;var Ue=le("modal",pe([N,A],je));function We(e){this.termbuf=e,this.state=We.STATE_TEXT,this.esc=""}function Ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}We.STATE_TEXT=0,We.STATE_ESC=1,We.STATE_CSI=2,We.STATE_C1=3,We.prototype.feed=function(e){var t=this.termbuf;if(t){for(var n="",o=e.length,r=0;r<o;++r){var i=e[r];switch(this.state){case We.STATE_TEXT:""===i?(n&&(t.puts(n),n=""),this.state=We.STATE_ESC):n+=i;break;case We.STATE_CSI:if("`"<=i&&i<="z"||"@"<=i&&i<="Z"){var s=this.esc.split(";"),a="";if(s[0]&&(s[0].charAt(0)<"0"||"9"<s[0].charAt(0))&&(a=s[0].charAt(0),s[0]=s[0].slice(1)),a&&"h"!=i&&"l"!=i){this.state=We.STATE_TEXT,this.esc="";break}for(var l=0;l<s.length;++l)s[l]?s[l]=parseInt(s[l],10):s[l]=0;switch(i){case"m":t.assignParamsToAttrs(s);break;case"@":t.insert(0<s[0]?s[0]:1);break;case"A":t.gotoPos(t.cur_x,t.cur_y-(s[0]||1));break;case"B":case"e":t.gotoPos(t.cur_x,t.cur_y+(s[0]||1));break;case"C":case"e":t.gotoPos(t.cur_x+(s[0]||1),t.cur_y);break;case"D":t.gotoPos(t.cur_x-(s[0]||1),t.cur_y);break;case"E":t.gotoPos(0,t.cur_y+(s[0]||1));break;case"F":t.gotoPos(0,t.cur_y-(s[0]||1));break;case"G":case"`":t.gotoPos(0<s[0]?s[0]-1:0,t.cur_y);break;case"I":t.tab(0<s[0]?s[0]:1);break;case"d":t.gotoPos(t.cur_x,0<s[0]?s[0]-1:0);break;case"J":t.clear(s?s[0]:0);break;case"H":case"f":s.length<2?t.gotoPos(0,0):(0<s[0]&&--s[0],0<s[1]&&--s[1],t.gotoPos(s[1],s[0]));break;case"K":t.eraseLine(s?s[0]:0);break;case"L":t.insertLine(0<s[0]?s[0]:1);break;case"M":t.deleteLine(0<s[0]?s[0]:1);break;case"P":t.del(0<s[0]?s[0]:1);break;case"r":s.length<2?(t.scrollStart=0,t.scrollEnd=t.rows-1):(0<s[0]&&--s[0],0<s[1]&&--s[1],t.scrollStart=s[0],t.scrollEnd=s[1]);break;case"s":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"u":if(t.cur_x_sav<0||t.cur_y_sav<0)break;t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav;break;case"S":t.scroll(!1,0<s[0]?s[0]:1);break;case"T":t.scroll(!0,0<s[0]?s[0]:1);break;case"X":t.eraseChar(0<s[0]?s[0]:1);break;case"Z":t.backTab(0<s[0]?s[0]:1)}this.state=We.STATE_TEXT,this.esc=""}else this.esc+=i;break;case We.STATE_C1:var c=!0,u=[" ","#","%","(",")","*","+","-",".","/"];if(this.esc){for(l=0;l<u.length;++l)this.esc==u[l]&&(c=!1);c?--r:this.esc+=i,this.esc="",this.state=We.STATE_TEXT;break}switch(i){case"7":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"8":if(t.cur_x_sav<0||t.cur_y_sav<0)break;t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav;break;case"D":t.scroll(!1,1);break;case"E":t.lineFeed(),t.carriageReturn();break;case"M":t.scroll(!0,1);break;default:this.esc+=i,c=!1}if(!c)break;this.esc="",this.state=We.STATE_TEXT;break;case We.STATE_ESC:"["==i?this.state=We.STATE_CSI:(this.state=We.STATE_C1,--r)}}n&&t.puts(n)}};for(var ze={Backspace:"\b",Tab:"\t",Enter:"\r",Escape:"",Home:"[1~",Insert:"[2~",Delete:"[3~",End:"[4~",PageUp:"[5~",PageDown:"[6~",ArrowUp:"[A",ArrowDown:"[B",ArrowRight:"[C",ArrowLeft:"[D",Up:"[A",Down:"[B",Right:"[C",Left:"[D"},$e={"@":50,"^":54,_:109,"?":127,"[":219,"\\":220,"]":221},qe=97;qe<=122;qe++)$e[String.fromCharCode(qe)]=qe-96;var Ge=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._checkLeftDB=e,this._checkCurDB=t,this._sendFunc=n}var e,t,n;return e=o,(t=[{key:"_send",value:function(e){return this._sendFunc(e),!0}},{key:"_sendCharCode",value:function(e){return this._send(String.fromCharCode(e))}},{key:"_checkDB",value:function(e){switch(e){case"Backspace":case"ArrowLeft":return this._checkLeftDB();case"Delete":case"ArrowRight":return this._checkCurDB()}return!1}},{key:"onKeyDown",value:function(e){this._onKeyDown(e)&&e.preventDefault()}},{key:"_onKeyDown",value:function(e){if(e.getModifierState("Meta"))return!1;if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey){if(!e.ctrlKey&&e.altKey&&!e.shiftKey)switch(e.key.toLowerCase()){case"r":case"t":case"w":return this._sendCharCode(e.key.toUpperCase().charCodeAt(0)-64)}}else{var t=1==e.key.length?e.key.toLowerCase():e.key,t=$e[t];if(t)return this._sendCharCode(t)}else{if(e.shiftKey&&"Insert"==e.key)return!1;t=ze[e.key];if(t)return this._checkDB(e.key)?this._send(t+t):this._send(t);if(1==e.key.length)return!1}return!1}},{key:"onKeyPress",value:function(e){return!e.ctrlKey&&!e.altKey&&1==e.key.length&&(e.preventDefault(),this._send(e.key))}}])&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function Xe(){}Xe.mixin=function(e){for(var t in Xe.prototype)e[t]=Xe.prototype[t]},Xe.prototype.addEventListener=function(e,t){this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t)},Xe.prototype.dispatchEvent=function(e){this._listeners=this._listeners||{};var t=this._listeners[e.type];if(t)for(var n in t=t.slice(0))t[n](e)},Xe.prototype.removeEventListener=function(e,t){this._listeners=this._listeners||{};var n=this._listeners[e];if(n)for(var o in n)if(n[o]===t){n.splice(o,1);break}};function Ye(e){var t=e.col,n=e.row,o=e.href,r=e.inner,i=e.onMouseOver,e=e.onMouseOut;return React.createElement("a",{onMouseOver:i,onMouseOut:e,scol:t,srow:n,className:"y",href:o,rel:"noreferrer",target:"_blank"},r)}function Ve(e){return e?{display:"inline-block",width:"".concat(e,"px")}:void 0}function Qe(e){var t=e.forceWidth,e=e.inner;return React.createElement("span",{className:"wpadding",style:Ve(t)},e)}function Ze(e){var t=e.colorLead,n=e.colorTail,o=e.forceWidth,e=e.text;return React.createElement("span",{className:q()("o","q".concat(t.fg),"rq".concat(n.fg),"b".concat(t.bg),"rb".concat(n.bg),{qq:t.blink,rqq:n.blink,wpadding:o}),style:Ve(o),"data-text":e},e)}function Je(e){var t=e.className,n=e.colorState,e=e.inner;return React.createElement("span",{className:q()(t,"q".concat(n.fg),"b".concat(n.bg),{qq:n.blink})},e)}function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ot(n);return function(e,t){{if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,o?(e=ot(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function st(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var at=function(){function n(e,t){rt(this,n),this.key=e,this.colorState=t,this.inner=[]}return st(n,[{key:"isLastSegmentSameColor",value:function(e){return this.colorState.equals(e)}},{key:"appendNormalText",value:function(e){var t=this.inner[this.inner.length-1];"string"==typeof t?this.inner[this.inner.length-1]=t+e:this.inner.push(e)}},{key:"appendForceWidthWord",value:function(e,t){this.inner.push(React.createElement(Qe,{key:this.inner.length,inner:e,forceWidth:t}))}},{key:"build",value:function(){return React.createElement(Je,{key:this.key,colorState:this.colorState,inner:this.inner})}}]),n}(),lt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&tt(e,t)}(i,at);var r=nt(i);function i(e,t,n,o){return rt(this,i),(t=r.call(this,e,t)).colorTail=n,t.forceWidth=o,t}return st(i,[{key:"isLastSegmentSameColor",value:function(e){return!1}},{key:"build",value:function(){return React.createElement(Ze,{key:this.key,colorLead:this.colorState,colorTail:this.colorTail,forceWidth:this.forceWidth,text:this.inner})}}]),i}();at.NullObject={isLastSegmentSameColor:function(){return!1},build:function(){return!1}};function ct(e){for(var t,n,o="",r=0;r<e.length;++r)e.charAt(r)<""?o+=e.charAt(r):(n=e.charCodeAt(r),t=lib.u2bArray[2*n],n=lib.u2bArray[2*n+1],o+=t||n?String.fromCharCode(t)+String.fromCharCode(n):"ÿý");return o}function ut(e){for(var t,n="",o=0;o<e.length;++o)e.charAt(o)<""||o==e.length-1?n+=e.charAt(o):(t=e.charCodeAt(o)<<8|e.charCodeAt(o+1),(t=lib.b2uArray[2*t]<<8|lib.b2uArray[2*t+1])?(n+=String.fromCharCode(t),++o):n+=e.charAt(o));return n}function ft(e){e=new RegExp(/  瀏覽 第 (\d{1,3})(?:\/(\d{1,3}))? 頁 *\( *(\d{1,3})%\)  目前顯示: 第 0*(\d+)~0*(\d+) 行 *(?:\(y\)回應)?(?:\(X\/?%\)推文)?(?:\(h\)說明)? *\(←\/?q?\)離開 /g).exec(e);return e&&6===e.length?{pageIndex:parseInt(e[1]),pageTotal:parseInt(e[2]),pagePercent:parseInt(e[3]),rowIndexStart:parseInt(e[4]),rowIndexEnd:parseInt(e[5])}:null}var dt={},n=dt;function pt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.xa1=1,n.xa0=1,n.xa1=1,n.xa4=1,n.xa7=1,n.xaa=1,n.xae=1,n.xaf=1,n.xb0=1,n.xb1=1,n.xb6=1,n.xb7=1,n.xb8=1,n.xba=1,n.xbf=1,n.xc0=1,n.xc1=1,n.xc2=1,n.xc3=1,n.xc4=1,n.xc5=1,n.xc6=1,n.xc7=1,n.xc8=1,n.xc9=1,n.xca=1,n.xcb=1,n.xcc=1,n.xcd=1,n.xce=1,n.xcf=1,n.xd0=1,n.xd1=1,n.xd2=1,n.xd3=1,n.xd4=1,n.xd5=1,n.xd6=1,n.xd7=1,n.xd8=1,n.xd9=1,n.xda=1,n.xdb=1,n.xdc=1,n.xde=1,n.xdf=1,n.xe0=1,n.xe1=1,n.xe2=1,n.xe3=1,n.xe4=1,n.xe5=1,n.xe6=1,n.xe7=1,n.xe8=1,n.xe9=1,n.xea=1,n.xeb=1,n.xec=1,n.xed=1,n.xee=1,n.xef=1,n.xf0=1,n.xf1=1,n.xf2=1,n.xf3=1,n.xf4=1,n.xf5=1,n.xf6=1,n.xf8=1,n.xf9=1,n.xfa=1,n.xfb=1,n.xfc=1,n.xfe=1,n.xff=1,n.x14a=2,n.x153=1,n.x16b=2,n.x192=1,n.x28c=1,n.x252=2,n.x259=2,n.x25a=2,n.x25c=2,n.x25d=2,n.x26f=2,n.x278=2,n.x287=2,n.x292=2,n.x2a4=2,n.x2a7=2,n.x2cf=2,n.x414=2,n.x41f=2,n.x430=2,n.x431=1,n.x432=2,n.x433=2,n.x434=2,n.x435=2,n.x436=2,n.x437=2,n.x438=2,n.x439=2,n.x43a=1,n.x43b=1,n.x43c=2,n.x43d=2,n.x43e=1,n.x43f=2,n.x440=1,n.x441=2,n.x442=2,n.x445=2,n.x446=2,n.x44b=2,n.x44c=2,n.x44f=2,n.x1e3b=2,n.x1e43=2,n.x1e49=1,n.x1ef2=3,n.x1ef3=1,n.x2010=1,n.x2027=1,n.x211e=1,n.x2122=1,n.x213b=2,n.x2157=1,n.x215c=2,n.x21b2=1,n.x21e6=1,n.x21e8=1,n.x21e9=1,n.x2200=2,n.x2202=1,n.x222c=2,n.x2237=2,n.x2282=2,n.x2401=3,n.x2402=3,n.x2403=3,n.x2404=3,n.x2405=3,n.x2406=3,n.x2407=3,n.x2408=3,n.x2409=3,n.x240a=3,n.x240b=3,n.x240c=3,n.x240d=3,n.x240e=3,n.x240f=3,n.x2410=3,n.x2411=3,n.x2412=3,n.x2413=3,n.x2414=3,n.x2415=3,n.x2416=3,n.x2417=3,n.x2418=3,n.x2419=3,n.x241a=3,n.x241b=3,n.x241c=3,n.x241d=3,n.x241e=3,n.x241f=3,n.x2421=3,n.x246a=2,n.x246b=2,n.x246c=2,n.x246d=2,n.x246e=2,n.x246f=2,n.x2470=2,n.x2471=2,n.x2472=2,n.x2473=2,n.x2503=2,n.x2601=2,n.x2602=2,n.x260e=2,n.x2611=2,n.x261b=2,n.x261c=2,n.x261e=2,n.x261f=2,n.x2620=2,n.x262f=2,n.x2630=2,n.x2631=2,n.x2632=2,n.x2633=2,n.x2634=2,n.x2635=2,n.x2636=2,n.x2637=2,n.x2639=1,n.x263a=2,n.x263b=2,n.x263c=2,n.x263d=2,n.x2660=2,n.x2661=1,n.x2662=1,n.x2663=2,n.x2664=1,n.x2665=2,n.x2666=1,n.x2667=1,n.x266a=1,n.x266c=2,n.x2702=2,n.x2708=2,n.x2709=2,n.x2713=2,n.x2715=2,n.x2721=2,n.x2729=2,n.x274f=2,n.x278e=2,n.x278f=2,n.x2790=2,n.x2791=2,n.x2792=2,n.xe11b=3,n.xe282=3,n.xe568=3,n.xe56b=3,n.xe686=3,n.xe687=3,n.xe7e0=3,n.xe9cc=3,n.xe9ce=3,n.xe9cf=3,n.xeb8b=3,n.xec63=3,n.xec64=3,n.xec65=3,n.xec66=3,n.xec67=3,n.xec6c=1,n.xec6a=1,n.xec6e=3,n.xec71=3,n.xec72=3,n.xec73=3,n.xec74=3,n.xec71=3,n.xec7c=3,n.xec7d=3,n.xec80=3,n.xec83=3,n.xec85=3,n.xec86=3,n.xec87=3,n.xec88=3,n.xec89=3,n.xec8a=3,n.xec8b=3,n.xec8c=3,n.xec8d=3,n.xec8e=3,n.xec8f=3,n.xec90=3,n.xec91=3,n.xec9f=3,n.xeca0=3,n.xeca1=3,n.xeca3=3,n.xeca4=3,n.xeca5=3,n.xeca6=3,n.xeca7=3,n.xeca8=3,n.xeca9=3,n.xeca3=3,n.xecae=3,n.xecb5=3,n.xecb6=3,n.xecb8=3,n.xecc1=3,n.xecc2=3,n.xecc8=3,n.xecca=3,n.xeccb=3,n.xeccc=3,n.xeccd=3,n.xecce=3,n.xed91=3,n.xed92=3,n.xee1e=3,n.xee22=3,n.xee58=3,n.xee5a=3,n.xee5c=3,n.xee5e=3,n.xee5f=3,n.xeeb6=3,n.xf7e6=3,n.xf7e8=3,n.xf7ee=3,n.xf7ef=3,n.xf7f0=3,n.xf7f1=3,n.xf7f2=3,n.xf7f3=3,n.xf7f4=3,n.xf7f5=3,n.xf7f6=3,n.xf7f7=3,n.xf7f8=3,n.xf7f8=3,n.xf7fa=3,n.xf849=3,n.xf84a=3,n.xf84b=3,n.xf84c=3,n.xf84d=3,n.xf84e=3,n.xf84f=3,n.xf850=3,n.xf851=3,n.xf852=3,n.xf853=3,n.xf854=3,n.xf855=3,n.xf856=3,n.xf857=3,n.xf858=3,n.xf859=3,n.xf85a=3,n.xf85b=3,n.xf85c=3,n.xf85d=3,n.xf85e=3,n.xf85f=3,n.xf860=3,n.xf861=3,n.xf862=3,n.xf863=3,n.xf864=3,n.xf865=3,n.xff61=1,n.xff62=1,n.xff63=1,n.xff64=1,n.xff65=1,n.xff66=1,n.xff67=1,n.xff68=1,n.xff69=1,n.xff6a=1,n.xff6b=1,n.xff6c=1,n.xff6d=1,n.xff6e=1,n.xff6f=1,n.xff70=1,n.xff71=1,n.xff72=1,n.xff73=1,n.xff74=1,n.xff75=1,n.xff76=1,n.xff77=1,n.xff78=1,n.xff79=1,n.xff7a=1,n.xff7b=1,n.xff7c=1,n.xff7d=1,n.xff7e=1,n.xff7f=1,n.xff80=1,n.xff81=1,n.xff82=1,n.xff83=1,n.xff84=1,n.xff85=1,n.xff86=1,n.xff87=1,n.xff88=1,n.xff89=1,n.xff8a=1,n.xff8b=1,n.xff8c=1,n.xff8d=1,n.xff8e=1,n.xff8f=1,n.xff90=1,n.xff91=1,n.xff92=1,n.xff93=1,n.xff94=1,n.xff95=1,n.xff96=1,n.xff97=1,n.xff98=1,n.xff99=1,n.xff9a=1,n.xff9b=1,n.xff9c=1,n.xff9d=1,n.xff9e=1,n.xff9f=1,n.xfffd=3;ve=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.segs=[],this.wordBuilder=at.NullObject,this.forceWidth=e,this.lead=null}var e,n,o;return e=t,(n=[{key:"beginSegment",value:function(e){this.segs.push(this.wordBuilder.build()),this.wordBuilder=new at(this.segs.length,e)}},{key:"appendNormalChar",value:function(e,t){this.wordBuilder.isLastSegmentSameColor(t)||this.beginSegment(t),this.wordBuilder.appendNormalText(e)}},{key:"readChar",value:function(e){if(!this.lead)return 129<=(n=(n=e.ch).charCodeAt(0))&&n<=254?void(this.lead=e):void this.appendNormalChar(e.ch,e.getColor());var t=this.lead,n=t.getColor();this.lead=null;t=ut(t.ch+e.ch);if(1!==t.length)return this.appendNormalChar("?",n),void this.appendNormalChar(" "==e.ch?" ":"?",e.getColor());if(3==dt["x"+t.charCodeAt(0).toString(16)])return this.appendNormalChar("?",n),void this.appendNormalChar("?",e.getColor());if(!n.equals(e.getColor()))return this.segs.push(this.wordBuilder.build()),this.wordBuilder=new lt(this.segs.length,n,e.getColor(),this.forceWidth),void this.wordBuilder.appendNormalText(t);e=1==(e=dt["x"+(e=t).charCodeAt(0).toString(16)])||2==e?this.forceWidth:0;e?(this.wordBuilder.isLastSegmentSameColor(n)||this.beginSegment(n),this.wordBuilder.appendForceWidthWord(t,e)):this.appendNormalChar(t,n)}},{key:"build",value:function(){return this.beginSegment(),this.segs}}])&&pt(e.prototype,n),o&&pt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();ve.accumulator=function(e,t){return e.readChar(t),e};var ht=ve,mt=o(79),yt=o(80);function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function wt(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach(function(e){Ot(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=kt(n);return function(e,t){{if(t&&("object"===gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return St(e)}(this,o?(e=kt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){return Promise.resolve({src:e})}function Pt(e){var t=e.src;return Rt.find(function(e){return e.test(t)}).request(t)}function Mt(e){var o=e.src;return new Promise(function(e,t){var n=new Image;n.onload=function(){return e({src:o,height:n.height})},n.onerror=t,n.src=o})}ge=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Et(e,t)}(i,React.PureComponent);var e,t,n,r=Ct(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Ot(St(e=r.call.apply(r,[this].concat(n))),"state",{pending:void 0,value:void 0,error:void 0}),Ot(St(e),"handleResolve",function(n){e.setState(function(e,t){if(e.pending===t.request)return{value:n}})}),Ot(St(e),"handleReject",function(n){e.setState(function(e,t){if(e.pending===t.request)return{error:n}})}),e}return e=i,(t=[{key:"componentDidMount",value:function(){this.handleStart()}},{key:"componentDidUpdate",value:function(e){this.props.request!==e.request&&this.handleStart()}},{key:"handleStart",value:function(e){var n=this;this.setState(function(e,t){t=t.request;return t.then(n.handleResolve,n.handleReject),{pending:t,value:void 0,error:void 0}})}},{key:"render",value:function(){return React.createElement(this.props.component,_t(_t({},this.props),{},{component:void 0,request:void 0,value:this.state.value,error:this.state.error}))}}])&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();ge.OnHover=function(e){var t=e.left,n=e.top,o=e.value;return!e.error&&(o?React.createElement("img",{src:o.src,style:{display:"block",position:"absolute",left:t+20,top:function(e,t){var n=$(window).height();if(n-20<e+t/2){if(t/2<e)return n-20-t}else if(t/2<e-20)return e-t/2;return 20}(n,o.height),maxHeight:"80%",maxWidth:"90%",zIndex:2}}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate",style:{position:"absolute",left:t+20,top:n,zIndex:2}}))},ge.Inline=function(e){var t=e.value;return!e.error&&(t?React.createElement("img",{className:"easyReadingImg hyperLinkPreview",src:t.src}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"}))};var Rt=[{test:function(){return!0},request:function(){return Promise.reject(new Error("Unimplemented"))}}],M=Rt.unshift.bind(Rt);M({regex:/flic\.kr\/p\/(\w+)|flickr\.com\/photos\/[\w@]+\/(\d+)/,test:function(e){return this.regex.test(e)},request:function(e){var t=bt(e.match(this.regex),3),e=t[1],t=t[2],t=e?Object(yt.decode)(e):t,t="https://api.flickr.com/services/rest/?".concat(Object(mt.stringify)({method:"flickr.photos.getInfo",api_key:"c8c95356e465b8d7398ff2847152740e",photo_id:t,format:"json",nojsoncallback:1}));return fetch(t,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e.photo)throw new Error("Not found");var t=e.photo,n=t.farm,o=t.server,e=t.id,t=t.secret;return{src:"https://farm".concat(n,".staticflickr.com/").concat(o,"/").concat(e,"_").concat(t,".jpg")}})}}),M({regex:/^https?:\/\/(?:i\.)?imgur\.com\/([^.]+)(?:\.(.*))?/,test:function(e){return this.regex.test(e)},request:function(e){var t=bt(this.regex.exec(e),3),e=(t[0],t[1]),t=t[2],t=void 0===t?"jpg":t;return Promise.resolve({src:"https://i.imgur.com/".concat(e,".").concat(t)})}});var Nt=ge;function Dt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}me=function(){function s(e,t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.row=e,this.forceWidth=n,this.highlighted=o,this.onHyperLinkMouseOver=r,this.onHyperLinkMouseOut=i,this.segs=[],this.inlineLinkPreviews=!!t&&[],this.colorSegBuilder=null,this.col=null,this.href=null}var e,t,n;return e=s,(t=[{key:"saveSegment",value:function(){var e=this.colorSegBuilder.build();this.href?(this.segs.push(React.createElement(Ye,{key:this.col,href:this.href,inner:e,"data-scol":this.col,"data-srow":this.row,onMouseOver:this.onHyperLinkMouseOver,onMouseOut:this.onHyperLinkMouseOut})),this.inlineLinkPreviews&&this.inlineLinkPreviews.push(React.createElement(Nt,{key:"".concat(this.col,"-").concat(this.href),request:Tt(this.href).then(Pt),component:Nt.Inline}))):this.segs.push(React.createElement("span",{key:this.col},e)),this.colorSegBuilder=null}},{key:"readChar",value:function(e,t){null!==this.colorSegBuilder&&e.isStartOfURL()&&this.saveSegment(),null===this.colorSegBuilder&&(this.colorSegBuilder=new ht(this.forceWidth),this.col=t,this.href=e.isStartOfURL()?e.getFullURL():null),this.colorSegBuilder.readChar(e),e.isEndOfURL()&&this.saveSegment()}},{key:"build",value:function(){return null!==this.colorSegBuilder&&this.saveSegment(),React.createElement("div",null,React.createElement("span",{className:q()({b2:this.highlighted}),"data-type":"bbsline","data-row":this.row},this.segs),React.createElement("div",null,this.inlineLinkPreviews))}}])&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}();me.accumulator=function(e,t,n){return e.readChar(t,n),e};function Lt(e){var t=e.chars,n=e.row,o=e.enableLinkInlinePreview,r=e.forceWidth,i=e.highlighted,s=e.onHyperLinkMouseOver,e=e.onHyperLinkMouseOut;return React.createElement("span",{type:"bbsrow",srow:n},t.reduce(At.accumulator,new At(n,o,r,i,s,e)).build())}var At=me;function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ut(n);return function(e,t){{if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return jt(e)}(this,o?(e=Ut(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&It(e,t)}(i,React.Component);var e,t,n,r=Ht(i);function i(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Wt(jt(n=r.call.apply(r,[this].concat(t))),"setCurrentHighlighted",function(e){n.setState({currentHighlighted:e})}),Wt(jt(n),"state",{currentHighlighted:void 0,currentImagePreview:void 0,left:void 0,top:void 0}),Wt(jt(n),"handleMouseMove",function(e){var t=e.clientX,e=e.clientY;n.state.currentImagePreview&&n.setState({left:t,top:e})}),Wt(jt(n),"handleHyperLinkMouseOver",function(e){e=e.currentTarget.href;n.props.enableLinkHoverPreview&&n.setState({currentImagePreview:Tt(e).then(Pt).then(Mt)})}),Wt(jt(n),"handleHyperLinkMouseOut",function(){n.setState({currentImagePreview:void 0})}),n}return e=i,(t=[{key:"componentWillReceiveProps",value:function(e){this.props.lines!==e.lines&&this.setState({currentImagePreview:void 0})}},{key:"render",value:function(){var n=this;return React.createElement("div",{id:"mainContainer",onMouseMove:this.handleMouseMove},this.props.lines.map(function(e,t){return React.createElement(Lt,{key:t,chars:e,row:t,forceWidth:n.props.forceWidth,enableLinkInlinePreview:n.props.enableLinkInlinePreview,highlighted:n.state.currentHighlighted===t,onHyperLinkMouseOver:n.handleHyperLinkMouseOver,onHyperLinkMouseOut:n.handleHyperLinkMouseOut})}),this.state.currentImagePreview&&React.createElement(Nt,{request:this.state.currentImagePreview,component:Nt.OnHover,left:this.state.left,top:this.state.top}))}}])&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $t=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.fg=e,this.bg=t,this.blink=n}var e,t,n;return e=o,(t=[{key:"equals",value:function(e){return e instanceof o&&(this.fg==e.fg&&this.bg==e.bg&&this.blink==e.blink)}}])&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function qt(e,t,n,o,r){return ReactDOM.render(React.createElement(Lt,{chars:e,row:t,forceWidth:n,enableLinkInlinePreview:o}),r)}var Gt=["#FFFFFF","#7FFFFF","#FF7FFF","#7F7FFF","#FFFF7F","#7FFF7F","#FF7F7F","#3F3F3F","#7F7F7F","#00FFFF","#FF00FF","#0000FF","#FFFF00","#00FF00","#FF0000","#000000"],Xt=["auto","url(".concat(o(92)," 0 6,auto"),"url(".concat(o(93)," 6 0,auto"),"url(".concat(o(94)," 6 21,auto"),"url(".concat(o(95)," 0 0,auto"),"url(".concat(o(96)," 0 0,auto"),"pointer","default","url(".concat(o(97)," 6 0,auto"),"url(".concat(o(98)," 6 0,auto"),"url(".concat(o(99)," 0 0,auto"),"auto","url(".concat(o(100)," 0 0,auto"),"url(".concat(o(60)," 0 0,auto"),"url(".concat(o(60)," 0 0,auto")];function Yt(e){this.ch=e,this.resetAttr(),this.needUpdate=!1,this.isLeadByte=!1,this.startOfURL=!1,this.endOfURL=!1,this.partOfURL=!1,this.partOfKeyWord=!1,this.keyWordColor="#ff0000",this.fullurl=""}function Vt(e,t){for(this.cols=e,this.rows=t,this.view=null,this.cur_x=0,this.cur_y=0,this.cur_x_sav=-1,this.cur_y_sav=-1,this.scrollStart=0,this.scrollEnd=t-1,this._nowHighlight=-1,Object.defineProperty(this,"nowHighlight",{set:this.setHighlight.bind(this),get:function(){return this._nowHighlight}.bind(this)}),this.tempMouseCol=0,this.tempMouseRow=0,this.mouseCursor=0,this.highlightCursor=!0,this.useMouseBrowsing=!0,this.attr=new Yt(" "),this.disableLinefeed=!1,this.altScreen="",this.changed=!1,this.posChanged=!1,this.pageState=0,this.forceFullWidth=!1,this.startedEasyReading=!1,this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.prevPageState=0,this.lines=new Array(t),this.pageLines=[],this.pageWrappedLines=[],this.lineChangeds=new Array(t),this.viewBufferTimer=30;0<=--t;){for(var n=new Array(e),o=e;0<=--o;)n[o]=new Yt(" ");this.lines[t]=n}this.BBSWin=document.getElementById("BBSWindow")}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Yt.defaultFg=7,Yt.defaultBg=0,Yt.prototype={assignParams:function(e){var t=this;e.forEach(function(e){switch(e){case 0:t.resetAttr();break;case 1:t.bright=!0;break;case 4:t.underLine=!0;break;case 5:case 6:t.blink=!0;break;case 7:t.invert=!0;break;case 8:break;default:e<=37?30<=e&&(t.fg=e-30):40<=e&&e<=47&&(t.bg=e-40)}})},copyFromNewChar:function(){this.ch=Yt.newChar.ch,this.isLeadByte=Yt.newChar.isLeadByte,this.resetAttr()},copyAttr:function(e){this.fg=e.fg,this.bg=e.bg,this.bright=e.bright,this.invert=e.invert,this.blink=e.blink,this.underLine=e.underLine},resetAttr:function(){this.fg=7,this.bg=0,this.bright=!1,this.invert=!1,this.blink=!1,this.underLine=!1},getFg:function(){return this.invert?this.bright?this.bg+8:this.bg:this.bright?this.fg+8:this.fg},getBg:function(){return this.invert?this.fg:this.bg},getColor:function(){return new $t(this.getFg(),this.getBg(),this.blink)},isUnderLine:function(){return this.underLine},isStartOfURL:function(){return this.startOfURL},isEndOfURL:function(){return this.endOfURL},isPartOfURL:function(){return this.partOfURL},isPartOfKeyWord:function(){return this.partOfKeyWord},getKeyWordColor:function(){return this.keyWordColor},getFullURL:function(){return this.fullurl}},Yt.newChar=new Yt(" "),Xe.mixin(Vt.prototype={resize:function(e,t){this.cols=e,this.rows=t,this.lineChangeds.length=t,this.scrollEnd=t-1,this.lines.length=t;for(var n=0;n<t;n++){this.lines[n]||(this.lines[n]=new Array(e)),this.lines[n].length=e;for(var o=0;o<e;o++)this.lines[n][o]||(this.lines[n][o]=new Yt(" "))}},timerUpdate:null,uriRegEx:/((ftp|http|https|telnet):\/\/([A-Za-z0-9_]+:{0,1}[A-Za-z0-9_]*@)?([A-Za-z0-9_#!:.?+=&%@!\-\/\$\^,;|*~'()]+)(:[0-9]+)?(\/|\/([A-Za-z0-9_#!:.?+=&%@!\-\/]))?)|(pid:\/\/(\d{1,10}))/gi,setView:function(e){this.view=e},assignParamsToAttrs:function(e){this.attr.assignParams(e)},puts:function(e){if(e){for(var t=this.cols,n=(this.rows,this.lines),o=e.length,r=n[this.cur_y],i=0;i<o;++i){var s,a=e[i];switch(a){case"":continue;case"\b":this.back();continue;case"\r":this.carriageReturn();continue;case"\n":case"\f":case"\v":this.lineFeed(),r=n[this.cur_y];continue;case"\0":continue}this.cur_x>=t&&(this.disableLinefeed||this.lineFeed(),this.cur_x=0,r=n[this.cur_y],this.posChanged=!0),"\t"===a?this.tab():((s=r[this.cur_x]).ch=a,s.copyAttr(this.attr),s.needUpdate=!0,++this.cur_x,s.isLeadByte&&(r[this.cur_x].needUpdate=!0),"UTF-8"==this.view.charset&&this.isFullWidth(a)&&this.cur_x<t&&((s=r[this.cur_x]).ch="",s.copyAttr(this.attr),s.needUpdate=!0,++this.cur_x),this.changed=!0,this.posChanged=!0)}this.queueUpdate()}},updateCharAttr:function(){for(var e=this.cols,t=this.rows,n=this.lines,o=0;o<t;++o){for(var r=n[o],i=!1,s=0;s<e;++s){var a,l=r[s];l.needUpdate&&(i=!0),this.isFullWidth(l.ch)&&s+1<e?(l.isLeadByte=!0,a=l,(l=r[++s]).needUpdate&&(i=!0),a.needUpdate!=l.needUpdate&&(a.needUpdate=l.needUpdate=!0)):l.isleadbyte&&s+1<e&&(r[s+1].needUpdate=!0),l.isLeadByte=!1}if(i){if(this.lineChangeds[o]=!0,r.uris){for(var c=(m=r.uris).length,u=0;u<c;++u){r[(y=m[u])[0]].startOfURL=!1,r[y[0]].endOfURL=!1,r[y[0]].fullurl="",r[y[1]-1].startOfURL=!1,r[y[1]-1].endOfURL=!1,r[y[1]-1].fullurl="";for(s=y[0];s<y[1];++s)r[s].partOfURL=!1,r[s].needUpdate=!0}r.uris=null}for(var f,d="",s=0;s<e;++s)d+=r[s].ch;if("UTF-8"!=this.view.charset)d=d.replace(/[^\x00-\x7f]./g,"«Í");else{for(var p="",h=0;h<d.length;++h)p+=d.charAt(h),this.isFullWidth(d.charAt(h))&&(p+=d.charAt(h));d=p}for(var m=null;null!==(f=this.uriRegEx.exec(d));){var y=[f.index,f.index+f[0].length];(m=m||[]).push(y)}if(m&&(r.uris=m),r.uris)for(c=(m=r.uris).length,u=0;u<c;++u){for(var g,b="",s=(y=m[u])[0];s<y[1];++s)b+=r[s].ch,r[s].partOfURL=!0,r[s].needUpdate=!0;if("UTF-8"!=this.view.charset)g=b;else{for(p="",h=0;h<b.length;++h)p+=b.charAt(h),this.isFullWidth(b.charAt(h))&&(p+=b.charAt(h));g=p}var v=b.toLowerCase();r[y[0]].startOfURL=!0,"pid://"==v.substr(0,6)?r[y[0]].fullurl="http://www.pixiv.net/member_illust.php?mode=big&illust_id="+v.substr(6,15):r[y[0]].fullurl=g,r[y[1]-1].endOfURL=!0}}}},clear:function(e){var t=this.rows,n=this.cols,o=this.lines;switch(e){case 0:var r,i=o[this.cur_y];for(s=this.cur_x;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;for(r=this.cur_y;r<t;++r)for(i=o[r],s=0;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;break;case 1:for(r=0;r<this.cur_y;++r)for(i=o[r],s=0;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;for(i=o[this.cur_y],s=0;s<this.cur_x;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;break;case 2:for(;0<=--t;)for(var s=n,i=o[t];0<=--s;)i[s].copyFromNewChar(),i[s].needUpdate=!0}this.changed=!0,this.gotoPos(0,0),this.queueUpdate()},back:function(){0<this.cur_x&&(--this.cur_x,this.posChanged=!0,this.queueUpdate())},tab:function(e){var t=this.cur_x%4;this.cur_x+=4-t,1<e&&(this.cur_x+=4*(e-1)),this.cur_x>=this.cols&&(this.cur_x=this.cols-1),this.posChanged=!0,this.queueUpdate()},backTab:function(e){var t=this.cur_x%4;this.cur_x-=0<t?t:4,1<e&&(this.cur_x-=4*(e-1)),this.cur_x<0&&(this.cur_x=0),this.posChanged=!0,this.queueUpdate()},insert:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(;0<=--e;){var i=t.pop();t.splice(o,0,i),i.copyFromNewChar()}for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},del:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(var i=n-o-e;0<=--i;)t.splice(o,0,t.pop());for(r=n-e;r<n;++r)t[r].copyFromNewChar();for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},eraseChar:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){for(var r=n<o+e?n:o+e,i=o;i<r;++i)t[i].copyFromNewChar(),t[i].needUpdate=!0;this.changed=!0,this.queueUpdate()}},eraseLine:function(e){var t=this.lines[this.cur_y],n=this.cols;switch(e){case 0:for(var o=this.cur_x;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 1:for(var r=this.cur_x,o=0;o<r;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 2:for(o=0;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;default:return}this.changed=!0,this.queueUpdate()},deleteLine:function(e){var t=this.scrollStart;this.scrollStart=this.cur_y,this.scroll(!1,e),this.scrollStart=t,this.changed=!0,this.queueUpdate()},insertLine:function(e){var t=this.scrollStart;this.cur_y<this.scrollEnd&&(this.scrollStart=this.cur_y,this.scroll(!0,e)),this.scrollStart=t,this.changed=!0,this.queueUpdate()},scroll:function(e,t){var n=this.scrollStart,o=this.scrollEnd;if(o<=n&&(n=0,o<1&&(o=this.rows-1)),t>=this.rows)this.clear(2);else if(o-n+1<=t)for(var r=this.lines,i=this.cols,s=n;s<=o;++s)for(var a=0;a<i;++a)r[s][a].copyFromNewChar(),r[s][a].needUpdate=!0;else{var r=this.lines,l=this.rows,i=this.cols;if(e){for(var c=0;c<l-1-o;++c)r.unshift(r.pop());for(;0<=--t;){var u=r.pop();r.splice(l-1-o+n,0,u);for(a=0;a<i;++a)u[a].copyFromNewChar()}for(c=0;c<l-1-o;++c)r.push(r.shift())}else{for(c=0;c<n;++c)r.push(r.shift());for(;0<=--t;){u=r.shift();r.splice(o-n,0,u);for(a=0;a<i;++a)u[a].copyFromNewChar()}for(c=0;c<n;++c)r.unshift(r.pop())}for(s=n;s<=o;++s)for(u=r[s],a=0;a<i;++a)u[a].needUpdate=!0}this.changed=!0,this.queueUpdate()},gotoPos:function(e,t){e>=this.cols&&(e=this.cols-1),(t=t>=this.rows?this.rows-1:t)<0&&(t=0),this.cur_x=e=e<0?0:e,this.cur_y=t,this.posChanged=!0,this.queueUpdate()},carriageReturn:function(){this.cur_x=0,this.posChanged=!0,this.queueUpdate()},lineFeed:function(){this.cur_y<this.scrollEnd?(++this.cur_y,this.posChanged=!0,this.queueUpdate()):this.scroll(!1,1)},queueUpdate:function(e){var t,n;this.timerUpdate||(n=function(){t.notify()},(t=this).timerUpdate=e?setTimeout(n,1):setTimeout(n,30))},notify:function(e){clearTimeout(this.timerUpdate),this.timerUpdate=null,this.changed&&(this.updateCharAttr(),this.setPageState(),this.useMouseBrowsing&&this.clearHighlight(),this.dispatchEvent(new CustomEvent("change")),this.view&&this.view.update(),this.changed=!1,this.dispatchEvent(new CustomEvent("viewUpdate"))),this.posChanged&&(this.view&&this.view.updateCursorPos(),this.posChanged=!1),this.view.blinkOn&&(this.view.blinkOn=!1,document.body.classList.toggle("blink--active"))},getText:function(e,t,n,o,r,i,s){var a="",a=(s||this.lines)[e];if(t==this.cols)return"";if(0<t?!a[t].isLeadByte&&a[t-1].isLeadByte&&t--:t=0,0<n?a[n-1].isLeadByte&&n++:n=this.cols,n<=t)return"";if(this.view){e=this.view.charset;if(o){for(var l=this.ansiCmp(Yt.newChar,a[t],i),c=t;c<n-1;++c)r&&a[c].isLeadByte&&this.ansiCmp(a[c],a[c+1])?l+=this.ansiCmp(a[c],a[c+1]).replace(/m$/g,";50m")+a[c].ch:l+=a[c].ch+this.ansiCmp(a[c],a[c+1]);return l+=a[n-1].ch+this.ansiCmp(a[n-1],Yt.newChar),r&&"UTF-8"!=e?ut(l):l}return(a=a.slice(t,n)).map(function(e,t,n){if(!e.isLeadByte){if(1<=t&&n[t-1].isLeadByte){t=n[t-1].ch+e.ch;return this.view&&"UTF-8"==this.view.charset||1==t.length?t:ut(t)}return e.ch}}).join("")}},getRowText:function(e,t,n,o){var r="",r=(o||this.lines)[e];0<t?!r[t].isLeadByte&&r[t-1].isLeadByte&&t--:t=0,n<this.cols?r[n].isLeadByte&&n++:n=this.cols,r=r.slice(t,n);this.view.charset;var i=this;return r.map(function(e,t,n){if(!e.isLeadByte){if(1<=t&&n[t-1].isLeadByte){t=n[t-1].ch+e.ch;return i.view&&"UTF-8"==i.view.charset||1==t.length?t:ut(t)}return e.ch}}).join("")},ansiCmp:function(e,t,n){var o="",r=n;(r=e.bright&&!t.bright||e.underLine&&!t.underLine||e.blink&&!t.blink||e.invert&&!t.invert?!0:r)&&(o=";"),!r&&e.bright||!t.bright||(o+="1;"),!r&&e.underLine||!t.underLine||(o+="4;"),!r&&e.blink||!t.blink||(o+="5;"),!r&&e.invert||!t.invert||(o+="7;");var i=Yt.defaultFg,s=Yt.defaultBg,a=-1==t.fg?i:t.fg,n=-1==e.fg?i:e.fg,t=-1==t.bg?s:t.bg,e=-1==e.bg?s:e.bg;return(r?a!=i:n!=a)&&(o+="3"+a+";"),(r?t!=s:e!=t)&&(o+="4"+t+";"),o?"["+o.substr(0,o.length-1)+"m":""},isFullWidth:function(e){e=e.charCodeAt(0);return"UTF-8"!=this.view.charset||this.forceFullWidth?127<e:4352<=e&&e<=4447||9001<=e&&e<=9002||11904<=e&&e<=12350||12352<=e&&e<=42191||44032<=e&&e<=55203||63744<=e&&e<=64255||65072<=e&&e<=65135||65280<=e&&e<=65376||65504<=e&&e<=65510},isTextWrappedRow:function(e){var t=this.getRowText(e,0,this.cols),n=t.lastIndexOf("\\");if(0<n){n=ct(t.substr(0,n)).length;if(77!=n&&78!=n)return!1;n=this.lines[e][n];if(7==n.fg&&0===n.bg&&n.bright)return!0}return!1},setPageState:function(){var e,t,n,o=this.rows-1,r=this.cols,i=this.getRowText(o,0,r);0<i.indexOf("請按任意鍵繼續")||0<i.indexOf("請按 空白鍵 繼續")?this.pageState=5:0!==i.indexOf(" 編輯文章  (^Z/F1)說明 (^P/^G)插入符號/範本 (^X/^Q)離開")?ft(i)?this.pageState=3:(n=this.getRowText(0,0,r),this.isUnicolor(0,0,29)&&this.isUnicolor(0,r-20,r-10)?(e=n.indexOf("【主功能表】"),t=n.indexOf("【分類看板】"),n=n.indexOf("【精華文章】"),0===e||0===t||0===n||(i=i,new RegExp(/\[\d{1,2}\/\d{1,2} +星期. +\d{1,2}:\d{1,2}\] .+ 線上\d+人, 我是\w+ +\[呼叫器\](?:關閉|打開) /g).test(i))?this.pageState=1:this.isUnicolor(2,0,r-10)&&!this.isLineEmpty(1)&&(this.cur_x<19||this.cur_y==o)&&(this.pageState=2)):this.isUnicolor(o,28,53)&&this.cur_y==o&&this.cur_x==r-1&&(this.pageState=5),1!=this.pageState&&this.isLineEmpty(o)&&(this.pageState=0)):this.pageState=6},isUnicolor:function(e,t,n){for(var o=this.lines[e],r=o[t].getBg(),i=t;i<n;i++){var s=o[i].getBg();if(s!=r||0===s)return!1}return!0},isLineEmpty:function(e){this.rows;for(var t=this.lines[e],n=0;n<this.cols;n++)if(" "!=t[n].ch||t[n].getBg())return!1;return!0},onMouse_move:function(e,t,n){this.tempMouseCol=e,this.tempMouseRow=t,this.nowHighlight==t&&!n||this.clearHighlight();var o=this.rows-1,r=this.cols;switch(this.pageState){case 0:this.mouseCursor=0;break;case 4:1<t&&t<o-1?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?2:0===t?4:5;break;case 2:2<t&&t<o?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?e<2?8:r-5<e?9:2:0===t?e<2?10:r-5<e?9:4:e<2?12:r-5<e?13:5;break;case 3:this.mouseCursor=t==o?e<2?12:r-5<e?14:5:0===t?e<2?10:r-5<e?9:e<7?1:2:1==t||2==t?e<2?8:r-5<e?9:e<7?1:2:e<7?1:t<12?2:3;break;case 1:this.mouseCursor=0<t&&t<o?7<e?7:1:0;break;default:this.mouseCursor=0}this.BBSWin.style.cursor=Xt[this.mouseCursor]},resetMousePos:function(){this.useMouseBrowsing&&this.onMouse_move(this.tempMouseCol,this.tempMouseRow,!0)},setHighlight:function(e){this._nowHighlight=e,this.view.setHighlightedRow(e)},clearHighlight:function(){this.nowHighlight=-1,this.mouseCursor=0}});var tn={en_us:(Qt(c={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"A GNU/GPL telnet client extension specifically designed for BBS browsing.",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"Copy with ANSI color"},menu_goToOtherSite:{message:"Other site"},menu_paste:{message:"Paste"},menu_selectAll:{message:"Select all"},menu_mouseBrowsing:{message:"Mouse"},menu_settings:{message:"Settings"},cmenu_copy:{message:"Copy"},cmenu_copyAnsi:{message:"Copy with ANSI colors"},cmenu_paste:{message:"Paste"},cmenu_selectAll:{message:"Select all"},cmenu_searchGoogle:{message:"Search Google for"},cmenu_quickSearch:{message:"Quick Search"},cmenu_openUrlNewTab:{message:"Open link in new tab"},cmenu_copyLinkUrl:{message:"Copy link address"},cmenu_mouseBrowsing:{message:"Mouse browsing"},cmenu_showInputHelper:{message:"Input helper ..."},cmenu_showLiveArticleHelper:{message:"Live article helper ..."},cmenu_settings:{message:"Settings"},cmenu_restartInTab:{message:"Restart PttChrome in a new tab"},options_general:{message:"General"},options_about:{message:"About"},options_enablePicPreview:{message:"Enable preview when hover on image URLs."},options_enableNotifications:{message:"Enable notifications when a message is received."},options_enableEasyReading:{message:"Enable easy reading article view. (experimental)"},options_endTurnsOnLiveUpdate:{message:"Press END turns on thread live update."},options_copyOnSelect:{message:"Copy text when selected."},options_preferences:{message:"Preferences"},options_antiIdleTime:{message:"Anti-idle interval (sec)"},options_lineWrap:{message:"Wrap line for pasting text longer than"},options_reset:{message:"Restore defaults"},options_appearance:{message:"Appearance"},options_bbsMargin:{message:"Margins around BBS view (px)"},options_fontSize:{message:"BBS font size"},options_termSize:{message:"BBS terminal size"},options_cols:{message:"Columns"},options_rows:{message:"Rows"}},"options_fontSize",{message:"Font size (px)"}),Qt(c,"options_fontSizeMax",{message:"Maximum font size (px)"}),Qt(c,"options_fixedTermSize",{message:"Fixed term size"}),Qt(c,"options_fixedFontSize",{message:"Fixed font size"}),Qt(c,"options_maxFontSize",{message:"Maximum-limited font size"}),Qt(c,"options_fontFitWindowWidth",{message:"Stretch font to fill the view"}),Qt(c,"options_fontFace",{message:"Font face"}),Qt(c,"options_mouse",{message:"Mouse"}),Qt(c,"options_mouseBrowsing",{message:"Mouse browsing"}),Qt(c,"options_useMouseBrowsing",{message:"Mouse browsing on start"}),Qt(c,"options_mouseBrowsingHighlight",{message:"Mouse browsing highlight effect"}),Qt(c,"options_highlightColor",{message:"Color"}),Qt(c,"options_mouseLeftFunction",{message:"Mouse left button"}),Qt(c,"options_mouseMiddleFunction",{message:"Mouse middle button"}),Qt(c,"options_mouseWheelFunction1",{message:"Mouse wheel"}),Qt(c,"options_mouseWheelFunction2",{message:"Right mouse key + mouse wheel"}),Qt(c,"options_mouseWheelFunction3",{message:"Left mouse key + mouse wheel"}),Qt(c,"options_none",{message:"No action"}),Qt(c,"options_doPaste",{message:"Perform 'Paste'"}),Qt(c,"options_leftKey",{message:"Sends LEFT key"}),Qt(c,"options_rightKey",{message:"Sends RIGHT key"}),Qt(c,"options_enterKey",{message:"Sends ENTER key"}),Qt(c,"options_upDown",{message:"Controls up / down"}),Qt(c,"options_pageUpDown",{message:"Controls pageup / pagedown"}),Qt(c,"options_threadLastNext",{message:"Controls thread previous / next"}),Qt(c,"about_appName_subtitle",{message:"An open source BBS client"}),Qt(c,"about_description",{message:"Originally written by #link_github_iamchucky#. This is a modified version by #link_github_robertabcd#. It supports connecting over Websocket, and works on most browsers. This fork is maintained by #link_github_current_owner#."}),Qt(c,"about_version_title",{message:"Version"}),Qt(c,"about_version_content",{message:["This version: #link_current_PttChrome#, #link_GPL20#.","Upstream version: #link_robertabcd_PttChrome#, #link_GPL20#.","Original version: webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."]}),Qt(c,"about_new_title",{message:"What's new"}),Qt(c,"about_new_content",{message:["Add Websocket connection support.","Partially rewrote using React."]}),Qt(c,"alert_developerModeHeader",{message:"Developer Mode"}),Qt(c,"alert_developerModeText",{message:"You are using developer mode. Things may break in this version of PttChrome. Use this at your own risk."}),Qt(c,"alert_developerModeDismiss",{message:"Yes, I understand."}),Qt(c,"alert_connectionHeader",{message:"You are disconnected!"}),Qt(c,"alert_connectionText",{message:"Would you like to reconnect to the site?"}),Qt(c,"alert_connectionReconnect",{message:"Reconnect (ENTER)"}),Qt(c,"alert_pasteShortcutHeader",{message:"Paste"}),Qt(c,"alert_pasteShortcutText",{message:"Please use Shift+Insert to paste"}),Qt(c,"alert_pasteShortcutClose",{message:"OK"}),Qt(c,"notification_said",{message:"says:"}),Qt(c,"inputHelperTitle",{message:"Input helper"}),Qt(c,"colorTitle",{message:"Color"}),Qt(c,"colorHelperSend",{message:"Send ANSI color code"}),Qt(c,"colorHelperSendMenuFore",{message:"Send foreground only"}),Qt(c,"colorHelperSendMenuBack",{message:"Send background only"}),Qt(c,"colorHelperSendMenuReset",{message:"Send reset code"}),Qt(c,"colorHelperBlink",{message:"Blink"}),Qt(c,"colorHelperPreview",{message:"▅ PREVIEW ▅"}),Qt(c,"colorHelperTooltip1",{message:"Left click: foreground color"}),Qt(c,"colorHelperTooltip2",{message:"Right click: background color, upper row only"}),Qt(c,"symTitle",{message:"Symbols"}),Qt(c,"symTitle_general",{message:"General"}),Qt(c,"symTitle_lineBorders",{message:"Line borders"}),Qt(c,"symTitle_blocks",{message:"Blocks"}),Qt(c,"symTitle_lines",{message:"Lines"}),Qt(c,"symTitle_special",{message:"Special"}),Qt(c,"symTitle_brackets",{message:"Brackets"}),Qt(c,"symTitle_greek",{message:"Greek"}),Qt(c,"symTitle_phonetic",{message:"Phonetic"}),Qt(c,"symTitle_math",{message:"Math"}),Qt(c,"symTitle_hiragana",{message:"Hiragana"}),Qt(c,"symTitle_katakana",{message:"Katakana"}),Qt(c,"emoTitle",{message:"Emoticons"}),Qt(c,"emoTitle_angry",{message:"Angry"}),Qt(c,"emoTitle_meh",{message:"Meh"}),Qt(c,"emoTitle_sweat",{message:"Sweat & awkward"}),Qt(c,"emoTitle_happy",{message:"Happy"}),Qt(c,"emoTitle_other",{message:"Others"}),Qt(c,"liveHelperEnable",{message:"Enable"}),Qt(c,"liveHelperSpan",{message:"thread refreshes every"}),Qt(c,"liveHelperSpanSec",{message:"sec"}),Qt(c,"tooltip_antiIdleTime",{message:"Input 0 to disable this feature."}),Qt(c,"tooltip_fontFace",{message:"Separate each font with a comma, start with the desired font and end with a generic font."}),c),zh_tw:(Zt(n={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"專為 BBS 瀏覽設計，採 GNU/GPL 授權的 telnet 連線程式套件",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"複製 (包含 ANSI 顏色)"},menu_goToOtherSite:{message:"其他站台"},menu_paste:{message:"貼上"},menu_selectAll:{message:"全選"},menu_mouseBrowsing:{message:"滑鼠瀏覽"},menu_settings:{message:"設定"},cmenu_copy:{message:"複製"},cmenu_copyAnsi:{message:"複製 (包含 ANSI 顏色)"},cmenu_paste:{message:"貼上"},cmenu_selectAll:{message:"全選"},cmenu_searchGoogle:{message:"在 Google 上搜尋"},cmenu_quickSearch:{message:"快速搜尋"},cmenu_openUrlNewTab:{message:"在新分頁中開啟連結"},cmenu_copyLinkUrl:{message:"複製連結網址"},cmenu_mouseBrowsing:{message:"滑鼠瀏覽"},cmenu_showInputHelper:{message:"輸入小幫手 ..."},cmenu_showLiveArticleHelper:{message:"Live 文小幫手 ..."},cmenu_settings:{message:"設定"},cmenu_restartInTab:{message:"在新分頁重新開啟 PttChrome"},options_general:{message:"一般"},options_about:{message:"關於"},options_enablePicPreview:{message:"當滑鼠在圖片連結上時顯示圖片預覽"},options_enableNotifications:{message:"啟用水球通知"},options_enableEasyReading:{message:"啟用文章好讀模式 (實驗性)"},options_endTurnsOnLiveUpdate:{message:"END 啟用推文即時更新 (如 Alt + r)"},options_copyOnSelect:{message:"選取文字時自動複製文字"},options_preferences:{message:"設定"},options_antiIdleTime:{message:"防閒置間隔 (秒)"},options_lineWrap:{message:"自動換行, 當貼上的字長於"},options_reset:{message:"設回預設值"},options_appearance:{message:"介面"},options_bbsMargin:{message:"BBS 周圍邊距 (像素)"},options_fontSize:{message:"BBS 字體大小"},options_termSize:{message:"BBS 終端機大小"},options_cols:{message:"寬"},options_rows:{message:"高"}},"options_fontSize",{message:"字體大小 (px)"}),Zt(n,"options_fontSizeMax",{message:"最大字體大小 (px)"}),Zt(n,"options_fixedTermSize",{message:"固定終端機大小"}),Zt(n,"options_fixedFontSize",{message:"固定字體大小"}),Zt(n,"options_maxFontSize",{message:"限制最大字體大小"}),Zt(n,"options_fontFitWindowWidth",{message:"把字體拉大來補滿畫面"}),Zt(n,"options_fontFace",{message:"字型"}),Zt(n,"options_mouseBrowsing",{message:"滑鼠瀏覽"}),Zt(n,"options_useMouseBrowsing",{message:"預設使用滑鼠瀏覽"}),Zt(n,"options_mouseBrowsingHighlight",{message:"啟用滑鼠瀏覽的底色效果"}),Zt(n,"options_highlightColor",{message:"底色"}),Zt(n,"options_mouseLeftFunction",{message:"滑鼠左鍵"}),Zt(n,"options_mouseMiddleFunction",{message:"滑鼠中鍵"}),Zt(n,"options_mouseWheelFunction1",{message:"滑鼠滾輪"}),Zt(n,"options_mouseWheelFunction2",{message:"滑鼠右鍵 + 滑鼠滾輪"}),Zt(n,"options_mouseWheelFunction3",{message:"滑鼠左鍵 + 滑鼠滾輪"}),Zt(n,"options_none",{message:"無動作"}),Zt(n,"options_doPaste",{message:"執行 '貼上'"}),Zt(n,"options_leftKey",{message:"送出左方向鍵"}),Zt(n,"options_rightKey",{message:"送出右方向鍵"}),Zt(n,"options_enterKey",{message:"送出ENTER鍵"}),Zt(n,"options_upDown",{message:"控制上 / 下"}),Zt(n,"options_pageUpDown",{message:"控制上頁 / 下頁"}),Zt(n,"options_threadLastNext",{message:"控制文章前篇 / 下篇"}),Zt(n,"about_appName_subtitle",{message:"開放原始碼的 BBS 瀏覽軟體"}),Zt(n,"about_description",{message:"原作者為 #link_github_iamchucky#。此版本是由 #link_github_robertabcd# 修改，使用 Websocket 加密連線，並支援大多數瀏覽器。本分支由 #link_github_current_owner# 維護。"}),Zt(n,"about_version_title",{message:"版本"}),Zt(n,"about_version_content",{message:["此版本：#link_current_PttChrome#, #link_GPL20#.","上游版本：#link_robertabcd_PttChrome#, #link_GPL20#.","原版本：webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."]}),Zt(n,"about_new_title",{message:"新功能"}),Zt(n,"about_new_content",{message:["加入 Websocket 連線","部分使用 React 重構"]}),Zt(n,"alert_developerModeHeader",{message:"開發者模式"}),Zt(n,"alert_developerModeText",{message:"您正在使用開發者模式。此版本的 PttChrome 並不穩定，無法保證所有功能會正常運作。"}),Zt(n,"alert_developerModeDismiss",{message:"是，我瞭解了"}),Zt(n,"alert_connectionHeader",{message:"你斷線了!"}),Zt(n,"alert_connectionText",{message:"現在要重新連線嗎?"}),Zt(n,"alert_connectionReconnect",{message:"重新連線 (ENTER)"}),Zt(n,"alert_pasteShortcutHeader",{message:"貼上"}),Zt(n,"alert_pasteShortcutText",{message:"請使用 Shift+Insert 快速鍵來貼上。"}),Zt(n,"alert_pasteShortcutClose",{message:"確定"}),Zt(n,"notification_said",{message:"說:"}),Zt(n,"inputHelperTitle",{message:"輸入小幫手"}),Zt(n,"colorTitle",{message:"上色"}),Zt(n,"colorHelperSend",{message:"送出 ANSI 顏色字元"}),Zt(n,"colorHelperSendMenuFore",{message:"只送出前景色彩"}),Zt(n,"colorHelperSendMenuBack",{message:"只送出背景色彩"}),Zt(n,"colorHelperSendMenuReset",{message:"送出色彩還原碼"}),Zt(n,"colorHelperBlink",{message:"閃爍"}),Zt(n,"colorHelperPreview",{message:"▅ 預 覽 ▅"}),Zt(n,"colorHelperTooltip1",{message:'點滑鼠"左"鍵選"前景"顏色'}),Zt(n,"colorHelperTooltip2",{message:'點滑鼠"右"鍵選"背景"顏色 (上排)'}),Zt(n,"symTitle",{message:"符號"}),Zt(n,"symTitle_general",{message:"一般"}),Zt(n,"symTitle_lineBorders",{message:"線條邊框"}),Zt(n,"symTitle_blocks",{message:"方塊"}),Zt(n,"symTitle_lines",{message:"線條"}),Zt(n,"symTitle_special",{message:"特殊"}),Zt(n,"symTitle_brackets",{message:"括弧"}),Zt(n,"symTitle_greek",{message:"希臘"}),Zt(n,"symTitle_phonetic",{message:"注音"}),Zt(n,"symTitle_math",{message:"數學"}),Zt(n,"symTitle_hiragana",{message:"平假名"}),Zt(n,"symTitle_katakana",{message:"片假名"}),Zt(n,"emoTitle",{message:"表情"}),Zt(n,"emoTitle_angry",{message:"生氣"}),Zt(n,"emoTitle_meh",{message:"酸民"}),Zt(n,"emoTitle_sweat",{message:"汗顏加三條線"}),Zt(n,"emoTitle_happy",{message:"開心"}),Zt(n,"emoTitle_other",{message:"其他"}),Zt(n,"liveHelperEnable",{message:"啟用"}),Zt(n,"liveHelperSpan",{message:"推文每"}),Zt(n,"liveHelperSpanSec",{message:"秒自動更新"}),Zt(n,"tooltip_antiIdleTime",{message:"輸入 0 可停用這功能。"}),Zt(n,"tooltip_fontFace",{message:"以逗號隔開，由欲套用的字型開始至較通用的字型。"}),n)},nn={};function on(e){if(nn[e])return nn[e].message;console.log("missing i18n "+e)}function rn(){nn=tn[function(){var e,t=Jt(navigator.languages||[navigator.language||navigator.userLanguage||""]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if((n=n.toLowerCase().replace("-","_"))in tn)return n}}catch(e){t.e(e)}finally{t.f()}return"en_us"}()]}function sn(e,t,n){return e?{timer:setInterval(t,n),cancel:function(){clearInterval(this.timer)}}:{timer:setTimeout(t,n),cancel:function(){clearTimeout(this.timer)}}}function an(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function cn(){var t=this;this.bbsWidth=0,this.bbsHeight=0,this.dbcsDetect=!0,this.highlightBG=2,this.charset="big5",this.middleButtonFunction=0,this.leftButtonFunction=!1,this.mouseWheelFunction1=1,this.mouseWheelFunction2=2,this.mouseWheelFunction3=3,this.fontFitWindowWidth=!1,this.bbsViewMargin=0,this.buf=null,this.bbscore=null,this.page=null,this.cursorX=0,this.cursorY=0,this.useEasyReadingMode=!1,this.easyReadingKeyDownKeyCode=0,this.curRow=0,this.curCol=0,this.actualRowIndex=0,this.lineWrap=78,this.blinkOn=!1,this.componentScreen={setCurrentHighlighted:function(){}},this.selection=null,this.input=document.getElementById("t"),this.bbsCursor=document.getElementById("cursor"),this.BBSWin=document.getElementById("BBSWindow"),this.enablePicPreview=!0,this.scaleX=1,this.scaleY=1;var e=document.createElement("style");document.head.appendChild(e),this.dynamicCss=e.sheet,this.innerBounds={width:0,height:0},this.firstGridOffset={top:0,left:0},this.enableNotifications=!0,this.titleTimer=null,this.notif=null,Object.defineProperty(this,"mainContainer",{get:function(){return $("#mainContainer")[0]}});var n=document.createElement("div");n.setAttribute("class","main"),this.BBSWin.appendChild(n),this.mainDisplay=n;e=document.createElement("div");e.setAttribute("id","easyReadingLastRow");n=" ".repeat(55);this.lastRowDivContent='<span align="left"><span class="q0 b7">'+n+'</span><span class="q1 b7">(y)</span><span class="q0 b7">回應</span><span class="q1 b7">(X%)</span><span class="q0 b7">推文</span><span class="q1 b7">(←)</span><span class="q0 b7">離開 </span> </span>',e.innerHTML=this.lastRowDivContent,this.lastRowDiv=e,this.BBSWin.appendChild(e);e=document.createElement("div");e.setAttribute("id","easyReadingReplyRow"),this.replyRowDivContent='<span align="left"></span>',e.innerHTML=this.replyRowDivContent,this.replyRowDiv=e,this.BBSWin.appendChild(e),this.mainDisplay.style.border="0px",this.setFontFace("MingLiu,monospace"),this._keyboard=new Ge(this.checkLeftDB.bind(this),this.checkCurDB.bind(this),this._send.bind(this)),this.input.addEventListener("compositionstart",function(e){t.onCompositionStart(e),t.bbscore.setInputAreaFocus()},!1),this.input.addEventListener("compositionend",function(e){t.onCompositionEnd(e),t.bbscore.setInputAreaFocus(),t.onInput(e)},!1);function o(){return!t.bbscore.modalShown&&!t.bbscore.contextMenuShown}function r(e){return 229!=e.keyCode&&(0!=e.keyCode&&(!(t.isComposition&&!e.ctrlKey&&!e.altKey)&&!e.metaKey))}addEventListener("keypress",function(e){o()&&r(e)&&t._keyboard.onKeyPress(e)}),addEventListener("keydown",function(e){o()&&r(e)&&(e.altKey||t.bbscore.onDisableLiveHelperModalState(),15<e.keyCode&&e.keyCode<19||t.onKeyDown(e))},!1),addEventListener("keyup",function(e){o()&&(15<e.keyCode&&e.keyCode<19||t.bbscore.setInputAreaFocus())},!1),this.input.addEventListener("input",function(e){t.onInput(e)},!1)}cn.prototype={onBlink:function(){this.blinkOn=!0,this.buf.queueUpdate(!0)},setBuf:function(e){this.buf=e},setConn:function(e){this.conn=e},_send:function(e){this.conn&&this.conn.send(e)},_convSend:function(e){this.conn&&this.conn.convSend(e)},setCore:function(e){this.bbscore=e},_isConnected:function(){return this.bbscore.isConnected()&&!!this.conn},setFontFace:function(e){this.fontFace=e,this.input.style.setProperty("font-family",this.fontFace,"important"),this.mainDisplay.style.setProperty("font-family",this.fontFace,"important"),this.lastRowDiv.style.setProperty("font-family",this.fontFace,"important"),this.replyRowDiv.style.setProperty("font-family",this.fontFace,"important"),document.getElementById("cursor").style.setProperty("font-family",this.fontFace,"important")},update:function(){this.redraw(!1)},redraw:function(e){for(var t,n,o,r,i,s=this.buf.cols,a=this.buf.rows,l=this.buf.lineChangeds,c=[],u=[],f=this.buf.lines,d=0;d<a;++d){this.chh;var p=f[this.curRow=d];if(!1!==l[d]||e){var h=!1;this.chw;for(this.curCol=0;this.curCol<s;++this.curCol)h=!0;h&&(h=!1,c.push(p),u.push(d),l[d]=!1)}}0<c.length&&(this.useEasyReadingMode?this.buf.startedEasyReading&&this.buf.easyReadingShowReplyText?this.updateEasyReadingReplyRow(c[c.length-1]):this.buf.startedEasyReading&&this.buf.easyReadingShowPushInitText?this.updateEasyReadingPushInitRow(c[c.length-1]):this.populateEasyReadingPage():(this.componentScreen=(t=f.slice(),n=this.chh,o=!1,r=this.enablePicPreview,i=this.mainDisplay,ReactDOM.render(React.createElement(Kt,{lines:t,forceWidth:n,enableLinkInlinePreview:o,enableLinkHoverPreview:r}),i)),this.setHighlightedRow(this.buf.nowHighlight)),this.buf.prevPageState=this.buf.pageState)},setHighlightedRow:function(e){console.log("setHighlightedRow: ".concat(e,", this.buf.highlightCursor:").concat(this.buf.highlightCursor)),this.buf.highlightCursor&&this.componentScreen.setCurrentHighlighted(e)},onInput:function(e){this.bbscore.modalShown||this.bbscore.contextMenuShown||(this.isComposition?this.updateInputBufferWidth():(this.useEasyReadingMode&&this.buf.startedEasyReading&&!this.buf.easyReadingShowReplyText&&!this.buf.easyReadingShowPushInitText&&229==this.easyReadingKeyDownKeyCode&&"X"!=e.target.value||!e.target.value||this.onTextInput(e.target.value),e.target.value=""))},onTextInput:function(e,t){t&&(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/\r/g,"\r")).indexOf("")<0&&0<this.lineWrap?function(e,t,n){for(var o=e.match(/\r|\n|([^\x00-\x7f][,.?!:;]?[\t ]*)|([\x00-\x08\x0b\x0c\x0e-\x1f\x21-\x7f]+[\t ]*)|[\t ]+/g),r="",i=0,s=0;s<o.length;++s){var a=o[s].replace(/[^\x00-\x7f]/g,"  ").replace(/\t/,"    ").replace(/\r|\n/,"").length;t<(i="\r"==o[s]||"\n"==o[s]?0:i)+a&&(r+=n,i=0),r+=o[s],i+=a}return r}(e,this.lineWrap,"\r"):e).replace(/\x1b/g,"")),this._convSend(e)},onKeyDown:function(e){if(!this.useEasyReadingMode||!this.buf.startedEasyReading||this.buf.easyReadingShowReplyText||this.buf.easyReadingShowPushInitText||(this.easyReadingKeyDownKeyCode=e.keyCode,this.bbscore.easyReading._onKeyDown(e),!e.defaultPrevented)){var t,n=!1;if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey)e.ctrlKey&&!e.altKey&&e.shiftKey&&"V"===e.key.toLowerCase()&&(this.bbscore.doPaste(),n=!0);else switch(e.key.toLowerCase()){case"c":window.getSelection().isCollapsed||(t=window.getSelection().toString().replace(/\u00a0/g," "),this.bbscore.doCopy(t),n=!0);break;case"a":this.bbscore.doSelectAll(),n=!0}else"End"===e.key&&(2!=this.bbscore.buf.pageState&&3!=this.bbscore.buf.pageState||!this.bbscore.endTurnsOnLiveUpdate||(this.bbscore.onToggleLiveHelperModalState(),n=!0));n?e.preventDefault():(this._keyboard.onKeyDown(e),e.defaultPrevented)}},setTermFontSize:function(e,t){var n=this.innerBounds;this.chw=e,this.chh=t;var e=this.chh+"px",t=this.chw*this.buf.cols+10+"px";this.mainDisplay.style.fontSize=e,this.mainDisplay.style.lineHeight=e,this.bbsCursor.style.fontSize=e,this.bbsCursor.style.lineHeight=e,this.mainDisplay.style.overflowX="hidden",this.mainDisplay.style.overflowY="auto",this.mainDisplay.style.textAlign="left",this.mainDisplay.style.width=t,this.mainDisplay.style.height=this.chh*this.buf.rows+10+"px",this.lastRowDiv.style.fontSize=e,this.lastRowDiv.style.width=t,this.replyRowDiv.style.fontSize=e,this.replyRowDiv.style.width=t,this.chh*this.buf.rows<n.height?this.mainDisplay.style.marginTop=(n.height-this.chh*this.buf.rows)/2+this.bbsViewMargin+"px":this.mainDisplay.style.marginTop=this.bbsViewMargin+"px",this.fontFitWindowWidth?(this.scaleX=Math.floor(n.width/(this.chw*this.buf.cols+10)*100)/100,this.scaleY=Math.floor(n.height/(this.chh*this.buf.rows)*100)/100):(this.scaleX=1,this.scaleY=1);t="none";1!=this.scaleX||1!=this.scaleY?(t="scale("+this.scaleX+","+this.scaleY+")",n="left",this.mainDisplay.style.webkitTransformOriginX=n="center",this.lastRowDiv.style.webkitTransformOriginX=n,this.replyRowDiv.style.webkitTransformOriginX=n,this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"):(this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""),this.mainDisplay.style.webkitTransform=t,this.lastRowDiv.style.webkitTransform=t,this.replyRowDiv.style.webkitTransform=t,this.firstGridOffset=this.bbscore.getFirstGridOffsets(),this.updateReverseScaleCss(),this.updateCursorPos()},updateReverseScaleCss:function(){for(var e="img.hyperLinkPreview { -webkit-transform: scale("+Math.floor(1/this.scaleX*100)/100+","+Math.floor(1/this.scaleY*100)/100+"); }";0<this.dynamicCss.cssRules.length;)this.dynamicCss.deleteRule(0);this.dynamicCss.insertRule(e,this.dynamicCss.cssRules.length)},convertMN2XYEx:function(e,t){var n=this.innerBounds.width,o=this.innerBounds.height,o=1!=this.scaleX||1!=this.scaleY?[(n-(this.chw*this.buf.cols+10)*this.scaleX)/2+this.bbsViewMargin,(o-this.chh*this.buf.rows*this.scaleY)/2+this.bbsViewMargin]:[this.firstGridOffset.left,this.firstGridOffset.top];return[o[0]+e*this.chw*this.scaleX,o[1]+t*this.chh*this.scaleY]},checkLeftDB:function(){if(this.dbcsDetect&&1<this.buf.cur_x&&this.buf.lines[this.buf.cur_y][this.buf.cur_x-2].isLeadByte)return!0;return!1},checkCurDB:function(){if(this.dbcsDetect&&this.buf.lines[this.buf.cur_y][this.buf.cur_x].isLeadByte)return!0;return!1},updateCursorPos:function(){var e,t,n=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y);this.buf.cur_y>=this.buf.rows||this.buf.cur_x>=this.buf.cols||(e=this.buf.lines[this.buf.cur_y][this.buf.cur_x].getBg(),1==this.scaleX&&1==this.scaleY?(this.bbsCursor.style.webkitTransform="none",this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""):(t="scale("+this.scaleX+","+this.scaleY+")",this.mainDisplay.style.webkitTransform=t,this.lastRowDiv.style.webkitTransform=t,this.replyRowDiv.style.webkitTransform=t,this.bbsCursor.style.webkitTransform=t,this.bbsCursor.style.webkitTransformOriginX="left",this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"),this.bbsCursor.style.left=n[0]+"px",this.bbsCursor.style.top=n[1]-this.scaleY+"px",this.bbsCursor.style.color=Gt[e],this.updateInputBufferPos())},updateInputBufferPos:function(){var e,t,n;"1"==this.input.getAttribute("bshow")&&(e=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y),this.input.style.opacity="1",this.input.style.border="double",this.input.style.fontSize=this.chh-4+"px",this.input.style.height=this.chh+"px",t=(n=this.innerBounds).height,n=n.width,t<e[1]+parseFloat(this.input.style.height)+this.chh?this.input.style.top=e[1]-parseFloat(this.input.style.height)-this.chh+4+"px":this.input.style.top=e[1]+this.chh+"px",n<e[0]+parseFloat(this.input.style.width)?this.input.style.left=n-parseFloat(this.input.style.width)-10+"px":this.input.style.left=e[0]+"px")},updateInputBufferWidth:function(){var e=ct(this.input.value).length,t=this.chh/2-2,n=t*e;this.input.style.width=n+"px";e=this.innerBounds;parseInt(this.input.style.left)+n+2*t>=e.width&&(this.input.style.left=e.width-n-2*t+"px")},onCompositionStart:function(e){this.input.setAttribute("bshow","1"),this.updateInputBufferPos(),this.isComposition=!0},onCompositionEnd:function(e){this.input.setAttribute("bshow","0"),this.input.style.border="none",this.input.style.width="1px",this.input.style.height="1px",this.input.style.left="-100000px",this.input.style.top="-100000px",this.input.style.opacity="0",this.isComposition=!1},fontResize:function(){var e=this.buf?this.buf.cols:80,t=this.buf?this.buf.rows:24,n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height;if(0!==n&&0!==o){n-=10;var r,i,s=4;for(this.chh,this.chw;r=2*++s*t,i=s*e,r<=o&&i<=n;);--s,this.fixedResize(2*s)}},fixedResize:function(e){var t=e;this.setTermFontSize(e/2,t);for(var n=document.querySelectorAll(".wpadding"),o=0;o<n.length;++o)n[o].style.width=t+"px"},calcTermSizeFromFont:function(e){e=2*Math.floor((e+1)/2);var t=this.bbsWidth||this.innerBounds.width,n=this.bbsHeight||this.innerBounds.height;return{cols:Math.max(80,Math.min(200,Math.floor(2*(t-10)/e))),rows:Math.max(24,Math.min(100,Math.floor(n/e)))}},calcFontSizeFromTerm:function(e,t){e=Math.max(80,Math.min(200,e)),t=Math.max(24,Math.min(100,t));var n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height,e=Math.floor(2*(n-10)/e),t=Math.floor(o/t);return Math.min(e,t)},getRowLineElement:function(e){for(var t=e;t&&t!=t.parentNode;t=t.parentNode)if(t instanceof Element&&"bbsline"==t.getAttribute("data-type"))return t;return null},countCol:function(r,i){var e=this.getRowLineElement(r);if(!e)return{row:0,col:0};var s=0;return function e(t){if(t==r)return s+=ct(t.textContent.substring(0,i)).length,!1;if("#text"==t.nodeName)return s+=ct(t.textContent).length,!0;var n,o=an(t.childNodes);try{for(o.s();!(n=o.n()).done;)if(!e(n.value))return!1}catch(e){o.e(e)}finally{o.f()}return!0}(e),{row:parseInt(e.getAttribute("data-row")),col:s}},getSelectionColRow:function(){var e=window.getSelection().getRangeAt(0);return{start:this.countCol(e.startContainer,e.startOffset),end:this.countCol(e.endContainer,e.endOffset)}},showWaterballNotification:function(){var e,t,n;this.enableNotifications&&(e=this.bbscore,t=e.waterball.userId+" "+on("notification_said"),this.titleTimer&&(this.titleTimer.cancel(),this.titleTimer=null),this.titleTimer=sn(!0,function(){document.title==e.connectedUrl.site?document.title=t+" "+e.waterball.message:document.title=e.connectedUrl.site},1500),n={icon:o(28),body:e.waterball.message,tag:e.waterball.userId},this.notif=new Notification(t,n),this.notif.onclick=function(){window.focus()})},populateEasyReadingPage:function(){if(3==this.buf.pageState&&3==this.buf.prevPageState){this.mainContainer.style.paddingBottom="1em";var e=ft(this.buf.getRowText(this.buf.rows-1,0,this.buf.cols));if(e){this.buf.pageLines.length;var t=1,n=!1;if(e.pageIndex==e.pageTotal&&100==e.pagePercent||e.rowIndexStart!=this.actualRowIndex){for(var n=e.rowIndexStart!=this.actualRowIndex,o=0,r=e.rowIndexStart;r<this.actualRowIndex+1;++r)o+=this.buf.pageWrappedLines[r];t=o}for(r=t;r<this.buf.rows-1;++r)0<r&&this.buf.isTextWrappedRow(r-1)?(this.buf.pageWrappedLines[this.actualRowIndex]+=1,n||r!=t||t++):this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.appendRows(this.buf.lines.slice(t,-1),!0),this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(t,-1))))}this.buf.prevPageState=3}else{if(this.mainContainer.style.paddingBottom="",this.actualRowIndex=0,this.buf.pageWrappedLines=[],3==this.buf.pageState){this.buf.getRowText(this.buf.rows-1,0,this.buf.cols);for(r=0;r<this.buf.rows-1;++r)4==r||0<r&&this.buf.isTextWrappedRow(r-1)?this.buf.pageWrappedLines[this.actualRowIndex]+=1:this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.clearRows(),this.appendRows(this.buf.lines.slice(0,-1),!0),this.lastRowDiv.innerHTML=this.lastRowDivContent,this.lastRowDiv.style.display="block",this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(0,-1))))}else this.hideEasyReading();this.buf.prevPageState=this.buf.pageState}},clearRows:function(){this.mainContainer.innerHTML=""},appendRows:function(e,t){for(var n in e){var o=e[n],n=document.createElement("span");n.setAttribute("type","bbsrow"),n.setAttribute("srow",this.mainContainer.childNodes.length),this.mainContainer.appendChild(n),qt(o,this.mainContainer.childNodes.length,this.chh,t,n)}},renderSingleRow:function(e,t){var n=document.createElement("span");return n.setAttribute("type","bbsrow"),n.setAttribute("srow","0"),e.appendChild(n),qt(t,0,this.chh,!1,n)},hideEasyReading:function(){this.lastRowDiv.style.display="",this.replyRowDiv.style.display="",this.buf.pageLines=[],this.clearRows(),this.appendRows(this.buf.lines,!1)},updateEasyReadingReplyRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.replyRowDiv.childNodes[0],t),this.replyRowDiv.style.display="block"},updateEasyReadingPushInitRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.lastRowDiv.childNodes[0],t)},setSingleChild:function(e,t){for(;0<e.childNodes.length;)e.removeChild(e.lastChild);e.appendChild(t)}};var un="ÿ";function fn(e){this.socket=e,this.socket.addEventListener("open",this._onOpen.bind(this)),this.socket.addEventListener("data",this._onDataAvailable.bind(this)),this.socket.addEventListener("close",this._onClose.bind(this)),this.state=0,this.iac_sb="",this.termType="VT100"}function dn(e){this._conn=new WebSocket(e),this._conn.binaryType="arraybuffer",this._conn.addEventListener("open",this._onOpen.bind(this)),this._conn.addEventListener("message",this._onMessage.bind(this)),this._conn.addEventListener("error",this._onError.bind(this)),this._conn.addEventListener("close",this._onClose.bind(this))}Xe.mixin(fn.prototype),fn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},fn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},fn.prototype._onDataAvailable=function(e){for(var t=e.detail.data,n="",o=t.length;0<o;){var r=t;o-=r.length;for(var i=r.length,s=0;s<i;++s){var a,l=r[s];switch(this.state){case 0:l==un?(n&&(this._dispatchData(n),n=""),this.state=1):n+=l;break;case 1:switch(l){case"û":this.state=2;break;case"ü":this.state=3;break;case"ý":this.state=4;break;case"þ":this.state=5;break;case"ú":this.state=6;break;default:this.state=0}break;case 2:switch(l){case"":case"":this._sendRaw("ÿý"+l);break;default:this._sendRaw("ÿþ"+l)}this.state=0;break;case 4:switch(l){case"":this._sendRaw("ÿû"+l);break;case"":this.dispatchEvent(new CustomEvent("doNaws"));break;default:this._sendRaw("ÿü"+l)}this.state=0;break;case 5:case 3:this.state=0;break;case 6:if(this.iac_sb+=l,"ÿð"==this.iac_sb.slice(-2)){""===this.iac_sb[0]&&(a="ÿú\0"+this.termType+un+"ð",this._sendRaw(a)),this.state=0,this.iac_sb="";break}}}n&&(this._dispatchData(n),n="")}},fn.prototype._dispatchData=function(e){this.dispatchEvent(new CustomEvent("data",{detail:{data:e}}))},fn.prototype.send=function(e){this._sendRaw(e)},fn.prototype._sendRaw=function(e){e&&this.socket.send(e)},fn.prototype.convSend=function(e){e=ct(e);e&&(e=function(e){for(var t,n="",o=new RegExp("\\[(([0-9]+)?;)+50m","g"),r=[];t=o.exec(e);)r.push(t.index+t[0].length-4);if(0===r.length)return e;for(var i=0,s=0;s<r.length;++s){var a=r[s],l=e.substring(i,a).lastIndexOf("")+i;n+=e.substring(i,l)+"\0"+e.substring(a+4,a+5)+e.substring(l,a)+"m",i=a+5}return n+=e.substring(i)}(e),this._sendRaw(e))},fn.prototype.sendWillNaws=function(e,t){this._sendRaw("ÿû")},fn.prototype.sendNaws=function(e,t){t=String.fromCharCode(Math.floor(e/256),e%256,Math.floor(t/256),t%256).replace(/(\xff)/g,"ÿÿ");this._sendRaw("ÿú"+t+un+"ð")},Xe.mixin(dn.prototype),dn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},dn.prototype._onMessage=function(e){e=new Uint8Array(e.data);this.dispatchEvent(new CustomEvent("data",{detail:{data:String.fromCharCode.apply(String,e)}}))},dn.prototype._onError=function(e){this.dispatchEvent(new CustomEvent("error"))},dn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},dn.prototype.send=function(e){for(var t=0;t<e.length;t+=1e3){var n=e.substring(t,t+1e3),n=new Uint8Array(n.split("").map(function(e){return e.charCodeAt(0)}));this._conn.send(n.buffer)}},dn.prototype.close=function(){this._conn.close()};o(26);function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e,t){e.prototype=Object.create(t.prototype),pn(e.prototype.constructor=e,t)}function mn(n){return function(e){var t=Object(te.createFactory)(e);return function(e){return t(n(e))}}}function yn(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=t(e[n],n));return o}function gn(i){return function(e){var t=Object(te.createFactory)(e);return function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))||this).handlers=yn("function"==typeof i?i(t.props):i,function(e){return function(){return e(t.props).apply(void 0,arguments)}}),t}return hn(e,r),e.prototype.render=function(){return t(Y({},this.props,this.handlers))},e}(te.Component)}}function bn(r,s){return function(e){var t=Object(te.createFactory)(e);return function(o){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=o.call.apply(o,[this].concat(t))||this).state="function"==typeof r?r(i.props):r,i.stateUpdaters=yn(s,function(r){return function(n){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];n&&"function"==typeof n.persist&&n.persist(),i.setState(function(e,t){return r(e,t).apply(void 0,[n].concat(o))})}}),i}return hn(e,o),e.prototype.render=function(){return t(Y({},this.props,this.state,this.stateUpdaters))},e}(te.Component)}}function vn(o){return function(e){var n=Object(te.createFactory)(e);var t=function(e){function t(){return e.apply(this,arguments)||this}return hn(t,e),t.prototype.render=function(){return n(Y({},this.props,this.state))},t}(te.Component);return Object.keys(o).forEach(function(e){return t.prototype[e]=o[e]}),t}}var wn=o(19);o(81),o(57),o(42);Object.keys,te.Component;function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})}var xn={fromESObservable:null,toESObservable:null},ve={fromESObservable:function(e){return"function"==typeof xn.fromESObservable?xn.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof xn.toESObservable?xn.toESObservable(e):e}},En=function(){};function Cn(e,t){return void 0!==e[t]}function Sn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kn(i,l,s){void 0===s&&(s=[]);var e=i.displayName||i.name||"Component",t=!!(t=i)&&("function"!=typeof t||t.prototype&&t.prototype.isReactComponent),c=Object.keys(l),a=c.map(Sn);!t&&s.length&&Ce()(!1);var n,o=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(a=r.call.apply(r,[this].concat(t))||this).handlers=Object.create(null),c.forEach(function(i){var s=l[i];a.handlers[s]=function(t){if(a.props[s]){var e;a._notifying=!0;for(var n=arguments.length,o=new Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(e=a.props)[s].apply(e,[t].concat(o)),a._notifying=!1}a.unmounted||a.setState(function(e){var e=e.values;return{values:Y(Object.create(null),e,((e={})[i]=t,e))}})}}),s.length&&(a.attachRef=function(e){a.inner=e});var o=Object.create(null);return c.forEach(function(e){o[e]=a.props[Sn(e)]}),a.state={values:o,prevProps:{}},a}hn(e,r);var t=e.prototype;return t.shouldComponentUpdate=function(){return!this._notifying},e.getDerivedStateFromProps=function(t,e){var n=e.values,o=e.prevProps,r={values:Y(Object.create(null),n),prevProps:{}};return c.forEach(function(e){r.prevProps[e]=t[e],!Cn(t,e)&&Cn(o,e)&&(r.values[e]=t[Sn(e)])}),r},t.componentWillUnmount=function(){this.unmounted=!0},t.render=function(){var n=this,e=this.props,t=e.innerRef,o=V(e,["innerRef"]);a.forEach(function(e){delete o[e]});var r={};return c.forEach(function(e){var t=n.props[e];r[e]=void 0!==t?t:n.state.values[e]}),ne.a.createElement(i,Y({},o,r,this.handlers,{ref:t||this.attachRef}))},e}(ne.a.Component);Object(wn.polyfill)(o),o.displayName="Uncontrolled("+e+")",o.propTypes=Y({innerRef:function(){}},(n={},Object.keys(l).forEach(function(e){n[Sn(e)]=En}),n)),s.forEach(function(t){o.prototype[t]=function(){var e;return(e=this.inner)[t].apply(e,arguments)}});e=o;return ne.a.forwardRef&&((e=ne.a.forwardRef(function(e,t){return ne.a.createElement(o,Y({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=o.propTypes),e.ControlledComponent=i,e.deferControlTo=function(e,t,n){return kn(e,Y({},l,t=void 0===t?{}:t),n)},e}var On=u.a.oneOfType([u.a.string,u.a.number]),M={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,o=new Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=On.apply(void 0,[e].concat(o)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:u.a.func,onSelect:u.a.func,activeKey:u.a.any},ge={$bs_tabContainer:u.a.shape({activeKey:u.a.any,onSelect:u.a.func.isRequired,getTabId:u.a.func.isRequired,getPaneId:u.a.func.isRequired})},me=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,o=e.generateChildId,r=e.id,i=o||function(e,t){return r?r+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return i(e,"tab")},getPaneId:function(e){return i(e,"pane")}}}},n.render=function(){var e=this.props,t=e.children,e=F(e,["children"]);return delete e.generateChildId,delete e.onSelect,delete e.activeKey,ne.a.cloneElement(ne.a.Children.only(t),e)},t}(ne.a.Component);me.propTypes=M,me.childContextTypes=ge;c=kn(me,{activeKey:"onSelect"}),n={componentClass:f.a,animation:u.a.oneOfType([u.a.bool,f.a]),mountOnEnter:u.a.bool,unmountOnExit:u.a.bool},ve={$bs_tabContainer:u.a.shape({activeKey:u.a.any})},M={$bs_tabContent:u.a.shape({bsClass:u.a.string,animation:u.a.oneOfType([u.a.bool,f.a]),activeKey:u.a.any,mountOnEnter:u.a.bool,unmountOnExit:u.a.bool,onPaneEnter:u.a.func.isRequired,onPaneExited:u.a.func.isRequired,exiting:u.a.bool.isRequired})},ge=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handlePaneEnter=t.handlePaneEnter.bind(de(de(t))),t.handlePaneExited=t.handlePaneExited.bind(de(de(t))),t.state={activeKey:null,activeChild:null},t}K(e,n);var t=e.prototype;return t.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,o=e.mountOnEnter,r=e.unmountOnExit,i=this.state.activeKey,e=this.getContainerActiveKey();return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=i?i:e,mountOnEnter:o,unmountOnExit:r,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:null!=i&&i!==e}}},t.UNSAFE_componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.componentWillUnmount=function(){this.isUnmounted=!0},t.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},t.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}})},t.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=Le(F(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),e=o[0],o=o[1];return ne.a.createElement(t,L({},o,{className:q()(n,Pe(e,"content"))}))},e}(ne.a.Component);ge.propTypes=n,ge.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},ge.contextTypes=ve,ge.childContextTypes=M;me=le("tab",ge),o(10),n={eventKey:u.a.any,animation:u.a.oneOfType([u.a.bool,f.a]),id:u.a.string,"aria-labelledby":u.a.string,bsClass:u.a.string,onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func,mountOnEnter:u.a.bool,unmountOnExit:u.a.bool},ve={$bs_tabContainer:u.a.shape({getTabId:u.a.func,getPaneId:u.a.func}),$bs_tabContent:u.a.shape({bsClass:u.a.string,animation:u.a.oneOfType([u.a.bool,f.a]),activeKey:u.a.any,mountOnEnter:u.a.bool,unmountOnExit:u.a.bool,onPaneEnter:u.a.func.isRequired,onPaneExited:u.a.func.isRequired,exiting:u.a.bool.isRequired})},M={$bs_tabContainer:u.a.oneOf([null])},ge=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handleEnter=t.handleEnter.bind(de(de(t))),t.handleExited=t.handleExited.bind(de(de(t))),t.in=!1,t}K(e,n);var t=e.prototype;return t.getChildContext=function(){return{$bs_tabContainer:null}},t.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.componentWillUnmount=function(){this.in&&this.handleExited()},t.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.isActive=function(){var e=this.context.$bs_tabContent,e=e&&e.activeKey;return this.props.eventKey===e},t.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.render=function(){var e=this.props,t=e.eventKey,n=e.className,o=e.onEnter,r=e.onEntering,i=e.onEntered,s=e.onExit,a=e.onExiting,l=e.onExited,c=e.mountOnEnter,u=e.unmountOnExit,f=F(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),d=this.context,p=d.$bs_tabContent,h=d.$bs_tabContainer,m=Le(f,["animation"]),e=m[0],d=m[1],f=this.isActive(),m=this.getAnimation(),c=null!=c?c:p&&p.mountOnEnter,u=null!=u?u:p&&p.unmountOnExit;if(!f&&!m&&u)return null;m=!0===m?fe:m||null;p&&(e.bsClass=Pe(p,"pane"));e=L({},Me(e),{active:f});h&&(d.id=h.getPaneId(t),d["aria-labelledby"]=h.getTabId(t));e=ne.a.createElement("div",L({},d,{role:"tabpanel","aria-hidden":!f,className:q()(n,e)}));if(m){p=p&&p.exiting;return ne.a.createElement(m,{in:f&&!p,onEnter:Ae(this.handleEnter,o),onEntering:r,onEntered:i,onExit:s,onExiting:a,onExited:Ae(this.handleExited,l),mountOnEnter:c,unmountOnExit:u},e)}return e},e}(ne.a.Component);ge.propTypes=n,ge.contextTypes=ve,ge.childContextTypes=M;var Tn=le("tab-pane",ge),M=L({},Tn.propTypes,{disabled:u.a.bool,title:u.a.node,tabClassName:u.a.string}),ge=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=L({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,ne.a.createElement(Tn,e)},t}(ne.a.Component);ge.propTypes=M,ge.Container=c,ge.Content=me,ge.Pane=Tn;var Pn=ge,M=o(6),Mn=o.n(M),c=o(12),me=o.n(c);var Rn={map:function(e,t,n){var o=0;return ne.a.Children.map(e,function(e){return ne.a.isValidElement(e)?t.call(n,e,o++):e})},forEach:function(e,t,n){var o=0;ne.a.Children.forEach(e,function(e){ne.a.isValidElement(e)&&t.call(n,e,o++)})},count:function(e){var t=0;return ne.a.Children.forEach(e,function(e){ne.a.isValidElement(e)&&++t}),t},find:function(e,t,n){var o,r=0;return ne.a.Children.forEach(e,function(e){o||ne.a.isValidElement(e)&&t.call(n,e,r++)&&(o=e)}),o},filter:function(e,t,n){var o=0,r=[];return ne.a.Children.forEach(e,function(e){ne.a.isValidElement(e)&&t.call(n,e,o++)&&r.push(e)}),r},every:function(e,t,n){var o=0,r=!0;return ne.a.Children.forEach(e,function(e){r&&ne.a.isValidElement(e)&&(t.call(n,e,o++)||(r=!1))}),r},some:function(e,t,n){var o=0,r=!1;return ne.a.Children.forEach(e,function(e){r||ne.a.isValidElement(e)&&t.call(n,e,o++)&&(r=!0)}),r},toArray:function(e){var t=[];return ne.a.Children.forEach(e,function(e){ne.a.isValidElement(e)&&t.push(e)}),t}},ge={activeKey:u.a.any,activeHref:u.a.string,stacked:u.a.bool,justified:me()(u.a.bool,function(e){var t=e.justified,e=e.navbar;return t&&e?Error("justified navbar `Nav`s are not supported"):null}),onSelect:u.a.func,role:u.a.string,navbar:u.a.bool,pullRight:u.a.bool,pullLeft:u.a.bool},M={$bs_navbar:u.a.shape({bsClass:u.a.string,onSelect:u.a.func}),$bs_tabContainer:u.a.shape({activeKey:u.a.any,onSelect:u.a.func.isRequired,getTabId:u.a.func.isRequired,getPaneId:u.a.func.isRequired})},c=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var t,n,e,o,r=this;this._needsRefocus&&(this._needsRefocus=!1,o=this.props.children,e=this.getActiveProps(),t=e.activeKey,n=e.activeHref,e=Rn.find(o,function(e){return r.isActive(e,t,n)}),o=Rn.toArray(o).indexOf(e),(o=(e=oe.a.findDOMNode(this).children)&&e[o])&&o.firstChild&&o.firstChild.focus())},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,o=Rn.filter(n,function(e){return null!=e.props.eventKey&&!e.props.disabled}),r=this.getActiveProps(),i=r.activeKey,s=r.activeHref,n=Rn.find(n,function(e){return t.isActive(e,i,s)}),n=o.indexOf(n);if(-1===n)return o[0];n+=e,e=o.length;return e<=n?n=0:n<0&&(n=e-1),o[n]},n.getTabProps=function(e,t,n,o,r){var i=this;if(!t&&"tablist"!==n)return null;var s=e.props,a=s.id,l=s["aria-controls"],c=s.eventKey,u=s.role,e=s.onKeyDown,s=s.tabIndex;return t&&(a=t.getTabId(c),l=t.getPaneId(c)),"tablist"===n&&(u=u||"tab",e=Ae(function(e){return i.handleTabKeyDown(r,e)},e),s=o?s:-1),{id:a,role:u,onKeyDown:e,"aria-controls":l,tabIndex:s}},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case Mn.a.codes.left:case Mn.a.codes.up:n=this.getNextActiveChild(-1);break;case Mn.a.codes.right:case Mn.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){e=e.props;return!!(e.active||null!=t&&e.eventKey===t||n&&e.href===n)||e.active},n.render=function(){var o=this,e=this.props,t=e.stacked,n=e.justified,r=e.onSelect,i=e.role,s=e.navbar,a=e.pullRight,l=e.pullLeft,c=e.className,u=e.children,f=F(e,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),d=this.context.$bs_tabContainer,p=i||(d?"tablist":null),e=this.getActiveProps(),h=e.activeKey,m=e.activeHref;delete f.activeKey,delete f.activeHref;var y,i=De(f),e=i[0],f=i[1],i=L({},Me(e),((i={})[Pe(e,"stacked")]=t,i[Pe(e,"justified")]=n,i)),g=null!=s?s:this.context.$bs_navbar,b=g?(i[Pe(b=this.context.$bs_navbar||{bsClass:"navbar"},"nav")]=!0,y=Pe(b,"right"),Pe(b,"left")):(y="pull-right","pull-left");return i[y]=a,i[b]=l,ne.a.createElement("ul",L({},f,{role:p,className:q()(c,i)}),Rn.map(u,function(e){var t=o.isActive(e,h,m),n=Ae(e.props.onSelect,r,g&&g.onSelect,d&&d.onSelect);return Object(te.cloneElement)(e,L({},o.getTabProps(e,d,p,t,n),{active:t,activeKey:h,activeHref:m,onSelect:n}))}))},t}(ne.a.Component);c.propTypes=ge,c.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},c.contextTypes=M;var Nn=le("nav",ue(["tabs","pills"],c)),ge={href:u.a.string,onClick:u.a.func,onKeyDown:u.a.func,disabled:u.a.bool,role:u.a.string,tabIndex:u.a.oneOfType([u.a.number,u.a.string]),componentClass:f.a};function Dn(e){return!e||"#"===e.trim()}M=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handleClick=t.handleClick.bind(de(de(t))),t.handleKeyDown=t.handleKeyDown.bind(de(de(t))),t}K(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,o=t.href,t=t.onClick;(n||Dn(o))&&e.preventDefault(),n?e.stopPropagation():t&&t(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,o=e.onKeyDown,e=F(e,["componentClass","disabled","onKeyDown"]);return Dn(e.href)&&(e.role=e.role||"button",e.href=e.href||"#"),n&&(e.tabIndex=-1,e.style=L({pointerEvents:"none"},e.style)),ne.a.createElement(t,L({},e,{onClick:this.handleClick,onKeyDown:Ae(this.handleKeyDown,o)}))},e}(ne.a.Component);M.propTypes=ge,M.defaultProps={componentClass:"a"};var Ln=M,c={active:u.a.bool,disabled:u.a.bool,role:u.a.string,href:u.a.string,onClick:u.a.func,onSelect:u.a.func,eventKey:u.a.any},ge=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handleClick=t.handleClick.bind(de(de(t))),t}K(e,n);var t=e.prototype;return t.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,o=e.onClick,r=e.className,i=e.style,e=F(e,["active","disabled","onClick","className","style"]);return delete e.onSelect,delete e.eventKey,delete e.activeKey,delete e.activeHref,e.role?"tab"===e.role&&(e["aria-selected"]=t):"#"===e.href&&(e.role="button"),ne.a.createElement("li",{role:"presentation",className:q()(r,{active:t,disabled:n}),style:i},ne.a.createElement(Ln,L({},e,{disabled:n,onClick:Ae(o,this.handleClick)})))},e}(ne.a.Component);ge.propTypes=c,ge.defaultProps={active:!1,disabled:!1};var An=ge,M=o(41),c=o.n(M),ge={active:u.a.bool,disabled:u.a.bool,block:u.a.bool,onClick:u.a.func,componentClass:f.a,href:u.a.string,type:u.a.oneOf(["button","reset","submit"])},M=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return ne.a.createElement(Ln,L({},e,{className:q()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,e=F(e,["componentClass"]);return ne.a.createElement(n||"button",L({},e,{type:e.type||"button",className:t}))},n.render=function(){var e=this.props,t=e.active,n=e.block,o=e.className,r=De(F(e,["active","block","className"])),e=r[0],r=r[1],t=L({},Me(e),((t={active:t})[Pe(e,"block")]=n,t)),t=q()(o,t);return r.href?this.renderAnchor(r,t):this.renderButton(r,t)},t}(ne.a.Component);M.propTypes=ge,M.defaultProps={active:!1,block:!1,disabled:!1};var Bn=le("btn",pe([N,A,I],ue(c()(j).concat([z,G,Oe]),z,M))),ge={inline:u.a.bool,disabled:u.a.bool,title:u.a.string,validationState:u.a.oneOf(["success","warning","error",null]),inputRef:u.a.func},I=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,o=e.validationState,r=e.inputRef,i=e.className,s=e.style,a=e.title,l=e.children,c=De(F(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),e=c[0],c=c[1],r=ne.a.createElement("input",L({},c,{ref:r,type:"checkbox",disabled:n}));if(t){t=((t={})[Pe(e,"inline")]=!0,t.disabled=n,t);return ne.a.createElement("label",{className:q()(i,t),style:s,title:a},r,l)}n=L({},Me(e),{disabled:n});return o&&(n["has-"+o]=!0),ne.a.createElement("div",{className:q()(i,n),style:s},ne.a.createElement("label",{title:a},r,l))},t}(ne.a.Component);I.propTypes=ge,I.defaultProps={inline:!1,disabled:!1,title:""};var Fn=le("checkbox",I),G={controlId:u.a.string,validationState:u.a.oneOf(["success","warning","error",null])},Oe={$bs_formGroup:u.a.object.isRequired},z=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},n.hasFeedback=function(e){var t=this;return Rn.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},n.render=function(){var e=this.props,t=e.validationState,n=e.className,o=e.children,r=Le(F(e,["validationState","className","children"]),["controlId"]),e=r[0],r=r[1],e=L({},Me(e),{"has-feedback":this.hasFeedback(o)});return t&&(e["has-"+t]=!0),ne.a.createElement("div",L({},r,{className:q()(n,e)}),o)},t}(ne.a.Component);z.propTypes=G,z.childContextTypes=Oe;var In=le("form-group",pe([N,A],z)),M={htmlFor:u.a.string,srOnly:u.a.bool},ge={$bs_formGroup:u.a.object},I=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,o=n.htmlFor,r=void 0===o?t:o,e=n.srOnly,t=n.className,o=De(F(n,["htmlFor","srOnly","className"])),n=o[0],o=o[1],e=L({},Me(n),{"sr-only":e});return ne.a.createElement("label",L({},o,{htmlFor:r,className:q()(t,e)}))},t}(ne.a.Component);I.propTypes=M,I.defaultProps={srOnly:!1},I.contextTypes=ge;var Hn=le("control-label",I),G=o(87),jn=o.n(G),Oe=o(11),Un=o.n(Oe),z=o(59),Wn=o.n(z),M=L({},Wn.a.propTypes,{show:u.a.bool,rootClose:u.a.bool,onHide:u.a.func,animation:u.a.oneOfType([u.a.bool,f.a]),onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func,placement:u.a.oneOf(["top","right","bottom","left"])}),ge={animation:fe,rootClose:!1,show:!1,placement:"right"},I=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.animation,n=e.children,e=F(e,["animation","children"]),t=!0===t?fe:t||null,n=t?n:Object(te.cloneElement)(n,{className:q()(n.props.className,"in")});return ne.a.createElement(Wn.a,L({},e,{transition:t}),n)},t}(ne.a.Component);I.propTypes=M,I.defaultProps=ge;var Kn=I;function zn(e,t){return jn()(t)?0<=t.indexOf(e):e===t}G=u.a.oneOf(["click","hover","focus"]),Oe=L({},Kn.propTypes,{trigger:u.a.oneOfType([G,u.a.arrayOf(G)]),delay:u.a.number,delayShow:u.a.number,delayHide:u.a.number,defaultOverlayShown:u.a.bool,overlay:u.a.node.isRequired,onBlur:u.a.func,onClick:u.a.func,onFocus:u.a.func,onMouseOut:u.a.func,onMouseOver:u.a.func,target:u.a.oneOf([null]),onHide:u.a.oneOf([null]),show:u.a.oneOf([null])}),z=function(o){function e(e,t){var n=o.call(this,e,t)||this;return n.handleToggle=n.handleToggle.bind(de(de(n))),n.handleDelayedShow=n.handleDelayedShow.bind(de(de(n))),n.handleDelayedHide=n.handleDelayedHide.bind(de(de(n))),n.handleHide=n.handleHide.bind(de(de(n))),n.handleMouseOver=function(e){return n.handleMouseOverOut(n.handleDelayedShow,e,"fromElement")},n.handleMouseOut=function(e){return n.handleMouseOverOut(n.handleDelayedHide,e,"toElement")},n._mountNode=null,n.state={show:e.defaultOverlayShown},n}K(e,o);var t=e.prototype;return t.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.componentDidUpdate=function(){this.renderOverlay()},t.componentWillUnmount=function(){oe.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.handleDelayedHide=function(){var e,t=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);this.state.show&&null==this._hoverHideDelay&&((e=null!=this.props.delayHide?this.props.delayHide:this.props.delay)?this._hoverHideDelay=setTimeout(function(){t._hoverHideDelay=null,t.hide()},e):this.hide())},t.handleDelayedShow=function(){var e,t=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);this.state.show||null!=this._hoverShowDelay||((e=null!=this.props.delayShow?this.props.delayShow:this.props.delay)?this._hoverShowDelay=setTimeout(function(){t._hoverShowDelay=null,t.show()},e):this.show())},t.handleHide=function(){this.hide()},t.handleMouseOverOut=function(e,t,n){var o=t.currentTarget,n=t.relatedTarget||t.nativeEvent[n];n&&n===o||Un()(o,n)||e(t)},t.handleToggle=function(){this.state.show?this.hide():this.show()},t.hide=function(){this.setState({show:!1})},t.makeOverlay=function(e,t){return ne.a.createElement(Kn,L({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.show=function(){this.setState({show:!0})},t.renderOverlay=function(){oe.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.render=function(){var e=this.props,t=e.trigger,n=e.overlay,o=e.children,r=e.onBlur,i=e.onClick,s=e.onFocus,a=e.onMouseOut,l=e.onMouseOver,c=F(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete c.delay,delete c.delayShow,delete c.delayHide,delete c.defaultOverlayShown;var u=ne.a.Children.only(o),e=u.props,o={};return this.state.show&&(o["aria-describedby"]=n.props.id),o.onClick=Ae(e.onClick,i),zn("click",t)&&(o.onClick=Ae(o.onClick,this.handleToggle)),zn("hover",t)&&(o.onMouseOver=Ae(e.onMouseOver,l,this.handleMouseOver),o.onMouseOut=Ae(e.onMouseOut,a,this.handleMouseOut)),zn("focus",t)&&(o.onFocus=Ae(e.onFocus,s,this.handleDelayedShow),o.onBlur=Ae(e.onBlur,r,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,c),Object(te.cloneElement)(u,o)},e}(ne.a.Component);z.propTypes=Oe,z.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var $n=z,M=o(20),ge=o.n(M),I={id:ge()(u.a.oneOfType([u.a.string,u.a.number])),placement:u.a.oneOf(["top","right","bottom","left"]),positionTop:u.a.oneOfType([u.a.number,u.a.string]),positionLeft:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetTop:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetLeft:u.a.oneOfType([u.a.number,u.a.string]),title:u.a.node},G=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.positionTop,o=e.positionLeft,r=e.arrowOffsetTop,i=e.arrowOffsetLeft,s=e.title,a=e.className,l=e.style,c=e.children,u=De(F(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),f=u[0],e=u[1],u=L({},Me(f),((u={})[t]=!0,u)),l=L({display:"block",top:n,left:o},l),i={top:r,left:i};return ne.a.createElement("div",L({},e,{role:"tooltip",className:q()(a,u),style:l}),ne.a.createElement("div",{className:"arrow",style:i}),s&&ne.a.createElement("h3",{className:Pe(f,"title")},s),ne.a.createElement("div",{className:Pe(f,"content")},c))},t}(ne.a.Component);G.propTypes=I,G.defaultProps={placement:"right"};var qn=le("popover",G),Oe={glyph:u.a.string.isRequired},z=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.glyph,n=e.className,o=De(F(e,["glyph","className"])),r=o[0],e=o[1],o=L({},Me(r),((o={})[Pe(r,t)]=!0,o));return ne.a.createElement("span",L({},e,{className:q()(n,o)}))},t}(ne.a.Component);z.propTypes=Oe;var Gn=le("glyphicon",z),M={$bs_formGroup:u.a.object},I=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,o){e=this.getGlyph(e&&e.validationState);return e?ne.a.createElement(Gn,L({},o,{glyph:e,className:q()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,o=De(F(e,["className","children"])),e=o[0],o=o[1],e=Me(e);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,e,o);n=ne.a.Children.only(n);return ne.a.cloneElement(n,L({},o,{className:q()(n.props.className,t,e)}))},t}(ne.a.Component);I.defaultProps={bsRole:"feedback"},I.contextTypes=M;G=le("form-control-feedback",I),Oe={componentClass:f.a},z=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=De(F(e,["componentClass","className"])),e=o[0],o=o[1],e=Me(e);return ne.a.createElement(t,L({},o,{className:q()(n,e)}))},t}(ne.a.Component);z.propTypes=Oe,z.defaultProps={componentClass:"p"};M=le("form-control-static",z),I={componentClass:f.a,type:u.a.string,id:u.a.string,inputRef:u.a.func},Oe={$bs_formGroup:u.a.object},z=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,n=t&&t.controlId,o=this.props,r=o.componentClass,i=o.type,s=o.id,a=void 0===s?n:s,l=o.inputRef,t=o.className,n=o.bsSize,s=De(F(o,["componentClass","type","id","inputRef","className","bsSize"])),o=s[0],s=s[1];return"file"!==i&&(e=Me(o)),n&&(e[Pe({bsClass:"input"},Se[n]||n)]=!0),ne.a.createElement(r,L({},s,{type:i,id:a,ref:l,className:q()(t,e)}))},t}(ne.a.Component);z.propTypes=I,z.defaultProps={componentClass:"input"},z.contextTypes=Oe,z.Feedback=G,z.Static=M;var Xn=le("form-control",pe([A,N],z));function Yn(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(n),!0).forEach(function(e){Qn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e){try{window.localStorage.setItem(oo,JSON.stringify({values:e}))}catch(e){}return e}function Jn(e,t){return(e=on(e)).map&&e.map.call?e.map(function(e){return io(e,t)}):io(e,t)}function eo(e,t){return ne.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e)}function to(e,t,n){if(0<(r=t.indexOf("."))){var o=t.substring(0,r),r=t.substring(r+1);return Vn(Vn({},e),{},Qn({},o,to(e[o],r,n)))}return Vn(Vn({},e),{},Qn({},t,n))}var no={enablePicPreview:!0,enableNotifications:!0,enableEasyReading:!1,endTurnsOnLiveUpdate:!1,copyOnSelect:!1,antiIdleTime:0,lineWrap:78,useMouseBrowsing:!1,mouseBrowsingHighlight:!0,mouseBrowsingHighlightColor:2,mouseLeftFunction:0,mouseMiddleFunction:0,mouseWheelFunction1:1,mouseWheelFunction2:2,mouseWheelFunction3:3,fontFitWindowWidth:!1,fontFace:"MingLiu,SymMingLiu,monospace",fontSize:999,termSize:{cols:80,rows:24},termSizeMode:"max-font-size",bbsMargin:0},oo="pttchrome.pref.v1",ro=function(){try{return Vn(Vn({},no),JSON.parse(window.localStorage.getItem(oo)).values)}catch(e){return Vn({},no)}},io=function(e,n){return e.split(/#(\S+)#/gi).map(function(e,t){return t%2==1&&e in n?n[e]:e})},so=_n(bn(function(){return{navActiveKey:"general",values:ro(),replacements:{link_github_iamchucky:eo("Chuck Yang","https://github.com/iamchucky"),link_github_robertabcd:eo("robertabcd","https://github.com/robertabcd"),link_robertabcd_PttChrome:eo("robertabcd/PttChrome","https://github.com/robertabcd/PttChrome"),link_github_current_owner:eo("ccns","https://github.com/ccns"),link_current_PttChrome:eo("ccns/PttChrome","https://github.com/ccns/PttChrome"),link_iamchucky_PttChrome:eo("iamchucky/PttChrome","https://github.com/iamchucky/PttChrome"),link_GPL20:eo("General Public License v2.0","https://www.gnu.org/licenses/old-licenses/gpl-2.0.html")}}},{onCloseClick:function(e,t){var n=e.values,o=t.onSave;return function(){return o(Zn(n))}},onResetClick:function(e,t){var n=t.onReset;return function(){return n(Zn(Vn({},no)))}},onNavSelect:function(){return function(e){return{navActiveKey:e}}},onCheckboxChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.checked;return{values:to(n,e,!!t)}}},onNumberInputChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.value;return{values:to(n,e,parseInt(t,10))}}},onTextInputChange:function(e){var n=e.values;return function(e){var t=e.target,e=t.name,t=t.value;return{values:to(n,e,t)}}}}))(function(e){var t=e.show,n=e.onCloseClick,o=e.onResetClick,r=e.navActiveKey,i=e.onNavSelect,s=e.values,a=e.onCheckboxChange,l=e.onNumberInputChange,c=e.onTextInputChange,e=e.replacements;return ne.a.createElement(Ue,{show:t,onHide:n,className:"PrefModal"},ne.a.createElement(Ue.Body,null,ne.a.createElement(Pn.Container,{activeKey:r,onSelect:i},ne.a.createElement("div",{className:"PrefModal__Grid"},ne.a.createElement("div",{className:"PrefModal__Grid__Col--left"},ne.a.createElement("h3",null,on("menu_settings")),ne.a.createElement(Nn,{bsStyle:"pills",stacked:!0},ne.a.createElement(An,{eventKey:"general"},on("options_general")),ne.a.createElement(An,{eventKey:"about"},on("options_about"))),ne.a.createElement(Bn,{className:"PrefModal__Grid__Col--left__Reset",onClick:o},on("options_reset"))),ne.a.createElement("div",{className:"PrefModal__Grid__Col--right"},ne.a.createElement(Pn.Content,{animation:!0},ne.a.createElement(Pn.Pane,{eventKey:"general"},ne.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},ne.a.createElement("legend",null,on("options_general"),ne.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),ne.a.createElement(Fn,{name:"enablePicPreview",checked:s.enablePicPreview,onChange:a},on("options_enablePicPreview")),ne.a.createElement(Fn,{name:"enableNotifications",checked:s.enableNotifications,onChange:a},on("options_enableNotifications")),ne.a.createElement(Fn,{name:"enableEasyReading",checked:s.enableEasyReading,onChange:a},on("options_enableEasyReading")),ne.a.createElement(Fn,{name:"endTurnsOnLiveUpdate",checked:s.endTurnsOnLiveUpdate,onChange:a},on("options_endTurnsOnLiveUpdate")),ne.a.createElement(Fn,{name:"copyOnSelect",checked:s.copyOnSelect,onChange:a},on("options_copyOnSelect")),ne.a.createElement(In,{controlId:"antiIdleTime"},ne.a.createElement(Hn,null,on("options_antiIdleTime")),ne.a.createElement($n,{trigger:"focus",placement:"right",overlay:ne.a.createElement(qn,{id:"tooltip_antiIdleTime"},on("tooltip_antiIdleTime"))},ne.a.createElement(Xn,{name:"antiIdleTime",type:"number",value:s.antiIdleTime,onChange:l}))),ne.a.createElement(In,{controlId:"lineWrap"},ne.a.createElement(Hn,null,on("options_lineWrap")),ne.a.createElement(Xn,{name:"lineWrap",type:"number",value:s.lineWrap,onChange:l}))),ne.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},ne.a.createElement("legend",null,on("options_appearance")),ne.a.createElement(In,{controlId:"fontFace"},ne.a.createElement(Hn,null,on("options_fontFace")),ne.a.createElement($n,{trigger:"focus",placement:"right",overlay:ne.a.createElement(qn,{id:"tooltip_fontFace"},on("tooltip_fontFace"))},ne.a.createElement(Xn,{name:"fontFace",type:"text",value:s.fontFace,onChange:c}))),ne.a.createElement(In,{controlId:"bbsMargin"},ne.a.createElement(Hn,null,on("options_bbsMargin")),ne.a.createElement(Xn,{name:"bbsMargin",type:"number",value:s.bbsMargin,onChange:l})),ne.a.createElement(In,{controlId:"termSizeMode"},ne.a.createElement(Hn,null,on("options_termSize")),ne.a.createElement(Xn,{componentClass:"select",name:"termSizeMode",value:s.termSizeMode,onChange:c},ne.a.createElement("option",{key:"options_fixedTermSize",value:"fixed-term-size"},on("options_fixedTermSize")),ne.a.createElement("option",{key:"options_fixedFontSize",value:"fixed-font-size"},on("options_fixedFontSize")),ne.a.createElement("option",{key:"options_maxFontSize",value:"max-font-size"},on("options_maxFontSize")))),function(){switch(s.termSizeMode){case"fixed-term-size":return ne.a.createElement("div",null,ne.a.createElement(In,{controlId:"termSize_cols"},ne.a.createElement(Hn,null,on("options_cols")),ne.a.createElement(Xn,{name:"termSize.cols",type:"number",value:s.termSize.cols,onChange:l})),ne.a.createElement(In,{controlId:"termSize_rows"},ne.a.createElement(Hn,null,on("options_rows")),ne.a.createElement(Xn,{name:"termSize.rows",type:"number",value:s.termSize.rows,onChange:l})),ne.a.createElement(Fn,{name:"fontFitWindowWidth",checked:s.fontFitWindowWidth,onChange:a},on("options_fontFitWindowWidth")));case"fixed-font-size":return ne.a.createElement(In,{controlId:"fontSize"},ne.a.createElement(Hn,null,on("options_fontSize")),ne.a.createElement(Xn,{name:"fontSize",type:"number",value:s.fontSize,onChange:l}));case"max-font-size":return ne.a.createElement(In,{controlId:"fontSize"},ne.a.createElement(Hn,null,on("options_fontSizeMax")),ne.a.createElement(Xn,{name:"fontSize",type:"number",value:s.fontSize,onChange:l}));default:return null}}()),ne.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},ne.a.createElement("legend",null,on("options_mouseBrowsing")),ne.a.createElement(Fn,{name:"useMouseBrowsing",checked:s.useMouseBrowsing,onChange:a},on("options_useMouseBrowsing")),ne.a.createElement(Fn,{name:"mouseBrowsingHighlight",checked:s.mouseBrowsingHighlight,onChange:a},on("options_mouseBrowsingHighlight")),ne.a.createElement("div",{className:"PrefModal__Grid__Col--right__MouseBrowsingHighlightColor"},on("options_highlightColor"),ne.a.createElement(Xn,{componentClass:"select",className:q()("b".concat(s.mouseBrowsingHighlightColor),"b".concat(s.mouseBrowsingHighlightColor)),name:"mouseBrowsingHighlightColor",value:s.mouseBrowsingHighlightColor,onChange:l},Array(16).fill(0,1).map(function(e,t){return ne.a.createElement("option",{key:t,value:t,className:q()("b".concat(t))})}))),ne.a.createElement(In,{controlId:"mouseLeftFunction"},ne.a.createElement(Hn,null,on("options_mouseLeftFunction")),ne.a.createElement(Xn,{componentClass:"select",name:"mouseLeftFunction",value:s.mouseLeftFunction,onChange:l},["options_none","options_enterKey","options_rightKey"].map(function(e,t){return ne.a.createElement("option",{key:e,value:t},on(e))}))),ne.a.createElement(In,{controlId:"mouseMiddleFunction"},ne.a.createElement(Hn,null,on("options_mouseMiddleFunction")),ne.a.createElement(Xn,{componentClass:"select",name:"mouseMiddleFunction",value:s.mouseMiddleFunction,onChange:l},["options_none","options_enterKey","options_leftKey","options_doPaste"].map(function(e,t){return ne.a.createElement("option",{key:e,value:t},on(e))}))),ne.a.createElement(In,{controlId:"mouseWheelFunction1"},ne.a.createElement(Hn,null,on("options_mouseWheelFunction1")),ne.a.createElement(Xn,{componentClass:"select",name:"mouseWheelFunction1",value:s.mouseWheelFunction1,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return ne.a.createElement("option",{key:e,value:t},on(e))}))),ne.a.createElement(In,{controlId:"mouseWheelFunction2"},ne.a.createElement(Hn,null,on("options_mouseWheelFunction2")),ne.a.createElement(Xn,{componentClass:"select",name:"options_mouseWheelFunction2",value:s.options_mouseWheelFunction2,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return ne.a.createElement("option",{key:e,value:t},on(e))}))),ne.a.createElement(In,{controlId:"mouseWheelFunction3"},ne.a.createElement(Hn,null,on("options_mouseWheelFunction3")),ne.a.createElement(Xn,{componentClass:"select",name:"options_mouseWheelFunction3",value:s.options_mouseWheelFunction3,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return ne.a.createElement("option",{key:e,value:t},on(e))}))))),ne.a.createElement(Pn.Pane,{eventKey:"about"},ne.a.createElement("div",null,ne.a.createElement("legend",null,"PttChrome",ne.a.createElement("small",null," - ",on("about_appName_subtitle")),ne.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),ne.a.createElement("p",null,Jn("about_description",e))),ne.a.createElement("div",null,ne.a.createElement("legend",null,on("about_version_title")," - ","pttchrome"," v","2.11.0-ccns.2021",""),ne.a.createElement("ul",null,Jn("about_version_content",e).map(function(e,t){return ne.a.createElement("li",{key:t},e)}))),ne.a.createElement("div",null,ne.a.createElement("legend",null,on("about_new_title")),ne.a.createElement("ul",null,on("about_new_content").map(function(e,t){return ne.a.createElement("li",{key:t},e)}))))))))))});function ao(e,t,n){function o(t,n,e,o){o=o||n,Object.defineProperty(e,o,{get:function(){return t[n]},set:function(e){t[n]=e}})}this._core=e,this._view=t,this._termBuf=n,this._turnPageLines=22,this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate="",this.ignoreOneUpdate=!1,o(this._view,"useEasyReadingMode",this,"_enabled"),o(this._termBuf,"startedEasyReading",this),o(this._termBuf,"easyReadingShowReplyText",this),o(this._termBuf,"easyReadingShowPushInitText",this),this._termBuf.addEventListener("change",this._onChanged.bind(this)),this._termBuf.addEventListener("viewUpdate",this._onViewUpdated.bind(this))}function lo(e){this.app=e,this.highlightCopy=!1,this.touchStarted=!1,this.touchedCenter={x:0,y:0},delete Hammer.defaults.cssProps.userSelect,this.ham=null,this.setupHandlers()}ao.prototype._onChanged=function(e){console.log("page state: "+this._termBuf.prevPageState+"->"+this._termBuf.pageState);var t,n,o,r,i=ro();2==this._termBuf.prevPageState&&3==this._termBuf.pageState&&!this._enabled&&i.enableEasyReading&&this._core.connectedUrl.easyReadingSupported?this._enabled=!0:i.enableEasyReading||(this._enabled=!1),this._enabled&&(n=this._termBuf.cols-1,t=this._termBuf.rows-1,i=this._termBuf.getRowText(t,0,this._termBuf.cols),3==this._termBuf.pageState?this.startedEasyReading=!0:this.startedEasyReading&&0===i.indexOf(" ◆ 未達看板發文限制:")?this.easyReadingShowPushInitText=!0:(this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.startedEasyReading=!1),this.startedEasyReading&&(console.log("easy reading cursor pos: "+this._termBuf.cur_y+":"+this._termBuf.cur_x),this._termBuf.cur_y==t&&this._termBuf.cur_x==n?this.ignoreOneUpdate?this.ignoreOneUpdate=!1:(o=ft(i))?4==(n=this._termBuf.lines[t][0]).getBg()&&7==n.getFg()?this.easyReadingReachedPageEnd=!0:(this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate||(this.sendCommandAfterUpdate="[6~")):this.easyReadingShowPushInitText||(this._termBuf.pageState=5,this.startedEasyReading=!1):this._termBuf.cur_y==t?this.easyReadingShowPushInitText||(i=this._termBuf.getRowText(t,0,this._termBuf.cols),o=0===(r=i).indexOf("您覺得這篇文章 ")||0===r.search(/→ \w+ *: +/)||0===r.indexOf("很抱歉, 本板不開放回覆文章，要改回信給作者嗎？ [y/N]:"),this.easyReadingShowPushInitText=!!o):22==this._termBuf.cur_y&&(r=this._termBuf.getRowText(22,0,this._termBuf.cols),o=0===(r=r).indexOf("▲ 回應至 (F)看板 (M)作者信箱 (B)二者皆是 (Q)取消？[F] ")||0===r.indexOf("▲ 無法回應至看板。 改回應至 (M)作者信箱 (Q)取消？[Q]")||0===r.indexOf("把這篇文章收入到暫存檔？[y/N]")||0===r.indexOf("請選擇暫存檔 (0-9)[0]:"),this.easyReadingShowReplyText=!!o)))},ao.prototype._onViewUpdated=function(e){console.log("view update"),this.sendCommandAfterUpdate&&(console.log("send:"+this.sendCommandAfterUpdate),"skipOne"!=this.sendCommandAfterUpdate&&this._send(this.sendCommandAfterUpdate),this.sendCommandAfterUpdate="")},ao.prototype.leaveCurrentPost=function(){console.log("leave curent post"),this.easyReadingReachedPageEnd||(this.ignoreOneUpdate=!0),this._termBuf.prevPageState=0},ao.prototype.stopEasyReading=function(){console.log("stop easy reading"),this.sendCommandAfterUpdate="skipOne"},ao.prototype._send=function(e){this._view.conn.send(e)},ao.prototype._onKeyDown=function(e){if(this._enabled&&this.startedEasyReading&&(this._onKeyDownProcessUI(e),!e.defaultPrevented)){var t=!1;if(e.ctrlKey||e.altKey)e.ctrlKey&&!e.altKey&&"h"===e.key&&(this._send("[D[A[C"),t=!0);else switch(e.key){case"Backspace":case"ArrowUp":this._send("[D[A[C"),t=!0;break;case"ArrowDown":this._send("[D[B[C"),t=!0}t&&e.preventDefault()}},ao.prototype._scrollBy=function(e){var t=this._view.mainDisplay;return!(e<0&&0==t.scrollTop)&&(!(0<e&&t.scrollTop>=this._view.mainContainer.clientHeight-this._view.chh*this._termBuf.rows)&&(t.scrollTop+=this._view.chh*e,!0))},ao.prototype._scrollEnd=function(){return this._view.mainDisplay.scrollTop=this._view.mainContainer.clientHeight,!0},ao.prototype._scrollTop=function(){return!(this._view.mainDisplay.scrollTop=0)},ao.prototype._onKeyDownProcessUI=function(e){var t=!1;if(e.ctrlKey||e.altKey){if(e.ctrlKey&&!e.altKey)switch(e.key){case"f":this._scrollBy(this._turnPageLines),t=!0;break;case"b":this._scrollBy(-this._turnPageLines),t=!0;break;case"h":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;default:if(0<="@^_?".indexOf(e.key)){t=!0;break}}}else switch(e.key){case"Backspace":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;case"ArrowRight":case" ":case"t":(t=this._scrollBy(this._turnPageLines))||this.leaveCurrentPost();break;case"PageUp":this._scrollBy(-this._turnPageLines),t=!0;break;case"PageDown":this._scrollBy(this._turnPageLines),t=!0;break;case"ArrowLeft":this.stopEasyReading();break;case"ArrowUp":(t=this._scrollBy(-1))||this.leaveCurrentPost();break;case"Enter":case"ArrowDown":(t=this._scrollBy(1))||this.leaveCurrentPost();break;case"k":this._scrollBy(-1),t=!0;break;case"j":this._scrollBy(1),t=!0;break;case"Home":case"0":case"g":t=this._scrollTop();break;case"End":case"$":case"G":t=this._scrollEnd();break;case"Tab":t=!0;break;default:if(0<="abf=+-[]ABF".indexOf(e.key)){this.leaveCurrentPost();break}if(0<="123456789hops;,./\\H#OP:<>".indexOf(e.key)){t=!0;break}}t&&e.preventDefault()},ao.prototype._onMouseClick=function(e){if(this._enabled&&this.startedEasyReading){var t=!1;switch(this._termBuf.mouseCursor){case 0:case 1:this.stopEasyReading();break;case 2:this._scrollBy(-this._turnPageLines),t=!0;break;case 3:this._scrollBy(this._turnPageLines),t=!0;break;case 4:this._scrollTop(),t=!0;break;case 5:this._scrollEnd(),t=!0;break;case 6:case 7:break;case 8:case 9:case 10:case 12:case 13:case 14:this.leaveCurrentPost()}t&&e.preventDefault()}},lo.prototype.setupHandlers=function(){var t=this,n=this.app;document.body.ontouchmove=function(e){return 1==e.touches.length},document.body.ontouchstart=function(e){t.touchStarted=!0,n.inputArea.blur(),console.log("touchstart")},document.body.ontouchend=function(e){2==n.buf.pageState&&n.buf.highlightCursor&&-1!=n.buf.nowHighlight&&(n.onMouse_click(t.touchedCenter.x,t.touchedCenter.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus()),console.log("touchend")},this.ham=new Hammer(n.BBSWin),this.ham.on("pan",function(e){"touch"==e.pointerType&&2==n.buf.pageState&&(e.preventDefault(),e.srcEvent.preventDefault(),t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!0,n.onMouse_move(e.center.x,e.center.y),t.touchedCenter.x=e.center.x,t.touchedCenter.y=e.center.y)}),this.ham.on("tap",function(e){e.preventDefault(),e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),"touch"==e.pointerType&&(t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!1,n.onMouse_move(e.center.x,e.center.y),n.onMouse_click(e.center.x,e.center.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus(),console.log("touchtap"))})};N={onDismiss:u.a.func,closeLabel:u.a.string},z=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.onDismiss,n=e.closeLabel,o=e.className,r=e.children,i=De(F(e,["onDismiss","closeLabel","className","children"])),s=i[0],a=i[1],e=!!t,i=L({},Me(s),((i={})[Pe(s,"dismissable")]=e,i));return ne.a.createElement("div",L({},a,{role:"alert",className:q()(o,i)}),e&&ne.a.createElement(Be,{onClick:t,label:n}),r)},t}(ne.a.Component);z.propTypes=N,z.defaultProps={closeLabel:"Close alert"};function co(e){return e=e.onDismiss,ne.a.createElement(uo,{bsStyle:"info",className:"PageTopAlert",tabIndex:-1,onDismiss:e},ne.a.createElement("h4",null,on("alert_pasteShortcutHeader")),ne.a.createElement("p",null,on("alert_pasteShortcutText")),ne.a.createElement("p",null,ne.a.createElement(Bn,{bsStyle:"primary",onClick:e},on("alert_pasteShortcutClose"))))}var uo=ue(c()(j),j.INFO,le("alert",z)),fo=_n(vn({componentDidMount:function(){var t=this;this.handler=function(e){13==e.keyCode&&t.props.onDismiss(),event.preventDefault(),event.stopImmediatePropagation()},window.addEventListener("keydown",this.handler,!0)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handler,!0)}}))(function(e){e=e.onDismiss;return ne.a.createElement(fe,{in:!0},ne.a.createElement(uo,{bsStyle:"danger",className:"PageTopAlert",onDismiss:e},ne.a.createElement("h4",null,on("alert_connectionHeader")),ne.a.createElement("p",null,on("alert_connectionText")),ne.a.createElement("p",null,ne.a.createElement(Bn,{bsStyle:"danger",onClick:e},on("alert_connectionReconnect")))))}),ue=o(88),po=o.n(ue),c={active:u.a.bool,disabled:u.a.bool,divider:me()(u.a.bool,function(e){var t=e.divider,e=e.children;return t&&e?new Error("Children will not be rendered for dividers"):null}),eventKey:u.a.any,header:u.a.bool,href:u.a.string,onClick:u.a.func,onSelect:u.a.func},j=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handleClick=t.handleClick.bind(de(de(t))),t}K(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.href,o=t.disabled,r=t.onSelect,t=t.eventKey;n&&!o||e.preventDefault(),o||r&&r(t,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,o=e.divider,r=e.header,i=e.onClick,s=e.className,a=e.style,l=Le(F(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),e=l[0],l=l[1];return o?(l.children=void 0,ne.a.createElement("li",L({},l,{role:"separator",className:q()(s,"divider"),style:a}))):r?ne.a.createElement("li",L({},l,{role:"heading",className:q()(s,Pe(e,"header")),style:a})):ne.a.createElement("li",{role:"presentation",className:q()(s,{active:t,disabled:n}),style:a},ne.a.createElement(Ln,L({},l,{role:"menuitem",tabIndex:"-1",onClick:Ae(i,this.handleClick)})))},e}(ne.a.Component);j.propTypes=c,j.defaultProps={divider:!1,disabled:!1,header:!1};var ho=le("dropdown",j),mo={providers:[{name:"goo.gl",url:"https://goo.gl/%s"}]},yo=_n(gn(function(){var r={};return{onDropdownMenuMount:function(){return function(e){r.dropdownMenu=e}},onMousePositionChange:function(e){var n=e.pageX,o=e.pageY;return function(){var e,t;r.dropdownMenu.style.cssText+="\n          top:".concat((e=o,t=r.dropdownMenu.clientHeight,window.innerHeight<e+t&&t<e?e-t:e),"px;\n          left:").concat((t=n,e=r.dropdownMenu.clientWidth,window.innerWidth<t+e&&e<t?t-e:t),"px;\n        ")}},onContextMenu:function(){return function(e){e.stopPropagation(),e.preventDefault()}}}}),vn({componentDidMount:function(){this.props.onMousePositionChange()},componentDidUpdate:function(e){this.props.pageX===e.pageX&&this.props.pageY===e.pageY||this.props.onMousePositionChange()}}))(function(e){var t=e.pageX,n=e.pageY,o=e.urlEnabled,r=e.normalEnabled,i=e.selEnabled,s=e.mouseBrowsingEnabled,a=e.selectedText,l=e.onMenuSelect,c=e.onInputHelperClick,u=e.onLiveArticleHelperClick,f=e.onSettingsClick,d=e.onQuickSearchSelect,p=e.onDropdownMenuMount,e=e.onContextMenu;return ne.a.createElement("ul",{className:"dropdown-menu DropdownMenu--reset",ref:p,onContextMenu:e},i&&ne.a.createElement(ne.a.Fragment,null,ne.a.createElement(ho,{eventKey:"copy",onSelect:l},on("cmenu_copy"),ne.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+C")),ne.a.createElement(ho,{eventKey:"copyAnsi",onSelect:l},on("cmenu_copyAnsi"))),r&&ne.a.createElement(ho,{eventKey:"paste",onSelect:l},on("cmenu_paste"),ne.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Shift+Insert")),i&&ne.a.createElement(ho,{eventKey:"searchGoogle",onSelect:l},on("cmenu_searchGoogle")," ",ne.a.createElement("span",null,"'",15<(a=a).length?"".concat(a.substr(0,15)," …"):a,"'")),o&&ne.a.createElement(ne.a.Fragment,null,ne.a.createElement(ho,{eventKey:"openUrlNewTab",onSelect:l},on("cmenu_openUrlNewTab")),ne.a.createElement(ho,{eventKey:"copyLinkUrl",onSelect:l},on("cmenu_copyLinkUrl"))),ne.a.createElement(ho,{divider:!0}),i&&ne.a.createElement(ne.a.Fragment,null,ne.a.createElement(ho,{className:"DropdownMenu__Item--quickSearch"},on("cmenu_quickSearch")," ",ne.a.createElement("span",{style:{float:"right"}},"►"),ne.a.createElement("ul",{className:q()("dropdown-menu","DropdownMenu--reset","QuickSearchMenu",{"QuickSearchMenu--up":n>window.innerHeight/2,"QuickSearchMenu--left":t>.7*window.innerWidth}),role:"menu"},mo.providers.map(function(e){return ne.a.createElement(ho,{key:e.url,eventKey:e.url,onSelect:d},e.name)}))),ne.a.createElement(ho,{divider:!0})),r&&ne.a.createElement(ne.a.Fragment,null,ne.a.createElement(ho,{eventKey:"selectAll",onSelect:l},on("cmenu_selectAll"),ne.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+A")),ne.a.createElement(ho,{eventKey:"mouseBrowsing",onSelect:l,className:q()({"DropdownMenu__Item--checked":s})},on("cmenu_mouseBrowsing")),ne.a.createElement(ho,{onClick:c},on("cmenu_showInputHelper")),ne.a.createElement(ho,{onClick:u},on("cmenu_showLiveArticleHelper")),ne.a.createElement(ho,{divider:!0})),ne.a.createElement(ho,{onClick:f},on("cmenu_settings")))}),z={componentClass:f.a},ue=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=De(F(e,["componentClass","className"])),e=o[0],o=o[1],e=Me(e);return ne.a.createElement(t,L({},o,{className:q()(n,e)}))},t}(ne.a.Component);ue.propTypes=z,ue.defaultProps={componentClass:"div"};var go=le("row",ue),c={componentClass:f.a,xs:u.a.number,sm:u.a.number,md:u.a.number,lg:u.a.number,xsHidden:u.a.bool,smHidden:u.a.bool,mdHidden:u.a.bool,lgHidden:u.a.bool,xsOffset:u.a.number,smOffset:u.a.number,mdOffset:u.a.number,lgOffset:u.a.number,xsPush:u.a.number,smPush:u.a.number,mdPush:u.a.number,lgPush:u.a.number,xsPull:u.a.number,smPull:u.a.number,mdPull:u.a.number,lgPull:u.a.number},j=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=De(F(e,["componentClass","className"])),r=e[0],i=e[1],s=[];return ke.forEach(function(o){function e(e,t){var n=""+o+e,e=i[n];null!=e&&s.push(Pe(r,""+o+t+"-"+e)),delete i[n]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var t=o+"Hidden";i[t]&&s.push("hidden-"+o),delete i[t]}),ne.a.createElement(t,L({},i,{className:q()(n,s)}))},t}(ne.a.Component);j.propTypes=c,j.defaultProps={componentClass:"div"};var bo=le("col",j),z=o(54),vo=o.n(z),ue={vertical:u.a.bool,justified:u.a.bool,block:me()(u.a.bool,function(e){var t=e.block,e=e.vertical;return t&&!e?new Error("`block` requires `vertical` to be set to have any effect"):null})},c=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.block,n=e.justified,o=e.vertical,r=e.className,i=De(F(e,["block","justified","vertical","className"])),s=i[0],e=i[1],i=L({},Me(s),((i={})[Pe(s)]=!o,i[Pe(s,"vertical")]=o,i[Pe(s,"justified")]=n,i[Pe(Bn.defaultProps,"block")]=t,i));return ne.a.createElement("div",L({},e,{className:q()(r,i)}))},t}(ne.a.Component);c.propTypes=ue,c.defaultProps={block:!1,justified:!1,vertical:!1};var j=le("btn-group",c),z=o(89),wo=o.n(z),ue=o(56),_o=o.n(ue),c={open:u.a.bool,pullRight:u.a.bool,onClose:u.a.func,labelledBy:u.a.oneOfType([u.a.string,u.a.number]),onSelect:u.a.func,rootCloseEvent:u.a.oneOf(["click","mousedown"])},z=function(t){function e(e){e=t.call(this,e)||this;return e.handleRootClose=e.handleRootClose.bind(de(de(e))),e.handleKeyDown=e.handleKeyDown.bind(de(de(e))),e}K(e,t);var n=e.prototype;return n.getFocusableMenuItems=function(){var e=oe.a.findDOMNode(this);return e?wo()(e.querySelectorAll('[tabIndex="-1"]')):[]},n.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},n.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,e=e.activeIndex;0!==t.length&&t[e===t.length-1?0:e+1].focus()},n.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,e=e.activeIndex;0!==t.length&&t[0===e?t.length-1:e-1].focus()},n.handleKeyDown=function(e){switch(e.keyCode){case Mn.a.codes.down:this.focusNext(),e.preventDefault();break;case Mn.a.codes.up:this.focusPrevious(),e.preventDefault();break;case Mn.a.codes.esc:case Mn.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},n.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},n.render=function(){var t=this,e=this.props,n=e.open,o=e.pullRight,r=e.labelledBy,i=e.onSelect,s=e.className,a=e.rootCloseEvent,l=e.children,c=Le(F(e,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),u=c[0],e=c[1],c=L({},Me(u),((c={})[Pe(u,"right")]=o,c));return ne.a.createElement(_o.a,{disabled:!n,onRootClose:this.handleRootClose,event:a},ne.a.createElement("ul",L({},e,{role:"menu",className:q()(s,c),"aria-labelledby":r}),Rn.map(l,function(e){return ne.a.cloneElement(e,{onKeyDown:Ae(e.props.onKeyDown,t.handleKeyDown),onSelect:Ae(e.props.onSelect,i)})})))},e}(ne.a.Component);z.propTypes=c,z.defaultProps={bsRole:"menu",pullRight:!1};ue=le("dropdown-menu",z),c={noCaret:u.a.bool,open:u.a.bool,title:u.a.string,useAnchor:u.a.bool},z=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,o=e.useAnchor,r=e.bsClass,i=e.className,s=e.children,e=F(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete e.bsRole;t=!t;return ne.a.createElement(o?Ln:Bn,L({},e,{role:"button",className:q()(i,r),"aria-haspopup":!0,"aria-expanded":n}),s||e.title,t&&" ",t&&ne.a.createElement("span",{className:"caret"}))},t}(ne.a.Component);z.propTypes=c,z.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var xo=le("dropdown-toggle",z),z=o(18),Eo=o.n(z);u.a.oneOfType([u.a.string,u.a.number]);var Co=xo.defaultProps.bsRole,So=ue.defaultProps.bsRole,f={dropup:u.a.bool,id:ge()(u.a.oneOfType([u.a.string,u.a.number])),componentClass:f.a,children:me()(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return Eo()(function(e,t,n){var o;return r.every(function(t){return!!Rn.some(e.children,function(e){return e.props.bsRole===t})||(o=t,!1)}),o?new Error("(children) "+n+" - Missing a required child with bsRole: "+o+". "+n+" must have at least one child of each of the following bsRoles: "+r.join(", ")):null})}(Co,So),function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return Eo()(function(e,t,n){var o;return r.every(function(t){return!(1<Rn.filter(e.children,function(e){return e.props.bsRole===t}).length)||(o=t,!1)}),o?new Error("(children) "+n+" - Duplicate children detected of bsRole: "+o+". Only one child each allowed with the following bsRoles: "+r.join(", ")):null})}(So)),disabled:u.a.bool,pullRight:u.a.bool,open:u.a.bool,defaultOpen:u.a.bool,onToggle:u.a.func,onSelect:u.a.func,role:u.a.string,rootCloseEvent:u.a.oneOf(["click","mousedown"]),onMouseEnter:u.a.func,onMouseLeave:u.a.func},me={componentClass:j},j=function(n){function e(e,t){t=n.call(this,e,t)||this;return t.handleClick=t.handleClick.bind(de(de(t))),t.handleKeyDown=t.handleKeyDown.bind(de(de(t))),t.handleClose=t.handleClose.bind(de(de(t))),t._focusInDropdown=!1,t.lastOpenEventType=null,t}K(e,n);var t=e.prototype;return t.componentDidMount=function(){this.focusNextOnOpen()},t.UNSAFE_componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=Un()(oe.a.findDOMNode(this.menu),vo()(document)))},t.componentDidUpdate=function(e){var t=this.props.open,e=e.open;t&&!e&&this.focusNextOnOpen(),!t&&e&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.focus=function(){var e=oe.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.focusNextOnOpen=function(){var e=this.menu;e&&e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Mn.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Mn.a.codes.esc:case Mn.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.renderMenu=function(e,t){var n=this,o=t.id,r=t.onSelect,i=t.rootCloseEvent,s=F(t,["id","onSelect","rootCloseEvent"]),t=function(e){n.menu=e};return"string"==typeof e.ref||(t=Ae(e.ref,t)),Object(te.cloneElement)(e,L({},s,{ref:t,labelledBy:o,bsClass:Pe(s,"menu"),onClose:Ae(e.props.onClose,this.handleClose),onSelect:Ae(e.props.onSelect,r,function(e,t){return n.handleClose(t,{source:"select"})}),rootCloseEvent:i}))},t.renderToggle=function(e,t){var n=this,o=function(e){n.toggle=e};return"string"==typeof e.ref||(o=Ae(e.ref,o)),Object(te.cloneElement)(e,L({},t,{ref:o,bsClass:Pe(t,"toggle"),onClick:Ae(e.props.onClick,this.handleClick),onKeyDown:Ae(e.props.onKeyDown,this.handleKeyDown)}))},t.render=function(){var t=this,e=this.props,n=e.componentClass,o=e.id,r=e.dropup,i=e.disabled,s=e.pullRight,a=e.open,l=e.onSelect,c=e.role,u=e.bsClass,f=e.className,d=e.rootCloseEvent,p=e.children,h=F(e,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete h.onToggle;(e={})[u]=!0,e.open=a,e.disabled=i;return r&&(e[u]=!1,e.dropup=!0),ne.a.createElement(n,L({},h,{className:q()(f,e)}),Rn.map(p,function(e){switch(e.props.bsRole){case Co:return t.renderToggle(e,{id:o,disabled:i,open:a,role:c,bsClass:u});case So:return t.renderMenu(e,{id:o,open:a,pullRight:s,bsClass:u,onSelect:l,rootCloseEvent:d});default:return e}}))},e}(ne.a.Component);j.propTypes=f,j.defaultProps=me,le("dropdown",j);j=kn(j,{open:"onToggle"});j.Toggle=xo,j.Menu=ue;var ko=j,ue=L({},ko.propTypes,{title:u.a.node.isRequired,noCaret:u.a.bool,active:u.a.bool,activeKey:u.a.any,activeHref:u.a.string,children:u.a.node}),j=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.isActive=function(e,t,n){var o=this,e=e.props;return!!(e.active||null!=t&&e.eventKey===t||n&&e.href===n)||(!!Rn.some(e.children,function(e){return o.isActive(e,t,n)})||e.active)},n.render=function(){var t=this,e=this.props,n=e.title,o=e.activeKey,r=e.activeHref,i=e.className,s=e.style,a=e.children,l=F(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,o,r);delete l.active,delete l.eventKey;e=Fe(l,ko.ControlledComponent),l=e[0],e=e[1];return ne.a.createElement(ko,L({},l,{componentClass:"li",className:q()(i,{active:c}),style:s}),ne.a.createElement(ko.Toggle,L({},e,{useAnchor:!0}),n),ne.a.createElement(ko.Menu,null,Rn.map(a,function(e){return ne.a.cloneElement(e,{active:t.isActive(e,o,r)})})))},t}(ne.a.Component);j.propTypes=ue;var Oo=j,ue=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){return ne.a.createElement(xo,L({},this.props,{useAnchor:!1,noCaret:!1}))},t}(ne.a.Component);ue.defaultProps=xo.defaultProps;var To=ue,j=L({},ko.propTypes,{bsStyle:u.a.string,bsSize:u.a.string,href:u.a.string,onClick:u.a.func,title:u.a.node.isRequired,toggleLabel:u.a.string,children:u.a.node}),ue=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,o=e.title,r=e.toggleLabel,i=e.children,s=F(e,["bsSize","bsStyle","title","toggleLabel","children"]),a=Fe(s,ko.ControlledComponent),e=a[0],a=a[1];return ne.a.createElement(ko,L({},e,{bsSize:t,bsStyle:n}),ne.a.createElement(Bn,L({},a,{disabled:s.disabled,bsSize:t,bsStyle:n}),o),ne.a.createElement(To,{"aria-label":r||o,bsSize:t,bsStyle:n}),ne.a.createElement(ko.Menu,null,i))},t}(ne.a.Component);ue.propTypes=j,ue.Toggle=To;var Po=ue,Mo={general:["，","、","。","．","？","！","～","＄","％","＠","＆","＃","＊","‧","；","︰","…","‥","﹐","﹒","˙","·","﹔","﹕","‘","’","“","”","〝","〞","‵","′","〃"],lineBorders:["├","─","┼","┴","┬","┤","┌","┐","│","▕","└","┘","╭","╮","╰","╯","╔","╦","╗","╠","═","╬","╣","╓","╥","╖","╒","╤","╕","║","╚","╩","╝","╟","╫","╢","╙","╨","╜","╞","╪","╡","╘","╧","╛"],blocks:["＿","ˍ","▁","▂","▃","▄","▅","▆","▇","█","▏","▎","▍","▌","▋","▊","▉","◢","◣","◥","◤"],lines:["﹣","﹦","≡","｜","∣","∥","–","︱","—","︳","╴","¯","￣","﹉","﹊","﹍","﹎","﹋","﹌","﹏","︴","∕","﹨","╱","╲","／","＼"],special:["↑","↓","←","→","↖","↗","↙","↘","㊣","◎","○","●","⊕","⊙","△","▲","☆","★","◇","Æ","□","■","▽","▼","§","￥","〒","￠","￡","※","♀","♂"],brackets:["〔","〕","【","】","《","》","（","）","｛","｝","﹙","﹚","『","』","﹛","﹜","﹝","﹞","＜","＞","﹤","﹥","「","」","︵","︶","︷","︸","︹","︺","︻","︼","︽","︾","〈","〉","︿","﹀","﹁","﹂","﹃","﹄"],greek:["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω"],phonetic:["ㄅ","ㄆ","ㄇ","ㄈ","ㄉ","ㄊ","ㄋ","ㄌ","ㄍ","ㄎ","ㄏ","ㄐ","ㄑ","ㄒ","ㄓ","ㄔ","ㄕ","ㄖ","ㄗ","ㄘ","ㄙ","ㄚ","ㄛ","ㄜ","ㄝ","ㄞ","ㄟ","ㄠ","ㄡ","ㄢ","ㄣ","ㄤ","ㄥ","ㄦ","ㄧ","ㄨ","ㄩ","˙","ˊ","ˇ","ˋ"],math:["╳","＋","﹢","－","×","÷","＝","≠","≒","∞","ˇ","±","√","⊥","∠","∟","⊿","㏒","㏑","∫","∮","∵","∴","≦","≧","∩","∪"],hiragana:["あ","い","う","え","お","か","き","く","け","こ","さ","し","す","せ","そ","た","ち","つ","て","と","な","に","ぬ","ね","の","は","ひ","ふ","へ","ほ","ま","み","む","め","も","ら","り","る","れ","ろ","が","ぎ","ぐ","げ","ご","ざ","じ","ず","ぜ","ぞ","だ","ぢ","づ","で","ど","ば","び","ぶ","べ","ぼ","ぱ","ぴ","ぷ","ぺ","ぽ","や","ゆ","よ","わ","ん","を"],katakana:["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ラ","リ","ル","レ","ロ","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ジ","ズ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ","ヤ","ユ","ヨ","ワ","ン","ヲ"]},Ro={angry:["(ノ ゜Д゜)ノ ︵ ═╩════╩═","╯-____-)╯~═╩════╩═~","(╭∩╮\\_/╭∩╮)","( ︶︿︶)_╭∩╮","( ‵□′)───C＜─___-)|||","(￣ε(#￣) #○=(一-一o)","(o一-一)=○# (￣#)3￣)","╰(‵皿′＊)╯","○(#‵︿′ㄨ)○","◢▆▅▄▃-崩╰(〒皿〒)╯潰-▃▄▅▆◣"],meh:["(σ′▽‵)′▽‵)σ 哈哈哈哈～你看看你","( ￣ c￣)y▂ξ","( ′-`)y-～","′_>‵","╮(′～‵〞)╭",'╮(﹀_﹀")╭',"︿(￣︶￣)︿","..╮(﹋﹏﹌)╭..","╮(╯_╰)╭","╮(╯▽╰)/"],sweat:["(－^－)ｄ","(￣￣；)","(￣□￣|||)a","(●；－_－)●","￣▽￣||","╭ ﹀◇﹀〣","ˋ(′_‵||)ˊ","●( ¯▽¯；●","o(＞＜；)o o"],happy:["~(￣▽￣)~(＿△＿)~(￣▽￣)~(＿△＿)~(￣▽￣)~","(~^O^~)","(∩_∩)","<(￣︶￣)>","v(￣︶￣)y","﹨(╯▽╰)∕","\\(@^0^@)/","\\(^▽^)/","\\⊙▽⊙/"],other:["(．＿．?)","(？o？)","(‧Q‧)","〒△〒","m川@.川m","(¯(∞)¯)","(⊙o⊙)","(≧<>≦)","(☆_☆)",'o(‧"‧)o']};function No(e,t,n){var o=e.fg,r=e.bg,i="0;";7<o&&(o%=8,i="1;"),o+=30,r+=40;var s="";e.isBlink&&(s="5;");e="[";t(e+="foreground"==n?i+s+o+"m":"background"==n?r+"m":i+s+o+";"+r+"m")}var Do=_n(bn(function(){return{fg:7,bg:0,isBlink:!1}},{onColorClick:function(){return function(e){e=e.target.dataset.fg;return{fg:parseInt(e,10)}}},onColorContextMenu:function(e){var n=e.bg;return function(e){var t=e.target.dataset;return e.preventDefault(),e.stopPropagation(),{bg:"bg"in t?parseInt(t.bg,10):n}}},onBlinkChange:function(){return function(e){return{isBlink:e.target.checked}}},onSendClick:function(e,t){var n=t.onCmdSend;return function(){return No(e,n)}},onSendSelect:function(t,e){var n=e.onCmdSend;return function(e){return No(t,n,e)}},onSymEmoClick:function(e,t){var n=t.onConvSend;return function(e){e=e.target.textContent;return n(e)}}}),gn({onMouseDown:function(){return function(e){var t=e.currentTarget.dataset,n=e.clientX,e=e.clientY;t.dragActive=!0,t.dragLastX=n,t.dragLastY=e}},onMouseMove:function(){return function(e){var t=e.currentTarget,n=t.dataset,o=t.style,t=e.clientX,e=e.clientY;"true"===n.dragActive&&(window.getSelection().removeAllRanges(),o.cssText+="\n          top:".concat((parseFloat(o.top)||0)+e-n.dragLastY,"px;\n          left:").concat((parseFloat(o.left)||0)+t-n.dragLastX,"px;\n        "),n.dragLastX=t,n.dragLastY=e)}},onMouseUp:function(){return function(e){e.currentTarget.dataset.dragActive=!1}}}))(function(e){var t=e.show,n=e.onReset,o=e.onHide,r=e.onMouseDown,i=e.onMouseMove,s=e.onMouseUp,a=e.fg,l=e.bg,c=e.isBlink,u=e.onColorClick,f=e.onColorContextMenu,d=e.onBlinkChange,p=e.onSendClick,h=e.onSendSelect,m=e.onSymEmoClick;return ne.a.createElement(Ue,{show:t,backdrop:!1,className:"InputHelperModal__Dialog",onMouseDown:r,onMouseMove:i,onMouseUp:s},ne.a.createElement(Ue.Header,{closeButton:!0,onHide:o},ne.a.createElement(Ue.Title,null,on("inputHelperTitle"))),ne.a.createElement(Ue.Body,null,ne.a.createElement(Pn.Container,{defaultActiveKey:"colors"},ne.a.createElement(go,{className:"clearfix"},ne.a.createElement(bo,{sm:12},ne.a.createElement(Nn,{bsStyle:"tabs"},ne.a.createElement(An,{eventKey:"colors"},on("colorTitle")),ne.a.createElement(Oo,{eventKey:"symbols",title:on("symTitle")},Object.keys(Mo).map(function(e){return ne.a.createElement(ho,{eventKey:"symbols.".concat(e)},on("symTitle_".concat(e)))})),ne.a.createElement(Oo,{eventKey:"emoticons",title:on("emoTitle")},Object.keys(Ro).map(function(e){return ne.a.createElement(ho,{eventKey:"emoticons.".concat(e)},on("emoTitle_".concat(e)))})))),ne.a.createElement(bo,{sm:12},ne.a.createElement(Pn.Content,{animation:!0},ne.a.createElement(Pn.Pane,{eventKey:"colors"},ne.a.createElement(go,null,ne.a.createElement(bo,{xs:12,sm:7},ne.a.createElement("ul",{className:"InputHelperModal__ColorList"},ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b0","data-fg":"0","data-bg":"0"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b1","data-fg":"1","data-bg":"1"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b2","data-fg":"2","data-bg":"2"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b3","data-fg":"3","data-bg":"3"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b4","data-fg":"4","data-bg":"4"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b5","data-fg":"5","data-bg":"5"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b6","data-fg":"6","data-bg":"6"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b7","data-fg":"7","data-bg":"7"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b8","data-fg":"8"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b9","data-fg":"9"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b10","data-fg":"10"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b11","data-fg":"11"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b12","data-fg":"12"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b13","data-fg":"13"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b14","data-fg":"14"}),ne.a.createElement("li",{onClick:u,onContextMenu:f,className:"b15","data-fg":"15"}))),ne.a.createElement(bo,{xs:12,sm:5},on("colorHelperTooltip1"),ne.a.createElement("br",null),on("colorHelperTooltip2"))),ne.a.createElement("div",{className:"InputHelperModal__Preview"},ne.a.createElement(Je,{className:"InputHelperModal__Preview__Content",colorState:{fg:a,bg:l,blink:c},inner:on("colorHelperPreview")})),ne.a.createElement(go,null,ne.a.createElement(bo,{xs:4},ne.a.createElement(Fn,{checked:c,onChange:d},on("colorHelperBlink"))),ne.a.createElement(bo,{xs:8,className:"InputHelperModal__SendButtonContainer"},ne.a.createElement(Po,{title:on("colorHelperSend"),onClick:p},ne.a.createElement(ho,{eventKey:"foreground",onSelect:h},on("colorHelperSendMenuFore")),ne.a.createElement(ho,{eventKey:"background",onSelect:h},on("colorHelperSendMenuBack")),ne.a.createElement(ho,{divider:!0}),ne.a.createElement(ho,{eventKey:"reset",onSelect:n},on("colorHelperSendMenuReset")))))),Object.keys(Mo).map(function(e){return ne.a.createElement(Pn.Pane,{eventKey:"symbols.".concat(e)},ne.a.createElement("ul",{className:"InputHelperModal__SymbolList"},Mo[e].map(function(e,t){return ne.a.createElement("li",{key:t,onClick:m},e)})))}),Object.keys(Ro).map(function(e){return ne.a.createElement(Pn.Pane,{eventKey:"emoticons.".concat(e)},ne.a.createElement("ul",{className:"InputHelperModal__EmoticonList"},Ro[e].map(function(e,t){return ne.a.createElement("li",{key:t,onClick:m},e)})))})))))))}),ue={id:ge()(u.a.oneOfType([u.a.string,u.a.number])),placement:u.a.oneOf(["top","right","bottom","left"]),positionTop:u.a.oneOfType([u.a.number,u.a.string]),positionLeft:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetTop:u.a.oneOfType([u.a.number,u.a.string]),arrowOffsetLeft:u.a.oneOfType([u.a.number,u.a.string])},ge=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.positionTop,o=e.positionLeft,r=e.arrowOffsetTop,i=e.arrowOffsetLeft,s=e.className,a=e.style,l=e.children,c=De(F(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),u=c[0],e=c[1],c=L({},Me(u),((c={})[t]=!0,c)),a=L({top:n,left:o},a),i={top:r,left:i};return ne.a.createElement("div",L({},e,{role:"tooltip",className:q()(s,c),style:a}),ne.a.createElement("div",{className:Pe(u,"arrow"),style:i}),ne.a.createElement("div",{className:Pe(u,"inner")},l))},t}(ne.a.Component);ge.propTypes=ue,ge.defaultProps={placement:"right"};var Lo=le("tooltip",ge),Ao=_n(gn({onEnabledClick:function(e){var t=e.enabled,n=e.sec,o=e.onChange;return function(){return o({enabled:!t,sec:n})}},onSecChange:function(e){var t=e.enabled,n=e.onChange;return function(e){e=e.target.value;return n({enabled:t,sec:function(e){e=parseInt(e,10);return 1<e?e:1}(e)})}}}))(function(e){var t=e.show,n=e.onHide,o=e.enabled,r=e.sec,i=e.onEnabledClick,e=e.onSecChange;return ne.a.createElement(Ue,{show:t,backdrop:!1},ne.a.createElement(Ue.Body,{className:"LiveHelperModal__Body"},ne.a.createElement($n,{placement:"top",overlay:ne.a.createElement(Lo,null,"Alt + r")},ne.a.createElement(Bn,{active:o,onClick:i},on("liveHelperEnable"))),ne.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},on("liveHelperSpan")),ne.a.createElement("input",{type:"number",className:"LiveHelperModal__Body__Input form-control nomouse_command",value:r,onChange:e}),ne.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},on("liveHelperSpanSec")),ne.a.createElement("button",{type:"button",className:"LiveHelperModal__Body__Close close nomouse_command",onClick:n},"×")))});function Bo(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Fo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bo(Object(n),!0).forEach(function(e){Io(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ho(){}function jo(e,t){return e.onValuesPrefChange(t),e.modalShown=!1,e.setInputAreaFocus(),e.switchToEasyReadingMode(e.view.useEasyReadingMode),{showsSettings:!1}}var Uo,Wo=(Io(ge={},"C".charCodeAt(0),"copy"),Io(ge,"E".charCodeAt(0),"copyLinkUrl"),Io(ge,"P".charCodeAt(0),"paste"),Io(ge,"S".charCodeAt(0),"searchGoogle"),Io(ge,"T".charCodeAt(0),"openUrlNewTab"),ge),Ko={copy:function(e,t){t=t.selectedText;return e.doCopy(t)},copyAnsi:function(e){return e.doCopyAnsi()},paste:function(e){return e.doPaste()},searchGoogle:function(e,t){t=t.selectedText;return e.doSearchGoogle(t)},openUrlNewTab:function(e,t){t=t.aElement;return e.doOpenUrlNewTab(t)},copyLinkUrl:function(e,t){t=t.contextOnUrl;return e.doCopy(t)},selectAll:function(e){return e.doSelectAll()},mouseBrowsing:function(e){return e.switchMouseBrowsing()}},zo={open:!1,pageX:0,pageY:0,contextOnUrl:"",aElement:void 0,selectedText:"",urlEnabled:!1,normalEnabled:!1,selEnabled:!1,showsInputHelper:!1,showsLiveArticleHelper:!1,showsSettings:!1,liveHelperEnabled:!1,liveHelperSec:1},$o=_n(bn(zo,{onContextMenu:function(e,t){var a=t.pttchrome;return function(e){e.stopPropagation(),e.preventDefault();var t=a.CmdHandler;if("1"!==t.getAttribute("doDOMMouseScroll")){a.contextMenuShown=!0,window.getSelection().isCollapsed?a.lastSelection=null:a.lastSelection=a.view.getSelectionColRow();var n,o=po()(e.target),r="";o.is("a")?(r=o.attr("href"),n=o[0]):o.parent().is("a")&&(r=o.parent().attr("href"),n=o[0].parentNode);var i=window.getSelection().toString().replace(/\u00a0/g," "),s=!!r,o=!s&&window.getSelection().isCollapsed;return{open:open,pageX:e.pageX,pageY:e.pageY,contextOnUrl:r,aElement:n,selectedText:i,urlEnabled:s,normalEnabled:o,selEnabled:!o}}t.setAttribute("doDOMMouseScroll","0")}},onHide:function(e,t){var n=t.pttchrome;return function(){if(e.open)return n.contextMenuShown=!1,zo}},onMenuSelect:function(n,e){var o=e.pttchrome;return function(e,t){return Ko[e](o,n),t.stopPropagation(),o.contextMenuShown=!1,zo}},onInputHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,Fo(Fo({},zo),{},{showsInputHelper:!0})}},onLiveArticleHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,Fo(Fo({},zo),{},{showsLiveArticleHelper:!0})}},onSettingsClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,n.onDisableLiveHelperModalState(),n.modalShown=!0,Fo(Fo({},zo),{},{showsSettings:!0})}},onQuickSearchSelect:function(e,t){var n=t.pttchrome,o=t.selectedText;return function(e,t){e=e.replace("%s",o);return window.open(e),t.stopPropagation(),n.contextMenuShown=!1,zo}},onInputHelperHide:function(e,t){t.pttchrome;return function(){return{showsInputHelper:!1}}},onInputHelperReset:function(e,t){var n=t.pttchrome;return function(){n.conn.send("[m")}},onInputHelperCmdSend:function(e,t){var i=t.pttchrome;return function(e){var t,n,o,r;window.getSelection().isCollapsed||6!=i.buf.pageState||(t=i.view.getSelectionColRow(),o="",o+="[H",(n=i.buf.cur_y)>t.end.row?o+="[A".repeat(n-t.end.row):n<t.end.row&&(o+="[B".repeat(t.end.row-n)),r=i.buf.getRowText(t.end.row,0,t.end.col).length,o+="[C".repeat(r)+"[m",o+="[H",(n=t.end.row)>t.start.row?o+="[A".repeat(n-t.start.row):n<t.start.row&&(o+="[B".repeat(t.start.row-n)),r=i.buf.getRowText(t.start.row,0,t.start.col).length,e=(o+="[C".repeat(r))+e),i.conn.send(e)}},onInputHelperConvSend:function(e,t){var n=t.pttchrome;return function(e){n.conn.convSend(e)}},onLiveHelperHide:function(e,t){var n=t.pttchrome;return function(e){return n.setAutoPushthreadUpdate(-1),{showsLiveArticleHelper:!1,liveHelperEnabled:!1}}},onLiveHelperChange:function(e,t){var n=t.pttchrome;return function(e){return e.enabled?(n.view.useEasyReadingMode=!1,n.switchToEasyReadingMode(),n.setAutoPushthreadUpdate(e.sec)):n.setAutoPushthreadUpdate(-1),{liveHelperEnabled:e.enabled,liveHelperSec:e.sec}}},onPrefSave:function(e,t){var n=t.pttchrome;return function(e){return jo(n,e)}},onPrefReset:function(e,t){var n=t.pttchrome;return function(e){return n.view.redraw(!0),jo(n,e)}}}),(Uo=function(e){var t=e.pttchrome,n=e.liveHelperEnabled,o=e.onLiveHelperChange;n?(t.onToggleLiveHelperModalState=function(){o({enabled:!state.enabled,sec:state.sec})},t.onDisableLiveHelperModalState=function(){o({enabled:!1,sec:state.sec})}):t.onToggleLiveHelperModalState=t.onDisableLiveHelperModalState=Ho},mn(function(e){return Y({},e,"function"==typeof Uo?Uo(e):Uo)})),vn({componentDidMount:function(){var n=this;this.contextMenuHandler=function(e){n.props.onContextMenu(e)},document.getElementById("BBSWindow").addEventListener("contextmenu",this.contextMenuHandler,!0),this.clickHandler=function(){n.props.onHide()},window.addEventListener("click",this.clickHandler,!1),this.touchStartHandler=function(e){"menuitem"!==e.target.getAttribute("role")&&n.props.onHide()},window.addEventListener("touchstart",this.touchStartHandler,!1),this.hotKeyUpHandler=function(e){var t;n.props.open&&(e.preventDefault(),e.stopPropagation(),e.altKey||e.ctrlKey||e.shiftKey||(t=Wo[e.keyCode])&&n.props.onMenuSelect(t,e))},window.addEventListener("keyup",this.hotKeyUpHandler,!1)},componentWillUnmount:function(){window.removeEventListener("keyup",this.hotKeyUpHandler,!1),window.removeEventListener("touchstart",this.touchStartHandler,!1),window.removeEventListener("click",this.clickHandler,!1),document.BBSWindow.removeEventListener("keyup",this.contextMenuHandler,!1)}}))(function(e){var t=e.pttchrome,n=e.pageX,o=e.pageY,r=e.open,i=e.urlEnabled,s=e.normalEnabled,a=e.selEnabled,l=e.selectedText,c=e.onMenuSelect,u=e.onInputHelperClick,f=e.onLiveArticleHelperClick,d=e.onSettingsClick,p=e.onQuickSearchSelect,h=e.showsInputHelper,m=e.showsLiveArticleHelper,y=e.showsSettings,g=e.liveHelperEnabled,b=e.liveHelperSec,v=e.onInputHelperHide,w=e.onInputHelperReset,_=e.onInputHelperCmdSend,x=e.onInputHelperConvSend,E=e.onLiveHelperHide,C=e.onLiveHelperChange,S=e.onPrefSave,e=e.onPrefReset;return ne.a.createElement(ne.a.Fragment,null,ne.a.createElement("div",{className:q()({open:r})},ne.a.createElement(yo,{pageX:n,pageY:o,urlEnabled:i,normalEnabled:s,selEnabled:a,mouseBrowsingEnabled:t.buf.useMouseBrowsing,selectedText:l,onMenuSelect:c,onInputHelperClick:u,onLiveArticleHelperClick:f,onSettingsClick:d,onQuickSearchSelect:p})),ne.a.createElement(Do,{show:h,onHide:v,onReset:w,onCmdSend:_,onConvSend:x}),ne.a.createElement(Ao,{show:m,onHide:E,enabled:g,sec:b,onChange:C}),ne.a.createElement(so,{show:y,onSave:S,onReset:e}))});function qo(){}var Go=function(){var t=this;this.CmdHandler=document.getElementById("cmdHandler"),this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.CmdHandler.setAttribute("doDOMMouseScroll","0"),this.CmdHandler.setAttribute("SkipMouseClick","0"),this.view=new cn,this.buf=new Vt(80,24),this.buf.setView(this.view),this.view.setBuf(this.buf),this.view.setCore(this),this.parser=new We(this.buf),this.easyReading=new ao(this,this.view,this.buf),this.antiIdleTime=0,this.idleTime=0,this.curX=0,this.curY=0,this.inputArea=document.getElementById("t"),this.BBSWin=document.getElementById("BBSWindow"),this.BBSWin.setAttribute("align","center"),this.view.mainDisplay.style.transformOrigin="center",this.mouseLeftButtonDown=!1,this.mouseRightButtonDown=!1,this.inputAreaFocusTimer=null,this.modalShown=!1,this.lastSelection=null,this.waterball={userId:"",message:""},this.appFocused=!0,this.endTurnsOnLiveUpdate=!1,this.copyOnSelect=!1;var e=window.navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);e&&2<e.length&&(this.chromeVersion=parseInt(e[2],10));var n=this;window.addEventListener("click",function(e){n.mouse_click(e)},!1),window.addEventListener("mousedown",function(e){n.mouse_down(e)},!1),$(window).mousedown(function(e){if(!1===n.middleMouse_down(e))return!1}),window.addEventListener("mouseup",function(e){n.mouse_up(e)},!1),document.addEventListener("mousemove",function(e){n.mouse_move(e)},!1),document.addEventListener("mouseover",function(e){n.mouse_over(e)},!1),"onwheel"in window?window.addEventListener("wheel",function(e){n.mouse_scroll(e)},!0):window.addEventListener("mousewheel",function(e){n.mouse_scroll(e)},!0),window.addEventListener("focus",function(e){n.appFocused=!0,n.view.titleTimer&&(n.view.titleTimer.cancel(),n.view.titleTimer=null,document.title=n.connectedUrl.site,n.view.notif.close())},!1),window.addEventListener("blur",function(e){n.appFocused=!1},!1),this.strToCopy=null,document.addEventListener("copy",function(e){n.onDOMCopy(e)}),this.inputArea.addEventListener("paste",function(e){n.onDOMPaste(e)}),this.view.innerBounds=this.getWindowInnerBounds(),this.view.firstGridOffset=this.getFirstGridOffsets(),window.onresize=function(){n.onWindowResize()},window.addEventListener("beforeunload",function(e){if(t.conn&&t.conn.isConnected&&0!=t.buf.pageState)return e.returnValue="You are currently connected. Are you sure?",e.returnValue}),this.dblclickTimer=null,this.mbTimer=null,this.timerEverySec=null,this.pushthreadAutoUpdateCount=0,this.maxPushthreadAutoUpdateCount=-1,this.onWindowResize(),this.setupContextMenus(),this.contextMenuShown=!1,this.chromeVersion&&37<=this.chromeVersion&&(this.touch=new lo(this))};function Xo(){rn();var e=new Go;Promise.resolve().then(function(){e.connect(function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]==e)return decodeURIComponent(o[1])}return null}("site")||"wsstelnet://ws.ccns.ncku.edu.tw/bbs"),console.log("load pref from storage"),e.onValuesPrefChange(ro()),e.setInputAreaFocus(),$("#BBSWindow").show(),e.onWindowResize()})}function Yo(t){return fetch(t).then(function(e){if(!e.ok)throw new Error("loadTable failed: "+e.statusText+": "+t);return e.arrayBuffer()})}Go.prototype.isConnected=function(){return 1==this.connectState&&!!this.conn},Go.prototype.connect=function(e){this.connectState=0,console.log("connect: "+e);var t=this._parseURLSimple(e);if("wsstelnet"==t.protocol)this._setupWebsocketConn("wss://"+t.hostname+t.path);else{if("wstelnet"!=t.protocol)return void console.log("unsupport connect url protocol: "+parser.protocol);this._setupWebsocketConn("ws://"+t.hostname+t.path)}this.connectedUrl={url:e,site:t.hostname,port:t.port,easyReadingSupported:!0}},Go.prototype._parseURLSimple=function(e){var t=e.split(/:\/\//,2);if(2!=t.length)return null;var n=t[1].split(/\//,2),o=n[0].split(/:/);if(2<o)return null;e=1<o.length?parseInt(o[1]):{wstelnet:80,wsstelnet:443,telnet:23,ssh:22}[t[0]];return{protocol:t[0],hostname:n[0],host:o[0],port:e,path:"/"+(1<n.length?n[1]:"")}},Go.prototype._setupWebsocketConn=function(e){e=new dn(e);this._attachConn(new fn(e))},Go.prototype._attachConn=function(t){var n=this;this.conn=t,this.conn.addEventListener("open",this.onConnect.bind(this)),this.conn.addEventListener("close",this.onClose.bind(this)),this.conn.addEventListener("data",function(e){n.onData(e.detail.data)}),this.conn.addEventListener("doNaws",function(e){t.sendWillNaws(),t.sendNaws(n.buf.cols,n.buf.rows)})},Go.prototype.onConnect=function(){this.conn.isConnected=!0,this.view.setConn(this.conn),console.info("pttchrome onConnect"),this.connectState=1,this.updateTabIcon("connect"),this.idleTime=0;var e=this;this.timerEverySec=sn(!0,function(){e.antiIdle(),e.view.onBlink(),e.incrementCountToUpdatePushthread()},1e3)},Go.prototype.onData=function(e){var t,n;this.parser.feed(e),!this.appFocused&&this.view.enableNotifications&&(t=ut(e),n=new RegExp(/\x1b\[1;33;46m\u2605(\w+)\x1b\[0;1;37;45m (.+) \x1b\[m\x1b\[K/g),(e=(e=n.exec(t))&&3==e.length?{userId:e[1],message:e[2]}:(e=(n=new RegExp(/\x1b\[24;\d{2}H\x1b\[1;37;45m([^\x1b]+)(?:\x1b\[24;18H)?\x1b\[m/g)).exec(t))&&2==e.length?{message:e[1]}:null)&&("userId"in e&&(this.waterball.userId=e.userId),"message"in e&&(this.waterball.message=e.message),this.view.showWaterballNotification()))},Go.prototype.onClose=function(){var e=this;console.info("pttchrome onClose"),this.timerEverySec&&this.timerEverySec.cancel(),this.conn.isConnected=!1,this.cancelMbTimer(),this.connectState=2,this.idleTime=0;var t=document.getElementById("reactAlert");ReactDOM.render(React.createElement(fo,{onDismiss:function(){ReactDOM.unmountComponentAtNode(t),e.connect(e.connectedUrl.url)}}),t),this.updateTabIcon("disconnect")},Go.prototype.sendData=function(e){1==this.connectState&&this.conn.convSend(e)},Go.prototype.cancelMbTimer=function(){this.mbTimer&&(this.mbTimer.cancel(),this.mbTimer=null)},Go.prototype.setMbTimer=function(){this.cancelMbTimer();var e=this;this.mbTimer=sn(!1,function(){e.mbTimer.cancel(),e.mbTimer=null,e.CmdHandler.setAttribute("SkipMouseClick","0")},100)},Go.prototype.cancelDblclickTimer=function(){this.dblclickTimer&&(this.dblclickTimer.cancel(),this.dblclickTimer=null)},Go.prototype.setDblclickTimer=function(){this.cancelDblclickTimer();var e=this;this.dblclickTimer=sn(!1,function(){e.dblclickTimer.cancel(),e.dblclickTimer=null},350)},Go.prototype.setInputAreaFocus=function(){this.modalShown||this.touch&&this.touch.touchStarted||this.inputArea.focus()},Go.prototype.onToggleLiveHelperModalState=qo,Go.prototype.onDisableLiveHelperModalState=qo,Go.prototype.switchToEasyReadingMode=function(e){this.easyReading.leaveCurrentPost(),e?(this.onDisableLiveHelperModalState(),this.buf.pageLines=[],3==this.buf.pageState&&this.view.conn.send("[D[C")):(this.view.mainContainer.style.paddingBottom="",this.view.lastRowIndex=22,this.view.lastRowDiv.style.display="",this.view.replyRowDiv.style.display="",this.buf.pageLines=[]),this.view.conn.send(function(e){for(var t="",n=0;n<e.length;++n){var o,r=e.charAt(n),i=e.charAt(n+1);if(n==e.length-1){t+=r;break}"\\"!=r||"\\"!=i&&"^"!=i?"^"==r?"@"<=i&&i<="_"?(o=e.charCodeAt(n+1)-64,t+=String.fromCharCode(o),n++):"?"==i?(t+="",n++):t+="^":t+=r:t+=i}return t}("^L"))},Go.prototype.doCopy=function(e){e.indexOf("")<0&&(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/ +\r/g,"\r")),this.strToCopy=e,document.execCommand("copy")},Go.prototype.doCopyAnsi=function(){if(this.lastSelection){var e=this.lastSelection,t=null;this.view.useEasyReadingMode&&3==this.buf.pageState&&(t=this.buf.pageLines);var n="";if(e.start.row==e.end.row)n+=this.buf.getText(e.start.row,e.start.col,e.end.col,!0,!0,!1,t);else for(var o=e.start.row;o<=e.end.row;++o){var r=0,i=this.buf.cols-1;o==e.start.row?r=e.start.col:o==e.end.row&&(i=e.end.col),n+=this.buf.getText(o,r,i,!0,!0,!1,t),o!=e.end.row&&(n+="\r")}this.doCopy(n)}},Go.prototype.onDOMCopy=function(e){this.strToCopy&&(e.clipboardData.setData("text",this.strToCopy),e.preventDefault(),console.log("copied: ",this.strToCopy),this.strToCopy=null)},Go.prototype.doPaste=function(){var t=this;navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(function(e){return t.onPasteDone(e)},function(){return t.showPasteUnimplemented()}):this.showPasteUnimplemented()},Go.prototype.showPasteUnimplemented=function(){function e(){ReactDOM.unmountComponentAtNode(n),t.modalShown=!1}var t=this,n=document.getElementById("reactAlert");ReactDOM.render(React.createElement(R,{show:!0,onExited:e,backdropClassName:"modal-backdrop",containerClassName:"modal-open",transition:fe,dialogTransitionTimeout:Ue.TRANSITION_DURATION,backdropTransitionTimeout:Ue.BACKDROP_TRANSITION_DURATION},React.createElement(co,{onDismiss:e})),n),this.modalShown=!0},Go.prototype.onPasteDone=function(e){this.view.onTextInput(e,!0)},Go.prototype.onDOMPaste=function(e){var t=e.clipboardData.getData("text");t&&(e.preventDefault(),this.onPasteDone(t))},Go.prototype.onSymFont=function(e){console.log("using "+(e?"extension":"system")+" font");var t="@font-face { font-family: MingLiUNoGlyph; "+(e?"src: url("+e.data+");":"")+" }",e=document.createElement("style");e.type="text/css",e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)},Go.prototype.doSelectAll=function(){window.getSelection().selectAllChildren(this.view.mainDisplay)},Go.prototype.doSearchGoogle=function(e){window.open("http://google.com/search?q="+e)},Go.prototype.doOpenUrlNewTab=function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!1,0,null),e.dispatchEvent(t)},Go.prototype.incrementCountToUpdatePushthread=function(e){-1!=this.maxPushthreadAutoUpdateCount?++this.pushthreadAutoUpdateCount>=this.maxPushthreadAutoUpdateCount&&(this.pushthreadAutoUpdateCount=0,3!=this.buf.pageState&&2!=this.buf.pageState||this.view.conn.send("[D[C[4~")):this.pushthreadAutoUpdateCount=0},Go.prototype.setAutoPushthreadUpdate=function(e){this.maxPushthreadAutoUpdateCount=e},Go.prototype.onWindowResize=function(){var e=this;this.view.innerBounds=this.getWindowInnerBounds(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizer?this.resizeTimeout=setTimeout(function(){e.resizeTimeout=null,e.resizer&&e.resizer()},500):this.view.fontResize()},Go.prototype.setTermSize=function(e,t){this.buf.cols==e&&this.buf.rows==t||(this.buf.resize(e,t),this.conn&&this.conn.sendNaws(e,t))},Go.prototype.switchMouseBrowsing=function(){"1"==this.CmdHandler.getAttribute("useMouseBrowsing")?(this.CmdHandler.setAttribute("useMouseBrowsing","0"),this.buf.useMouseBrowsing=!1):(this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.buf.useMouseBrowsing=!0),this.buf.useMouseBrowsing?(this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos()):(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0)},Go.prototype.antiIdle=function(){this.antiIdleTime&&this.idleTime>this.antiIdleTime?1==this.connectState&&(this.conn.send(""),this.idleTime=0):1==this.connectState&&(this.idleTime+=1e3)},Go.prototype.updateTabIcon=function(e){var t=o(28);switch(e){case"connect":t=o(28),this.setInputAreaFocus();break;case"disconnect":t=o(28)}e=document.querySelector("link[rel~='icon']");e?e.setAttribute("href",t):((e=document.createElement("link")).setAttribute("rel","icon"),e.setAttribute("href",t),document.head.appendChild(e))},Go.prototype.getWindowInnerBounds=function(){return{width:document.documentElement.clientWidth-2*this.view.bbsViewMargin,height:document.documentElement.clientHeight-2*this.view.bbsViewMargin}},Go.prototype.getFirstGridOffsets=function(){var e=$(".main")[0];return{top:e.offsetTop,left:e.offsetLeft}},Go.prototype.clientToPos=function(e,t){var n=this.view.innerBounds.width,o=this.view.innerBounds.height,t=1!=this.view.scaleX||1!=this.view.scaleY?(r=e-(n-this.view.chw*this.buf.cols*this.view.scaleX)/2,t-(o-this.view.chh*this.buf.rows*this.view.scaleY)/2):(r=e-parseFloat(this.view.firstGridOffset.left),t-parseFloat(this.view.firstGridOffset.top)),r=Math.floor(r/(this.view.chw*this.view.scaleX)),t=Math.floor(t/(this.view.chh*this.view.scaleY));return t<0?t=0:t>=this.buf.rows-1&&(t=this.buf.rows-1),r<0?r=0:r>=this.buf.cols-1&&(r=this.buf.cols-1),{col:r,row:t}},Go.prototype.onMouse_click=function(e){var t=e.clientX,n=e.clientY;if(this.conn&&this.conn.isConnected&&(this.onDisableLiveHelperModalState(),this.easyReading._onMouseClick(e),!e.defaultPrevented))switch(this.buf.mouseCursor){case 1:this.conn.send("[D");break;case 2:this.conn.send("[5~");break;case 3:this.conn.send("[6~");break;case 4:this.conn.send("[1~");break;case 5:this.conn.send("[4~");break;case 6:if(-1!=this.buf.nowHighlight){var o="";if(this.buf.cur_y>this.buf.nowHighlight)for(var r=this.buf.cur_y-this.buf.nowHighlight,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<this.buf.nowHighlight)for(r=this.buf.nowHighlight-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r")}break;case 7:var s=this.clientToPos(t,n),o="";if(this.buf.cur_y>s.row)for(r=this.buf.cur_y-s.row,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<s.row)for(r=s.row-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r");break;case 0:this.conn.send("[D");break;case 8:this.conn.send("[");break;case 9:this.conn.send("]");break;case 10:this.conn.send("=");break;case 12:this.conn.send("[D\r[4~");break;case 13:this.conn.send("[D\r[4~[]");break;case 14:this.conn.send("[D[4~[]\r")}},Go.prototype.onMouse_move=function(e,t){t=this.clientToPos(e,t);this.buf.onMouse_move(t.col,t.row,!1)},Go.prototype.resetMouseCursor=function(e,t){this.buf.BBSWin.style.cursor="auto",this.buf.mouseCursor=11},Go.prototype.onValuesPrefChange=function(e){var t,n=this;for(t in e)this.onPrefChange(t,e[t]);try{switch(this.resizer=null,e.termSizeMode){case"fixed-term-size":this.view.fontFitWindowWidth=e.fontFitWindowWidth;var o=e.termSize;this.setTermSize(o.cols,o.rows),this.view.fontResize(),this.view.redraw(!0);break;case"fixed-font-size":this.view.fontFitWindowWidth=!1;var r=e.fontSize;this.resizer=function(){var e=n.view.calcTermSizeFromFont(r);n.setTermSize(e.cols,e.rows),n.view.fixedResize(r),n.view.redraw(!0)},this.resizer();break;case"max-font-size":this.view.fontFitWindowWidth=!1;var i=e.fontSize,s=80,a=24;this.resizer=function(){var e=n.view.calcFontSizeFromTerm(s,a),t=Math.min(e,i),e=n.view.calcTermSizeFromFont(t);n.setTermSize(e.cols,e.rows),n.view.fixedResize(t),n.view.redraw(!0)},this.resizer()}this.view.fontFitWindowWidth?$(".main").addClass("trans-fix"):$(".main").removeClass("trans-fix")}catch(e){}},Go.prototype.onPrefChange=function(e,t){try{switch(e){case"useMouseBrowsing":var n=t;this.CmdHandler.setAttribute("useMouseBrowsing",n?"1":"0"),this.buf.useMouseBrowsing=n,this.buf.useMouseBrowsing||(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0),this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlight":this.buf.highlightCursor=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlightColor":this.view.highlightBG=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseLeftFunction":this.view.leftButtonFunction=t,"boolean"==typeof this.view.leftButtonFunction&&(this.view.leftButtonFunction=this.view.leftButtonFunction?1:0);break;case"mouseMiddleFunction":this.view.middleButtonFunction=t;break;case"mouseWheelFunction1":this.view.mouseWheelFunction1=t;break;case"mouseWheelFunction2":this.view.mouseWheelFunction2=t;break;case"mouseWheelFunction3":this.view.mouseWheelFunction3=t;break;case"copyOnSelect":this.copyOnSelect=t;break;case"endTurnsOnLiveUpdate":this.endTurnsOnLiveUpdate=t;break;case"enablePicPreview":this.view.enablePicPreview=t;break;case"enableNotifications":this.view.enableNotifications=t;break;case"enableEasyReading":break;case"antiIdleTime":this.antiIdleTime=1e3*t;break;case"dbcsDetect":this.view.dbcsDetect=t;break;case"lineWrap":this.conn.lineWrap=t;break;case"fontFace":var o=(o=t)||"monospace";this.view.setFontFace(o);break;case"bbsMargin":this.view.bbsViewMargin=t,this.onWindowResize()}}catch(e){return}},Go.prototype.checkClass=function(e){return 0<=e.indexOf("closeSI")||0<=e.indexOf("EPbtn")||0<=e.indexOf("closePP")||0<=e.indexOf("picturePreview")||0<=e.indexOf("drag")||0<=e.indexOf("floatWindowClientArea")||0<=e.indexOf("WinBtn")||0<=e.indexOf("sBtn")||0<=e.indexOf("nonspan")||0<=e.indexOf("nomouse_command")},Go.prototype.mouse_click=function(e){var t,n;this.modalShown||(n="1"==this.CmdHandler.getAttribute("SkipMouseClick"),this.CmdHandler.setAttribute("SkipMouseClick","0"),2==e.button||(0===e.button?$(e.target).is("a")||$(e.target).parent().is("a")||window.getSelection().isCollapsed&&(this.buf.useMouseBrowsing?(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),e.target.tagName&&0<=e.target.tagName.indexOf("menuitem")&&(t=!1),n&&(t=!1,n=this.clientToPos(e.clientX,e.clientY),this.buf.onMouse_move(n.col,n.row,!0)),t&&(this.onMouse_click(e),this.setDblclickTimer(),e.preventDefault(),this.setInputAreaFocus())):this.view.leftButtonFunction&&(1==this.view.leftButtonFunction?(this.setBBSCmd("doEnter",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()):2==this.view.leftButtonFunction&&(this.setBBSCmd("doRight",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()))):e.button))},Go.prototype.middleMouse_down=function(e){if(1==e.button&&!$(e.target).is("a")&&!$(e.target).parent().is("a"))return 1==this.view.middleButtonFunction?(this.conn.send("\r"),!1):2==this.view.middleButtonFunction?(this.conn.send("[D"),!1):3==this.view.middleButtonFunction?(this.doPaste(),!1):void 0},Go.prototype.mouse_down=function(e){this.modalShown||(0===e.button?(this.buf.useMouseBrowsing&&(this.dblclickTimer&&(e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0),this.setDblclickTimer()),this.mouseLeftButtonDown=!0,window.getSelection().isCollapsed||this.CmdHandler.setAttribute("SkipMouseClick","1"),e.target.className&&this.checkClass(e.target.className),e.target.tagName&&e.target.tagName.indexOf("menuitem")):2==e.button&&(this.mouseRightButtonDown=!0))},Go.prototype.mouse_up=function(e){var t,n;this.modalShown||(0===e.button?(this.setMbTimer(),this.mouseLeftButtonDown=!1):2==e.button&&(this.mouseRightButtonDown=!1),0===e.button||2==e.button?window.getSelection().isCollapsed?(this.buf.useMouseBrowsing&&this.onMouse_move(e.clientX,e.clientY),this.setInputAreaFocus(),0===e.button&&(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),(t=e.target.tagName&&0<=e.target.tagName.indexOf("menuitem")?!1:t)&&e.preventDefault())):this.copyOnSelect&&this.doCopy(window.getSelection().toString().replace(/\u00a0/g," ")):(this.setInputAreaFocus(),e.preventDefault()),(n=this).inputAreaFocusTimer=sn(!1,function(){clearTimeout(n.inputAreaFocusTimer),n.inputAreaFocusTimer=null,window.getSelection().isCollapsed&&n.setInputAreaFocus()},10))},Go.prototype.mouse_move=function(e){this.buf.useMouseBrowsing&&(window.getSelection().isCollapsed?this.mouseLeftButtonDown||this.onMouse_move(e.clientX,e.clientY):this.resetMouseCursor())},Go.prototype.mouse_over=function(e){this.modalShown||(this.curX=e.clientX,this.curY=e.clientY,window.getSelection().isCollapsed&&!this.mouseLeftButtonDown&&this.setInputAreaFocus())},Go.prototype.mouse_scroll=function(e){var t,n;this.modalShown||this.view.useEasyReadingMode&&3==this.buf.pageState||(t=["none","doArrowUp","doPageUp","previousThread"],n=["none","doArrowDown","doPageDown","nextThread"],n=e.deltaY<0||0<e.wheelDelta?this.mouseRightButtonDown?t[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?t[this.view.mouseWheelFunction3]:t[this.view.mouseWheelFunction1]:this.mouseRightButtonDown?n[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?n[this.view.mouseWheelFunction3]:n[this.view.mouseWheelFunction1],this.setBBSCmd(n),e.stopPropagation(),e.preventDefault(),this.mouseRightButtonDown&&this.CmdHandler.setAttribute("doDOMMouseScroll","1"),this.mouseLeftButtonDown&&this.buf.useMouseBrowsing&&this.CmdHandler.setAttribute("SkipMouseClick","1"))},Go.prototype.setBBSCmd=function(e){switch(e){case"doArrowUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?0===this.view.mainDisplay.scrollTop?(this.easyReading.leaveCurrentPost(),this.conn.send("[D[A[C")):this.view.mainDisplay.scrollTop-=this.view.chh:this.conn.send("[A");break;case"doArrowDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[B")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("[B");break;case"doPageUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop-=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[5~");break;case"doPageDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[6~");break;case"previousThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("[")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("[");break;case"nextThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("]")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("]");break;case"doEnter":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("\r")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("\r");break;case"doRight":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[C")):this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[C")}},Go.prototype.setupContextMenus=function(){ReactDOM.render(React.createElement($o,{pttchrome:this}),document.getElementById("cmenuReact"))},Promise.all([Yo(o(174)),Yo(o(175))]).then(function(e){window.lib=window.lib||{},window.lib.b2uArray=new Uint8Array(e[0]),window.lib.u2bArray=new Uint8Array(e[1]),$(document).ready(Xo)},function(e){console.log("loadResources failed: "+e)})}]);
//# sourceMappingURL=pttchrome.8874deb05f1a326342e2.js.map